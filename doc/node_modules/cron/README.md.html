<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/cron/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#node-cron">node-cron</a>
      </div>

      <div class="heading h1">
        <a href="#if-you-are-submitting-bugsissues">If You Are Submitting Bugs/Issues</a>
      </div>

      <div class="heading h1">
        <a href="#versions-and-backwards-compatibility-breaks">Versions and Backwards compatibility breaks:</a>
      </div>

      <div class="heading h1">
        <a href="#usage-basic-cron-usage">Usage (basic cron usage):</a>
      </div>

      <div class="heading h1">
        <a href="#available-cron-patterns">Available Cron patterns:</a>
      </div>

      <div class="heading h1">
        <a href="#cron-ranges">Cron Ranges</a>
      </div>

      <div class="heading h1">
        <a href="#another-cron-example">Another cron example</a>
      </div>

      <div class="heading h1">
        <a href="#another-example-with-date">Another example with Date</a>
      </div>

      <div class="heading h1">
        <a href="#for-good-measure">For good measure</a>
      </div>

      <div class="heading h1">
        <a href="#how-to-check-if-a-cron-pattern-is-valid">How to check if a cron pattern is valid:</a>
      </div>

      <div class="heading h1">
        <a href="#install">Install</a>
      </div>

      <div class="heading h1">
        <a href="#api">API</a>
      </div>

      <div class="heading h1">
        <a href="#contributors">Contributors</a>
      </div>

      <div class="heading h1">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="node-cron">
  <h1>
    <a href="#node-cron" name="node-cron" class="pilcrow"></a>
node-cron
  </h1>
</div>
<p><a href="http://travis-ci.org/#!/ncb000gt/node-cron"><img src="https://secure.travis-ci.org/ncb000gt/node-cron.svg?branch=master" alt="Build Status"></a>
<a href="https://app.wercker.com/project/bykey/0cadfe5d45ad7bc819efb636026cf230"><img src="https://app.wercker.com/status/0cadfe5d45ad7bc819efb636026cf230/s" alt="wercker status" title="wercker status"></a>
<a href="https://david-dm.org/ncb000gt/node-cron"><img src="https://david-dm.org/ncb000gt/node-cron.svg" alt="Dependency Status"></a></p>
<p>Originally this project was a NodeJS fork of <a href="http://github.com/padolsey">James Padolsey's</a> <a href="http://github.com/padolsey/cron.js">cron.js</a>.</p>
<p>After <a href="http://github.com/crcn">Craig Condon</a> made some updates and changes to the code base this has evolved to something that has a bit of both. The cron syntax parsing is mostly James' while using timeout instead of interval is Craig's.</p>
<p>Additionally, this library goes beyond the basic cron syntax and allows you to supply a Date object. This will be used as the trigger for your callback. Cron syntax is still an acceptable CronTime format. Although the Cron patterns suported here extend on the standard Unix format to support seconds digits, leaving it off will default to 0 and match the Unix behavior.</p>
<div class="pilwrap" id="if-you-are-submitting-bugsissues">
  <h1>
    <a href="#if-you-are-submitting-bugsissues" name="if-you-are-submitting-bugsissues" class="pilcrow"></a>
If You Are Submitting Bugs/Issues
  </h1>
</div>
<p>Because we can't magically know what you are doing to expose an issue, it is best if you provide a snippet of code. This snippet need not include your secret sauce, but it must replicate the issue you are describing. The issues that get closed without resolution tend to be the ones without code examples. Thanks.</p>
<div class="pilwrap" id="versions-and-backwards-compatibility-breaks">
  <h1>
    <a href="#versions-and-backwards-compatibility-breaks" name="versions-and-backwards-compatibility-breaks" class="pilcrow"></a>
Versions and Backwards compatibility breaks:
  </h1>
</div>
<p>As goes with semver, breaking backwards compatibility should be explicit in the versioning of your library. As such, we'll upgrade the version of this module in accordance with breaking changes (I'm not always great about doing it this way so if you notice that there are breaking changes that haven't been bumped appropriately please let me know). This table lists out the issues which were the reason for the break in backward compatibility.</p>
<table>
<tr>
<td>Node Cron Ver</td><td>Issue #</td>
</tr>
<tr>
<td>1.0.0</td><td><ul><li><a href="https://github.com/ncb000gt/node-cron/pull/41">GH-41</a></li><li><a href="https://github.com/ncb000gt/node-cron/pull/36">GH-36</a></li></ul></td>
</tr>
</table>
<div class="pilwrap" id="usage-basic-cron-usage">
  <h1>
    <a href="#usage-basic-cron-usage" name="usage-basic-cron-usage" class="pilcrow"></a>
Usage (basic cron usage):
  </h1>
</div>
<pre><code class="javascript"><span class="hljs-keyword">var</span> CronJob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cron'</span>).CronJob;
<span class="hljs-keyword">new</span> CronJob(<span class="hljs-string">'* * * * * *'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'You will see this message every second'</span>);
}, <span class="hljs-literal">null</span>, <span class="hljs-literal">true</span>, <span class="hljs-string">'America/Los_Angeles'</span>);
</code></pre>
<p>Note - You need to explictly start a job in order to make it run. This gives a little more control over running your jobs.</p>
<div class="pilwrap" id="available-cron-patterns">
  <h1>
    <a href="#available-cron-patterns" name="available-cron-patterns" class="pilcrow"></a>
Available Cron patterns:
  </h1>
</div>
<pre><code>Asterisk. E.g. *
Ranges. E.g. 1-3,5
Steps. E.g. */2
</code></pre>
<p><a href="http://crontab.org">Read up on cron patterns here</a>. Note the examples in the
link have five fields, and 1 minute as the finest granularity, but this library
has six fields, with 1 second as the finest granularity.</p>
<div class="pilwrap" id="cron-ranges">
  <h1>
    <a href="#cron-ranges" name="cron-ranges" class="pilcrow"></a>
Cron Ranges
  </h1>
</div>
<p>When specifying your cron values you'll need to make sure that your values fall within the ranges. For instance, some cron's use a 0-7 range for the day of week where both 0 and 7 represent Sunday. We do not.</p>
<ul>
<li>Seconds: 0-59</li>
<li>Minutes: 0-59</li>
<li>Hours: 0-23</li>
<li>Day of Month: 1-31</li>
<li>Months: 0-11</li>
<li>Day of Week: 0-6</li>
</ul>
<div class="pilwrap" id="another-cron-example">
  <h1>
    <a href="#another-cron-example" name="another-cron-example" class="pilcrow"></a>
Another cron example
  </h1>
</div>
<pre><code class="javascript"><span class="hljs-keyword">var</span> CronJob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cron'</span>).CronJob;
<span class="hljs-keyword">var</span> job = <span class="hljs-keyword">new</span> CronJob(<span class="hljs-string">'00 30 11 * * 1-5'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">/*
   * Runs every weekday (Monday through Friday)
   * at 11:30:00 AM. It does not run on Saturday
   * or Sunday.
   */</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/* This function is executed when the job stops */</span>
  },
  <span class="hljs-literal">true</span>, <span class="hljs-comment">/* Start the job right now */</span>
  timeZone <span class="hljs-comment">/* Time zone of this job. */</span>
);
</code></pre>
<div class="pilwrap" id="another-example-with-date">
  <h1>
    <a href="#another-example-with-date" name="another-example-with-date" class="pilcrow"></a>
Another example with Date
  </h1>
</div>
<pre><code class="javascript"><span class="hljs-keyword">var</span> CronJob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cron'</span>).CronJob;
<span class="hljs-keyword">var</span> job = <span class="hljs-keyword">new</span> CronJob(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(), <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-comment">/* runs once at the specified date. */</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/* This function is executed when the job stops */</span>
  },
  <span class="hljs-literal">true</span>, <span class="hljs-comment">/* Start the job right now */</span>
  timeZone <span class="hljs-comment">/* Time zone of this job. */</span>
);
</code></pre>
<div class="pilwrap" id="for-good-measure">
  <h1>
    <a href="#for-good-measure" name="for-good-measure" class="pilcrow"></a>
For good measure
  </h1>
</div>
<pre><code class="javascript"><span class="hljs-keyword">var</span> CronJob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cron'</span>).CronJob;
<span class="hljs-keyword">var</span> job = <span class="hljs-keyword">new</span> CronJob({
  <span class="hljs-attr">cronTime</span>: <span class="hljs-string">'00 30 11 * * 1-5'</span>,
  <span class="hljs-attr">onTick</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">/*
     * Runs every weekday (Monday through Friday)
     * at 11:30:00 AM. It does not run on Saturday
     * or Sunday.
     */</span>
  },
  <span class="hljs-attr">start</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">timeZone</span>: <span class="hljs-string">'America/Los_Angeles'</span>
});
job.start();
</code></pre>
<div class="pilwrap" id="how-to-check-if-a-cron-pattern-is-valid">
  <h1>
    <a href="#how-to-check-if-a-cron-pattern-is-valid" name="how-to-check-if-a-cron-pattern-is-valid" class="pilcrow"></a>
How to check if a cron pattern is valid:
  </h1>
</div>
<pre><code class="javascript"><span class="hljs-keyword">try</span> {
	<span class="hljs-keyword">new</span> CronJob(<span class="hljs-string">'invalid cron pattern'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
		<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'this should not be printed'</span>);
	})
} <span class="hljs-keyword">catch</span>(ex) {
	<span class="hljs-built_in">console</span>.log(<span class="hljs-string">"cron pattern not valid"</span>);
}
</code></pre>
<div class="pilwrap" id="install">
  <h1>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h1>
</div>
<pre><code>From source: `npm install`
From npm: `npm install cron`
</code></pre>
<div class="pilwrap" id="api">
  <h1>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h1>
</div>
<p>Parameter Based</p>
<p><code>CronJob</code></p>
<ul>
<li><code>constructor(cronTime, onTick, onComplete, start, timezone, context, runOnInit)</code> - Of note, the first parameter here can be a JSON object that has the below names and associated types (see examples above).
<ul>
<li><code>cronTime</code> - [REQUIRED] - The time to fire off your job. This can be in the form of cron syntax or a JS <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date">Date</a> object.</li>
<li><code>onTick</code> - [REQUIRED] - The function to fire at the specified time.</li>
<li><code>onComplete</code> - [OPTIONAL] - A function that will fire when the job is complete, when it is stopped.</li>
<li><code>start</code> - [OPTIONAL] - Specifies whether to start the job just before exiting the constructor. By default this is set to false. If left at default you will need to call <code>job.start()</code> in order to start the job (assuming <code>job</code> is the variable you set the cronjob to). This does not immediately fire your <code>onTick</code> function, it just gives you more control over the behavior of your jobs.</li>
<li><code>timeZone</code> - [OPTIONAL] - Specify the timezone for the execution. This will modify the actual time relative to your timezone. If the timezone is invalid, an error is thrown.</li>
<li><code>context</code> - [OPTIONAL] - The context within which to execute the onTick method. This defaults to the cronjob itself allowing you to call <code>this.stop()</code>. However, if you change this you'll have access to the functions and values within your context object.</li>
<li><code>runOnInit</code> - [OPTIONAL] - This will immediately fire your <code>onTick</code> function as soon as the requisit initialization has happened. This option is set to <code>false</code> by default for backwards compatability.</li>
</ul>
</li>
<li><code>start</code> - Runs your job.</li>
<li><code>stop</code> - Stops your job.</li>
</ul>
<p><code>CronTime</code></p>
<ul>
<li><code>constructor(time)</code>
<ul>
<li><code>time</code> - [REQUIRED] - The time to fire off your job. This can be in the form of cron syntax or a JS <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Date">Date</a> object.</li>
</ul>
</li>
</ul>
<div class="pilwrap" id="contributors">
  <h1>
    <a href="#contributors" name="contributors" class="pilcrow"></a>
Contributors
  </h1>
</div>
<ul>
<li><a href="http://github.com/toots">Romain Beauxis</a></li>
<li><a href="http://github.com/padolsey">James Padolsey</a></li>
<li><a href="http://github.com/crcn">Craig Condon</a></li>
<li><a href="http://github.com/ErrorProne">Finn Herpich</a></li>
<li><a href="http://github.com/cliftonc">cliftonc</a></li>
<li><a href="http://github.com/neyric">neyric</a></li>
<li><a href="http://github.com/humanchimp">humanchimp</a></li>
<li><a href="http://github.com/danhbear">danhbear</a></li>
<li><a href="http://github.com/jordanabderrachid">Jordan Abderrachid</a></li>
</ul>
<div class="pilwrap" id="license">
  <h1>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h1>
</div>
<p>MIT</p>
</div>
  </div>
</body>
</html>
