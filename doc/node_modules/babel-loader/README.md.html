<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/babel-loader/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#babel-loader">babel-loader</a>
      </div>

      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h3">
        <a href="#options">Options</a>
      </div>

      <div class="heading h2">
        <a href="#troubleshooting">Troubleshooting</a>
      </div>

      <div class="heading h3">
        <a href="#babel-loader-is-slow">babel-loader is slow!</a>
      </div>

      <div class="heading h3">
        <a href="#babel-is-injecting-helpers-into-each-file-and-bloating-my-code">babel is injecting helpers into each file and bloating my code!</a>
      </div>

      <div class="heading h4">
        <a href="#note-transform-runtime-and-custom-polyfills-e.g.promise-library">NOTE: transform-runtime &amp;amp; custom polyfills (e.g. Promise library)</a>
      </div>

      <div class="heading h3">
        <a href="#the-node-api-for-babel-has-been-moved-to-babel-core">The node API for babel has been moved to babel-core.</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="babel-loader">
  <h1>
    <a href="#babel-loader" name="babel-loader" class="pilcrow"></a>
babel-loader
  </h1>
</div>
<p><a href="https://www.npmjs.com/package/babel-loader"><img src="https://img.shields.io/npm/v/babel-loader.svg?style=flat" alt="NPM Status"></a>
<a href="https://travis-ci.org/babel/babel-loader"><img src="https://travis-ci.org/babel/babel-loader.svg?branch=master" alt="Build Status"></a>
<a href="https://ci.appveyor.com/project/danez/babel-loader/branch/master"><img src="https://ci.appveyor.com/api/projects/status/vgtpr2i5bykgyuqo/branch/master?svg=true" alt="Build Status"></a>
<a href="https://codecov.io/gh/babel/babel-loader"><img src="https://codecov.io/gh/babel/babel-loader/branch/master/graph/badge.svg" alt="codecov"></a></p>
<blockquote>
<p>Babel is a compiler for writing next generation JavaScript.</p>
</blockquote>
<p>This package allows transpiling JavaScript files using <a href="https://github.com/babel/babel">Babel</a> and <a href="https://github.com/webpack/webpack">webpack</a>.</p>
<p><strong>Notes:</strong> Issues with the output should be reported on the babel <a href="https://github.com/babel/babel/issues">issue tracker</a>;</p>
<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow"></a>
Installation
  </h2>
</div>
<pre><code class="bash">npm install babel-loader babel-core babel-preset-es2015 webpack --save-dev
</code></pre>
<p>or</p>
<pre><code class="bash">yarn add babel-loader babel-core babel-preset-es2015 webpack --dev
</code></pre>
<p><strong>Note:</strong> <a href="https://npmjs.com">npm</a> deprecated <a href="https://github.com/npm/npm/issues/6565">auto-installing of peerDependencies</a> since npm@3, so required peer dependencies like babel-core and webpack must be listed explicitly in your <code>package.json</code>.</p>
<p><strong>Note:</strong> If you're upgrading from babel 5 to babel 6, please take a look <a href="https://medium.com/@malyw/how-to-update-babel-5-x-6-x-d828c230ec53#.yqxukuzdk">at this guide</a>.</p>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p><a href="http://webpack.github.io/docs/using-loaders.html">Documentation: Using loaders</a></p>
<p>Within your webpack configuration object, you'll need to add the babel-loader to the list of modules, like so:</p>
<pre><code class="javascript"><span class="hljs-built_in">module</span>: {
<span class="hljs-attr">loaders</span>: [
  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/(node_modules|bower_components)/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
    <span class="hljs-attr">query</span>: {
      <span class="hljs-attr">presets</span>: [<span class="hljs-string">'es2015'</span>]
    }
  }
]
}
</code></pre>
<div class="pilwrap" id="options">
  <h3>
    <a href="#options" name="options" class="pilcrow"></a>
Options
  </h3>
</div>
<p>See the <code>babel</code> <a href="http://babeljs.io/docs/usage/options/">options</a>.</p>
<p>You can pass options to the loader by writing them as a <a href="https://github.com/webpack/loader-utils">query string</a>:</p>
<pre><code class="javascript"><span class="hljs-built_in">module</span>: {
<span class="hljs-attr">loaders</span>: [
  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/(node_modules|bower_components)/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader?presets[]=es2015'</span>
  }
]
}
</code></pre>
<p>or by using the <a href="https://webpack.github.io/docs/using-loaders.html#query-parameters">query property</a>:</p>
<pre><code class="javascript"><span class="hljs-built_in">module</span>: {
<span class="hljs-attr">loaders</span>: [
  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/(node_modules|bower_components)/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
    <span class="hljs-attr">query</span>: {
      <span class="hljs-attr">presets</span>: [<span class="hljs-string">'es2015'</span>]
    }
  }
]
}
</code></pre>
<p>This loader also supports the following loader-specific option:</p>
<ul>
<li>
<p><code>cacheDirectory</code>: Default <code>false</code>. When set, the given directory will be used to cache the results of the loader. Future webpack builds will attempt to read from the cache to avoid needing to run the potentially expensive Babel recompilation process on each run. If the value is blank (<code>loader: 'babel-loader?cacheDirectory'</code>) or <code>true</code> (<code>loader: babel-loader?cacheDirectory=true</code>) the loader will use the default cache directory in <code>node_modules/.cache/babel-loader</code> or fallback to the default OS temporary file directory if no <code>node_modules</code> folder could be found in any root directory.</p>
</li>
<li>
<p><code>cacheIdentifier</code>: Default is a string composed by the babel-core's version, the babel-loader's version, the contents of .babelrc file if it exists and the value of the environment variable <code>BABEL_ENV</code> with a fallback to the <code>NODE_ENV</code> environment variable. This can be set to a custom value to force cache busting if the identifier changes.</p>
</li>
<li>
<p><code>babelrc</code>: Default <code>true</code>.  When <code>false</code>, will ignore <code>.babelrc</code> files (except those referenced by the <code>extends</code> option).</p>
</li>
</ul>
<p><strong>Note:</strong> The <code>sourceMap</code> option is ignored, instead sourceMaps are automatically enabled when webpack is configured to use them (via the <code>devtool</code> config option).</p>
<div class="pilwrap" id="troubleshooting">
  <h2>
    <a href="#troubleshooting" name="troubleshooting" class="pilcrow"></a>
Troubleshooting
  </h2>
</div>
<div class="pilwrap" id="babel-loader-is-slow">
  <h3>
    <a href="#babel-loader-is-slow" name="babel-loader-is-slow" class="pilcrow"></a>
babel-loader is slow!
  </h3>
</div>
<p>Make sure you are transforming as few files as possible. Because you are probably
matching <code>/\.js$/</code>, you might be transforming the <code>node_modules</code> folder or other unwanted
source.</p>
<p>To exclude <code>node_modules</code>, see the <code>exclude</code> option in the <code>loaders</code> config as documented above.</p>
<p>You can also speed up babel-loader by as much as 2x by using the <code>cacheDirectory</code> option.
This will cache transformations to the filesystem.</p>
<div class="pilwrap" id="babel-is-injecting-helpers-into-each-file-and-bloating-my-code">
  <h3>
    <a href="#babel-is-injecting-helpers-into-each-file-and-bloating-my-code" name="babel-is-injecting-helpers-into-each-file-and-bloating-my-code" class="pilcrow"></a>
babel is injecting helpers into each file and bloating my code!
  </h3>
</div>
<p>babel uses very small helpers for common functions such as <code>_extend</code>. By default
this will be added to every file that requires it.</p>
<p>You can instead require the babel runtime as a separate module to avoid the duplication.</p>
<p>The following configuration disables automatic per-file runtime injection in babel, instead
requiring <code>babel-plugin-transform-runtime</code> and making all helper references use it.</p>
<p>See the <a href="http://babeljs.io/docs/plugins/transform-runtime/">docs</a> for more information.</p>
<p><strong>NOTE:</strong> You must run <code>npm install babel-plugin-transform-runtime --save-dev</code> to include this in your project and <code>babel-runtime</code> itself as a dependency with <code>npm install babel-runtime --save</code>.</p>
<pre><code class="javascript">loaders: [
  <span class="hljs-comment">// the 'transform-runtime' plugin tells babel to require the runtime</span>
  <span class="hljs-comment">// instead of inlining it.</span>
  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">exclude</span>: <span class="hljs-regexp">/(node_modules|bower_components)/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
    <span class="hljs-attr">query</span>: {
      <span class="hljs-attr">presets</span>: [<span class="hljs-string">'es2015'</span>],
      <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'transform-runtime'</span>]
    }
  }
]
</code></pre>
<div class="pilwrap" id="note-transform-runtime-and-custom-polyfills-e.g.promise-library">
  <h4>
    <a href="#note-transform-runtime-and-custom-polyfills-e.g.promise-library" name="note-transform-runtime-and-custom-polyfills-e.g.promise-library" class="pilcrow"></a>
<strong>NOTE:</strong> transform-runtime &amp; custom polyfills (e.g. Promise library)
  </h4>
</div>
<p>Since <a href="https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-runtime">babel-plugin-transform-runtime</a> includes a polyfill that includes a custom <a href="https://github.com/facebook/regenerator/blob/master/packages/regenerator-runtime/runtime.js">regenerator runtime</a> and <a href="https://github.com/zloirock/core-js">core.js</a>, the following usual shimming method using <code>webpack.ProvidePlugin</code> will not work:</p>
<pre><code class="javascript"><span class="hljs-comment">// ...</span>
        <span class="hljs-keyword">new</span> webpack.ProvidePlugin({
            <span class="hljs-string">'Promise'</span>: <span class="hljs-string">'bluebird'</span>
        }),
<span class="hljs-comment">// ...</span>
</code></pre>
<p>The following approach will not work either:</p>
<pre><code class="javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">'babel-runtime/core-js/promise'</span>).default = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bluebird'</span>);

<span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>;
</code></pre>
<p>which outputs to (using <code>runtime</code>):</p>
<pre><code class="javascript"><span class="hljs-meta">'use strict'</span>;

<span class="hljs-keyword">var</span> _Promise = <span class="hljs-built_in">require</span>(<span class="hljs-string">'babel-runtime/core-js/promise'</span>)[<span class="hljs-string">'default'</span>];

<span class="hljs-built_in">require</span>(<span class="hljs-string">'babel-runtime/core-js/promise'</span>)[<span class="hljs-string">'default'</span>] = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bluebird'</span>);

<span class="hljs-keyword">var</span> promise = <span class="hljs-keyword">new</span> _Promise();
</code></pre>
<p>The previous <code>Promise</code> library is referenced and used before it is overridden.</p>
<p>One approach is to have a &quot;bootstrap&quot; step in your application that would first override the default globals before your application:</p>
<pre><code class="javascript"><span class="hljs-comment">// bootstrap.js</span>

<span class="hljs-built_in">require</span>(<span class="hljs-string">'babel-runtime/core-js/promise'</span>).default = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bluebird'</span>);

<span class="hljs-comment">// ...</span>

<span class="hljs-built_in">require</span>(<span class="hljs-string">'./app'</span>);
</code></pre>
<div class="pilwrap" id="the-node-api-for-babel-has-been-moved-to-babel-core">
  <h3>
    <a href="#the-node-api-for-babel-has-been-moved-to-babel-core" name="the-node-api-for-babel-has-been-moved-to-babel-core" class="pilcrow"></a>
The node API for <code>babel</code> has been moved to <code>babel-core</code>.
  </h3>
</div>
<p>If you receive this message it means that you have the npm package <code>babel</code> installed and use the short notation of the loader in the webpack config (which is not valid anymore as of webpack 2.x):</p>
<pre><code class="js">  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel'</span>,
  }
</code></pre>
<p>Webpack then tries to load the <code>babel</code> package instead of the <code>babel-loader</code>.</p>
<p>To fix this you should uninstall the npm package <code>babel</code> as it is deprecated in babel v6. (instead install <code>babel-cli</code> or <code>babel-core</code>)
In the case one of your dependencies is installing <code>babel</code> and you cannot uninstall it yourself, use the complete name of the loader in the webpack config:</p>
<pre><code class="js">  {
    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
    <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span>,
  }
</code></pre>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
<a href="http://couto.mit-license.org/">License</a>
  </h2>
</div>
</div>
  </div>
</body>
</html>
