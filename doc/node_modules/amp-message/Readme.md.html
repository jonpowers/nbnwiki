<!DOCTYPE html>
<html>
<head>
  <title>Readme.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/amp-message/Readme.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#amp-message">amp-message</a>
      </div>

      <div class="heading h2">
        <a href="#installation">Installation</a>
      </div>

      <div class="heading h2">
        <a href="#example">Example</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h3">
        <a href="#message">Message</a>
      </div>

      <div class="heading h3">
        <a href="#message-buffer">Message(buffer)</a>
      </div>

      <div class="heading h3">
        <a href="#message-args">Message(args)</a>
      </div>

      <div class="heading h1">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="amp-message">
  <h1>
    <a href="#amp-message" name="amp-message" class="pilcrow"></a>
amp-message
  </h1>
</div>
<p>High level <a href="https://github.com/visionmedia/node-amp">AMP</a> <code>Message</code> implementation for manipulating, encoding and decoding AMP messages.</p>
<div class="pilwrap" id="installation">
  <h2>
    <a href="#installation" name="installation" class="pilcrow"></a>
Installation
  </h2>
</div>
<pre><code>$ npm install amp-message
</code></pre>
<div class="pilwrap" id="example">
  <h2>
    <a href="#example" name="example" class="pilcrow"></a>
Example
  </h2>
</div>
<p>Encoding a message:</p>
<pre><code class="js"><span class="hljs-keyword">var</span> Message = <span class="hljs-built_in">require</span>(<span class="hljs-string">'amp-message'</span>);

<span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> Message;

<span class="hljs-built_in">console</span>.log(msg.toBuffer());
<span class="hljs-comment">// =&gt; &lt;Buffer 10&gt;</span>

msg.push(<span class="hljs-string">'foo'</span>);
msg.push(<span class="hljs-string">'bar'</span>);
msg.push(<span class="hljs-string">'baz'</span>);
<span class="hljs-built_in">console</span>.log(msg.toBuffer());
<span class="hljs-comment">// =&gt; &lt;Buffer 13 00 05 73 3a 66 6f 6f 00 05 73 3a 62 61 72 00 05 73 3a 62 61 7a&gt;</span>

msg.push({ <span class="hljs-attr">foo</span>: <span class="hljs-string">'bar'</span> });
<span class="hljs-built_in">console</span>.log(msg.toBuffer());
<span class="hljs-comment">// =&gt; &lt;Buffer 14 00 05 73 3a 66 6f 6f 00 05 73 3a 62 61 72 00 05 73 3a 62 61 7a 00 0f 6a 3a 7b 22 66 6f 6f 22 3a 22 62 61 72 22 7d&gt;</span>

msg.push(<span class="hljs-keyword">new</span> Buffer(<span class="hljs-string">'image data'</span>));
<span class="hljs-built_in">console</span>.log(msg.toBuffer());
<span class="hljs-comment">// =&gt; &lt;Buffer 15 00 05 73 3a 66 6f 6f 00 05 73 3a 62 61 72 00 05 73 3a 62 61 7a 00 0f 6a 3a 7b 22 66 6f 6f 22 3a 22 62 61 72 22 7d 00 0a 69 6d 61 67 65 20 64 61 74 ... &gt;</span>
</code></pre>
<p>Decoding a message:</p>
<pre><code class="js"><span class="hljs-keyword">var</span> Message = <span class="hljs-built_in">require</span>(<span class="hljs-string">'..'</span>);

<span class="hljs-keyword">var</span> msg = <span class="hljs-keyword">new</span> Message;

msg.push(<span class="hljs-string">'foo'</span>)
msg.push({ <span class="hljs-attr">hello</span>: <span class="hljs-string">'world'</span> })
msg.push(<span class="hljs-keyword">new</span> Buffer(<span class="hljs-string">'hello'</span>))

<span class="hljs-keyword">var</span> other = <span class="hljs-keyword">new</span> Message(msg.toBuffer());

<span class="hljs-built_in">console</span>.log(other.shift());
<span class="hljs-built_in">console</span>.log(other.shift());
<span class="hljs-built_in">console</span>.log(other.shift());
</code></pre>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<div class="pilwrap" id="message">
  <h3>
    <a href="#message" name="message" class="pilcrow"></a>
Message
  </h3>
</div>
<p>Initialize an empty message.</p>
<div class="pilwrap" id="message-buffer">
  <h3>
    <a href="#message-buffer" name="message-buffer" class="pilcrow"></a>
Message(buffer)
  </h3>
</div>
<p>Decode the <code>buffer</code> AMP message to populate the <code>Message</code>.</p>
<div class="pilwrap" id="message-args">
  <h3>
    <a href="#message-args" name="message-args" class="pilcrow"></a>
Message(args)
  </h3>
</div>
<p>Initialize a messeage populated with <code>args</code>.</p>
<div class="pilwrap" id="license">
  <h1>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h1>
</div>
<p>MIT</p>
</div>
  </div>
</body>
</html>
