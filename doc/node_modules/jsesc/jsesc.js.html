<!DOCTYPE html>
<html>
<head>
  <title>jsesc.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/jsesc/jsesc.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>jsesc.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-comment">/*! https://mths.be/jsesc v1.3.0 by @mathias */</span>
;(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Detect free variables <code>exports</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">var</span> freeExports = <span class="hljs-keyword">typeof</span> exports == <span class="hljs-string">'object'</span> &amp;&amp; exports;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>Detect free variable <code>module</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">var</span> freeModule = <span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> == <span class="hljs-string">'object'</span> &amp;&amp; <span class="hljs-built_in">module</span> &amp;&amp;
		<span class="hljs-built_in">module</span>.exports == freeExports &amp;&amp; <span class="hljs-built_in">module</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>Detect free variable <code>global</code>, from Node.js or Browserified code,
and use it as <code>root</code></p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">var</span> freeGlobal = <span class="hljs-keyword">typeof</span> global == <span class="hljs-string">'object'</span> &amp;&amp; global;
	<span class="hljs-keyword">if</span> (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {
		root = freeGlobal;
	}

	<span class="hljs-comment">/*--------------------------------------------------------------------------*/</span>

	<span class="hljs-keyword">var</span> object = {};
	<span class="hljs-keyword">var</span> hasOwnProperty = object.hasOwnProperty;
	<span class="hljs-keyword">var</span> forOwn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">object, callback</span>) </span>{
		<span class="hljs-keyword">var</span> key;
		<span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> object) {
			<span class="hljs-keyword">if</span> (hasOwnProperty.call(object, key)) {
				callback(key, object[key]);
			}
		}
	};

	<span class="hljs-keyword">var</span> extend = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">destination, source</span>) </span>{
		<span class="hljs-keyword">if</span> (!source) {
			<span class="hljs-keyword">return</span> destination;
		}
		forOwn(source, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
			destination[key] = value;
		});
		<span class="hljs-keyword">return</span> destination;
	};

	<span class="hljs-keyword">var</span> forEach = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">array, callback</span>) </span>{
		<span class="hljs-keyword">var</span> length = array.length;
		<span class="hljs-keyword">var</span> index = <span class="hljs-number">-1</span>;
		<span class="hljs-keyword">while</span> (++index &lt; length) {
			callback(array[index]);
		}
	};

	<span class="hljs-keyword">var</span> toString = object.toString;
	<span class="hljs-keyword">var</span> isArray = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> toString.call(value) == <span class="hljs-string">'[object Array]'</span>;
	};
	<span class="hljs-keyword">var</span> isObject = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>This is a very simple check, but it’s good enough for what we need.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">return</span> toString.call(value) == <span class="hljs-string">'[object Object]'</span>;
	};
	<span class="hljs-keyword">var</span> isString = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value == <span class="hljs-string">'string'</span> ||
			toString.call(value) == <span class="hljs-string">'[object String]'</span>;
	};
	<span class="hljs-keyword">var</span> isNumber = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value == <span class="hljs-string">'number'</span> ||
			toString.call(value) == <span class="hljs-string">'[object Number]'</span>;
	};
	<span class="hljs-keyword">var</span> isFunction = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>In a perfect world, the <code>typeof</code> check would be sufficient. However,
in Chrome 1–12, <code>typeof /x/ == 'object'</code>, and in IE 6–8
<code>typeof alert == 'object'</code> and similar for other host objects.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> value == <span class="hljs-string">'function'</span> ||
			toString.call(value) == <span class="hljs-string">'[object Function]'</span>;
	};
	<span class="hljs-keyword">var</span> isMap = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> toString.call(value) == <span class="hljs-string">'[object Map]'</span>;
	};
	<span class="hljs-keyword">var</span> isSet = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
		<span class="hljs-keyword">return</span> toString.call(value) == <span class="hljs-string">'[object Set]'</span>;
	};

	<span class="hljs-comment">/*--------------------------------------------------------------------------*/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>https://mathiasbynens.be/notes/javascript-escapes#single</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">var</span> singleEscapes = {
		<span class="hljs-string">'"'</span>: <span class="hljs-string">'\\"'</span>,
		<span class="hljs-string">'\''</span>: <span class="hljs-string">'\\\''</span>,
		<span class="hljs-string">'\\'</span>: <span class="hljs-string">'\\\\'</span>,
		<span class="hljs-string">'\b'</span>: <span class="hljs-string">'\\b'</span>,
		<span class="hljs-string">'\f'</span>: <span class="hljs-string">'\\f'</span>,
		<span class="hljs-string">'\n'</span>: <span class="hljs-string">'\\n'</span>,
		<span class="hljs-string">'\r'</span>: <span class="hljs-string">'\\r'</span>,
		<span class="hljs-string">'\t'</span>: <span class="hljs-string">'\\t'</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p><code>\v</code> is omitted intentionally, because in IE &lt; 9, '\v' == 'v'.
'\v': '\x0B'</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	};
	<span class="hljs-keyword">var</span> regexSingleEscape = <span class="hljs-regexp">/["'\\\b\f\n\r\t]/</span>;

	<span class="hljs-keyword">var</span> regexDigit = <span class="hljs-regexp">/[0-9]/</span>;
	<span class="hljs-keyword">var</span> regexWhitelist = <span class="hljs-regexp">/[ !#-&amp;\(-\[\]-~]/</span>;

	<span class="hljs-keyword">var</span> jsesc = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">argument, options</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>Handle options</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">var</span> defaults = {
			<span class="hljs-string">'escapeEverything'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'escapeEtago'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'quotes'</span>: <span class="hljs-string">'single'</span>,
			<span class="hljs-string">'wrap'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'es6'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'json'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'compact'</span>: <span class="hljs-literal">true</span>,
			<span class="hljs-string">'lowercaseHex'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'numbers'</span>: <span class="hljs-string">'decimal'</span>,
			<span class="hljs-string">'indent'</span>: <span class="hljs-string">'\t'</span>,
			<span class="hljs-string">'__indent__'</span>: <span class="hljs-string">''</span>,
			<span class="hljs-string">'__inline1__'</span>: <span class="hljs-literal">false</span>,
			<span class="hljs-string">'__inline2__'</span>: <span class="hljs-literal">false</span>
		};
		<span class="hljs-keyword">var</span> json = options &amp;&amp; options.json;
		<span class="hljs-keyword">if</span> (json) {
			defaults.quotes = <span class="hljs-string">'double'</span>;
			defaults.wrap = <span class="hljs-literal">true</span>;
		}
		options = extend(defaults, options);
		<span class="hljs-keyword">if</span> (options.quotes != <span class="hljs-string">'single'</span> &amp;&amp; options.quotes != <span class="hljs-string">'double'</span>) {
			options.quotes = <span class="hljs-string">'single'</span>;
		}
		<span class="hljs-keyword">var</span> quote = options.quotes == <span class="hljs-string">'double'</span> ? <span class="hljs-string">'"'</span> : <span class="hljs-string">'\''</span>;
		<span class="hljs-keyword">var</span> compact = options.compact;
		<span class="hljs-keyword">var</span> indent = options.indent;
		<span class="hljs-keyword">var</span> lowercaseHex = options.lowercaseHex;
		<span class="hljs-keyword">var</span> oldIndent = <span class="hljs-string">''</span>;
		<span class="hljs-keyword">var</span> inline1 = options.__inline1__;
		<span class="hljs-keyword">var</span> inline2 = options.__inline2__;
		<span class="hljs-keyword">var</span> newLine = compact ? <span class="hljs-string">''</span> : <span class="hljs-string">'\n'</span>;
		<span class="hljs-keyword">var</span> result;
		<span class="hljs-keyword">var</span> isEmpty = <span class="hljs-literal">true</span>;
		<span class="hljs-keyword">var</span> useBinNumbers = options.numbers == <span class="hljs-string">'binary'</span>;
		<span class="hljs-keyword">var</span> useOctNumbers = options.numbers == <span class="hljs-string">'octal'</span>;
		<span class="hljs-keyword">var</span> useDecNumbers = options.numbers == <span class="hljs-string">'decimal'</span>;
		<span class="hljs-keyword">var</span> useHexNumbers = options.numbers == <span class="hljs-string">'hexadecimal'</span>;

		<span class="hljs-keyword">if</span> (json &amp;&amp; argument &amp;&amp; isFunction(argument.toJSON)) {
			argument = argument.toJSON();
		}

		<span class="hljs-keyword">if</span> (!isString(argument)) {
			<span class="hljs-keyword">if</span> (isMap(argument)) {
				<span class="hljs-keyword">if</span> (argument.size == <span class="hljs-number">0</span>) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'new Map()'</span>;
				}
				<span class="hljs-keyword">if</span> (!compact) {
					options.__inline1__ = <span class="hljs-literal">true</span>;
				}
				<span class="hljs-keyword">return</span> <span class="hljs-string">'new Map('</span> + jsesc(<span class="hljs-built_in">Array</span>.from(argument), options) + <span class="hljs-string">')'</span>;
			}
			<span class="hljs-keyword">if</span> (isSet(argument)) {
				<span class="hljs-keyword">if</span> (argument.size == <span class="hljs-number">0</span>) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'new Set()'</span>;
				}
				<span class="hljs-keyword">return</span> <span class="hljs-string">'new Set('</span> + jsesc(<span class="hljs-built_in">Array</span>.from(argument), options) + <span class="hljs-string">')'</span>;
			}
			<span class="hljs-keyword">if</span> (isArray(argument)) {
				result = [];
				options.wrap = <span class="hljs-literal">true</span>;
				<span class="hljs-keyword">if</span> (inline1) {
					options.__inline1__ = <span class="hljs-literal">false</span>;
					options.__inline2__ = <span class="hljs-literal">true</span>;
				} <span class="hljs-keyword">else</span> {
					oldIndent = options.__indent__;
					indent += oldIndent;
					options.__indent__ = indent;
				}
				forEach(argument, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
					isEmpty = <span class="hljs-literal">false</span>;
					<span class="hljs-keyword">if</span> (inline2) {
						options.__inline2__ = <span class="hljs-literal">false</span>;
					}
					result.push(
						(compact || inline2 ? <span class="hljs-string">''</span> : indent) +
						jsesc(value, options)
					);
				});
				<span class="hljs-keyword">if</span> (isEmpty) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'[]'</span>;
				}
				<span class="hljs-keyword">if</span> (inline2) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'['</span> + result.join(<span class="hljs-string">', '</span>) + <span class="hljs-string">']'</span>;
				}
				<span class="hljs-keyword">return</span> <span class="hljs-string">'['</span> + newLine + result.join(<span class="hljs-string">','</span> + newLine) + newLine +
					(compact ? <span class="hljs-string">''</span> : oldIndent) + <span class="hljs-string">']'</span>;
			} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (isNumber(argument)) {
				<span class="hljs-keyword">if</span> (json) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Some number values (e.g. <code>Infinity</code>) cannot be represented in JSON.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">					<span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify(argument);
				}
				<span class="hljs-keyword">if</span> (useDecNumbers) {
					<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(argument);
				}
				<span class="hljs-keyword">if</span> (useHexNumbers) {
					<span class="hljs-keyword">var</span> tmp = argument.toString(<span class="hljs-number">16</span>);
					<span class="hljs-keyword">if</span> (!lowercaseHex) {
						tmp = tmp.toUpperCase();
					}
					<span class="hljs-keyword">return</span> <span class="hljs-string">'0x'</span> + tmp;
				}
				<span class="hljs-keyword">if</span> (useBinNumbers) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'0b'</span> + argument.toString(<span class="hljs-number">2</span>);
				}
				<span class="hljs-keyword">if</span> (useOctNumbers) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'0o'</span> + argument.toString(<span class="hljs-number">8</span>);
				}
			} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!isObject(argument)) {
				<span class="hljs-keyword">if</span> (json) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<p>For some values (e.g. <code>undefined</code>, <code>function</code> objects),
<code>JSON.stringify(value)</code> returns <code>undefined</code> (which isn’t valid
JSON) instead of <code>'null'</code>.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">					<span class="hljs-keyword">return</span> <span class="hljs-built_in">JSON</span>.stringify(argument) || <span class="hljs-string">'null'</span>;
				}
				<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(argument);
			} <span class="hljs-keyword">else</span> { <span class="hljs-comment">// it’s an object</span>
				result = [];
				options.wrap = <span class="hljs-literal">true</span>;
				oldIndent = options.__indent__;
				indent += oldIndent;
				options.__indent__ = indent;
				forOwn(argument, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key, value</span>) </span>{
					isEmpty = <span class="hljs-literal">false</span>;
					result.push(
						(compact ? <span class="hljs-string">''</span> : indent) +
						jsesc(key, options) + <span class="hljs-string">':'</span> +
						(compact ? <span class="hljs-string">''</span> : <span class="hljs-string">' '</span>) +
						jsesc(value, options)
					);
				});
				<span class="hljs-keyword">if</span> (isEmpty) {
					<span class="hljs-keyword">return</span> <span class="hljs-string">'{}'</span>;
				}
				<span class="hljs-keyword">return</span> <span class="hljs-string">'{'</span> + newLine + result.join(<span class="hljs-string">','</span> + newLine) + newLine +
					(compact ? <span class="hljs-string">''</span> : oldIndent) + <span class="hljs-string">'}'</span>;
			}
		}

		<span class="hljs-keyword">var</span> string = argument;
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<p>Loop over each code unit in the string and escape it</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">		<span class="hljs-keyword">var</span> index = <span class="hljs-number">-1</span>;
		<span class="hljs-keyword">var</span> length = string.length;
		<span class="hljs-keyword">var</span> first;
		<span class="hljs-keyword">var</span> second;
		<span class="hljs-keyword">var</span> codePoint;
		result = <span class="hljs-string">''</span>;
		<span class="hljs-keyword">while</span> (++index &lt; length) {
			<span class="hljs-keyword">var</span> character = string.charAt(index);
			<span class="hljs-keyword">if</span> (options.es6) {
				first = string.charCodeAt(index);
				<span class="hljs-keyword">if</span> ( <span class="hljs-comment">// check if it’s the start of a surrogate pair</span>
					first &gt;= <span class="hljs-number">0xD800</span> &amp;&amp; first &lt;= <span class="hljs-number">0xDBFF</span> &amp;&amp; <span class="hljs-comment">// high surrogate</span>
					length &gt; index + <span class="hljs-number">1</span> <span class="hljs-comment">// there is a next code unit</span>
				) {
					second = string.charCodeAt(index + <span class="hljs-number">1</span>);
					<span class="hljs-keyword">if</span> (second &gt;= <span class="hljs-number">0xDC00</span> &amp;&amp; second &lt;= <span class="hljs-number">0xDFFF</span>) { <span class="hljs-comment">// low surrogate</span>
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>https://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">						codePoint = (first - <span class="hljs-number">0xD800</span>) * <span class="hljs-number">0x400</span> + second - <span class="hljs-number">0xDC00</span> + <span class="hljs-number">0x10000</span>;
						<span class="hljs-keyword">var</span> hexadecimal = codePoint.toString(<span class="hljs-number">16</span>);
						<span class="hljs-keyword">if</span> (!lowercaseHex) {
							hexadecimal = hexadecimal.toUpperCase();
						}
						result += <span class="hljs-string">'\\u{'</span> + hexadecimal + <span class="hljs-string">'}'</span>;
						index++;
						<span class="hljs-keyword">continue</span>;
					}
				}
			}
			<span class="hljs-keyword">if</span> (!options.escapeEverything) {
				<span class="hljs-keyword">if</span> (regexWhitelist.test(character)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>It’s a printable ASCII character that is not <code>&quot;</code>, <code>'</code> or <code>\</code>,
so don’t escape it.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">					result += character;
					<span class="hljs-keyword">continue</span>;
				}
				<span class="hljs-keyword">if</span> (character == <span class="hljs-string">'"'</span>) {
					result += quote == character ? <span class="hljs-string">'\\"'</span> : character;
					<span class="hljs-keyword">continue</span>;
				}
				<span class="hljs-keyword">if</span> (character == <span class="hljs-string">'\''</span>) {
					result += quote == character ? <span class="hljs-string">'\\\''</span> : character;
					<span class="hljs-keyword">continue</span>;
				}
			}
			<span class="hljs-keyword">if</span> (
				character == <span class="hljs-string">'\0'</span> &amp;&amp;
				!json &amp;&amp;
				!regexDigit.test(string.charAt(index + <span class="hljs-number">1</span>))
			) {
				result += <span class="hljs-string">'\\0'</span>;
				<span class="hljs-keyword">continue</span>;
			}
			<span class="hljs-keyword">if</span> (regexSingleEscape.test(character)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<p>no need for a <code>hasOwnProperty</code> check here</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">				result += singleEscapes[character];
				<span class="hljs-keyword">continue</span>;
			}
			<span class="hljs-keyword">var</span> charCode = character.charCodeAt(<span class="hljs-number">0</span>);
			<span class="hljs-keyword">var</span> hexadecimal = charCode.toString(<span class="hljs-number">16</span>);
			<span class="hljs-keyword">if</span> (!lowercaseHex) {
				hexadecimal = hexadecimal.toUpperCase();
			}
			<span class="hljs-keyword">var</span> longhand = hexadecimal.length &gt; <span class="hljs-number">2</span> || json;
			<span class="hljs-keyword">var</span> escaped = <span class="hljs-string">'\\'</span> + (longhand ? <span class="hljs-string">'u'</span> : <span class="hljs-string">'x'</span>) +
				(<span class="hljs-string">'0000'</span> + hexadecimal).slice(longhand ? <span class="hljs-number">-4</span> : <span class="hljs-number">-2</span>);
			result += escaped;
			<span class="hljs-keyword">continue</span>;
		}
		<span class="hljs-keyword">if</span> (options.wrap) {
			result = quote + result + quote;
		}
		<span class="hljs-keyword">if</span> (options.escapeEtago) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>https://mathiasbynens.be/notes/etago</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">			<span class="hljs-keyword">return</span> result.replace(<span class="hljs-regexp">/&lt;\/(script|style)/gi</span>, <span class="hljs-string">'&lt;\\/$1'</span>);
		}
		<span class="hljs-keyword">return</span> result;
	};

	jsesc.version = <span class="hljs-string">'1.3.0'</span>;

	<span class="hljs-comment">/*--------------------------------------------------------------------------*/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>Some AMD build optimizers, like r.js, check for specific condition patterns
like the following:</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">	<span class="hljs-keyword">if</span> (
		<span class="hljs-keyword">typeof</span> define == <span class="hljs-string">'function'</span> &amp;&amp;
		<span class="hljs-keyword">typeof</span> define.amd == <span class="hljs-string">'object'</span> &amp;&amp;
		define.amd
	) {
		define(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
			<span class="hljs-keyword">return</span> jsesc;
		});
	}	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (freeExports &amp;&amp; !freeExports.nodeType) {
		<span class="hljs-keyword">if</span> (freeModule) { <span class="hljs-comment">// in Node.js or RingoJS v0.8.0+</span>
			freeModule.exports = jsesc;
		} <span class="hljs-keyword">else</span> { <span class="hljs-comment">// in Narwhal or RingoJS v0.7.0-</span>
			freeExports.jsesc = jsesc;
		}
	} <span class="hljs-keyword">else</span> { <span class="hljs-comment">// in Rhino or a web browser</span>
		root.jsesc = jsesc;
	}

}(<span class="hljs-keyword">this</span>));

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
