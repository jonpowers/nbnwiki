<!DOCTYPE html>
<html>
<head>
  <title>index.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/ci-info/index.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>index.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-meta">'use strict'</span>

<span class="hljs-keyword">var</span> env = process.env

<span class="hljs-keyword">var</span> vendors = [
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<p>Constant, Name, Envs</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">  [<span class="hljs-string">'TRAVIS'</span>, <span class="hljs-string">'Travis CI'</span>, <span class="hljs-string">'TRAVIS'</span>],
  [<span class="hljs-string">'CIRCLE'</span>, <span class="hljs-string">'CircleCI'</span>, <span class="hljs-string">'CIRCLECI'</span>],
  [<span class="hljs-string">'GITLAB'</span>, <span class="hljs-string">'GitLab CI'</span>, <span class="hljs-string">'GITLAB_CI'</span>],
  [<span class="hljs-string">'APPVEYOR'</span>, <span class="hljs-string">'AppVeyor'</span>, <span class="hljs-string">'APPVEYOR'</span>],
  [<span class="hljs-string">'CODESHIP'</span>, <span class="hljs-string">'Codeship'</span>, {<span class="hljs-attr">CI_NAME</span>: <span class="hljs-string">'codeship'</span>}],
  [<span class="hljs-string">'DRONE'</span>, <span class="hljs-string">'Drone'</span>, <span class="hljs-string">'DRONE'</span>],
  [<span class="hljs-string">'MAGNUM'</span>, <span class="hljs-string">'Magnum CI'</span>, <span class="hljs-string">'MAGNUM'</span>],
  [<span class="hljs-string">'SEMAPHORE'</span>, <span class="hljs-string">'Semaphore'</span>, <span class="hljs-string">'SEMAPHORE'</span>],
  [<span class="hljs-string">'JENKINS'</span>, <span class="hljs-string">'Jenkins'</span>, <span class="hljs-string">'JENKINS_URL'</span>],
  [<span class="hljs-string">'BAMBOO'</span>, <span class="hljs-string">'Bamboo'</span>, <span class="hljs-string">'bamboo_planKey'</span>],
  [<span class="hljs-string">'TFS'</span>, <span class="hljs-string">'Team Foundation Server'</span>, <span class="hljs-string">'TF_BUILD'</span>],
  [<span class="hljs-string">'TEAMCITY'</span>, <span class="hljs-string">'TeamCity'</span>, <span class="hljs-string">'TEAMCITY_VERSION'</span>],
  [<span class="hljs-string">'BUILDKITE'</span>, <span class="hljs-string">'Buildkite'</span>, <span class="hljs-string">'BUILDKITE'</span>],
  [<span class="hljs-string">'HUDSON'</span>, <span class="hljs-string">'Hudsun'</span>, <span class="hljs-string">'HUDSON_URL'</span>],
  [<span class="hljs-string">'TASKCLUSTER'</span>, <span class="hljs-string">'TaskCluster'</span>, <span class="hljs-string">'TASK_ID'</span>, <span class="hljs-string">'RUN_ID'</span>],
  [<span class="hljs-string">'GOCD'</span>, <span class="hljs-string">'GoCD'</span>, <span class="hljs-string">'GO_PIPELINE_LABEL'</span>],
  [<span class="hljs-string">'BITBUCKET'</span>, <span class="hljs-string">'Bitbucket Pipelines'</span>, <span class="hljs-string">'BITBUCKET_COMMIT'</span>]
]

exports.name = <span class="hljs-literal">null</span>

vendors.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">vendor</span>) </span>{
  <span class="hljs-keyword">var</span> constant = vendor.shift()
  <span class="hljs-keyword">var</span> name = vendor.shift()
  <span class="hljs-keyword">var</span> isCI = vendor.every(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">'string'</span>) <span class="hljs-keyword">return</span> !!env[obj]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.keys(obj).every(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">k</span>) </span>{
      <span class="hljs-keyword">return</span> env[k] === obj[k]
    })
  })
  exports[constant] = isCI
  <span class="hljs-keyword">if</span> (isCI) exports.name = name
})

exports.isCI = !!(
  env.CI ||                      <span class="hljs-comment">// Travis CI, CircleCI, Gitlab CI, Appveyor, CodeShip</span>
  env.CONTINUOUS_INTEGRATION ||  <span class="hljs-comment">// Travis CI</span>
  env.BUILD_NUMBER ||            <span class="hljs-comment">// Jenkins, TeamCity</span>
  exports.name ||
  <span class="hljs-literal">false</span>
)

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
