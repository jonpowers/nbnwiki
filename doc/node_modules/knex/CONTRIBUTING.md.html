<!DOCTYPE html>
<html>
<head>
  <title>CONTRIBUTING.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/knex/CONTRIBUTING.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h2">
        <a href="#how-to-contribute-to-knex.js">How to contribute to Knex.js</a>
      </div>

      <div class="heading h2">
        <a href="#integration-tests">Integration Tests</a>
      </div>

      <div class="heading h3">
        <a href="#the-easy-way">The Easy Way</a>
      </div>

      <div class="heading h3">
        <a href="#specifying-databases">Specifying Databases</a>
      </div>

      <div class="heading h3">
        <a href="#custom-configuration">Custom Configuration</a>
      </div>

      <div class="heading h3">
        <a href="#creating-postgres-user">Creating Postgres User</a>
      </div>

      <div class="heading h2">
        <a href="#want-to-be-collaborator">Want to be Collaborator?</a>
      </div>

      <div class="heading h3">
        <a href="#etiquette-tkt-or-tkt-french-e.ti.kt">Etiquette (/ˈɛtᵻkɛt/ or /ˈɛtᵻkɪt/, French: [e.ti.kɛt])</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="how-to-contribute-to-knex.js">
  <h2>
    <a href="#how-to-contribute-to-knex.js" name="how-to-contribute-to-knex.js" class="pilcrow"></a>
How to contribute to Knex.js
  </h2>
</div>
<ul>
<li>
<p>Make changes in the <code>/src</code> directory and run <code>npm run babel</code> (runs once and
then quits) or <code>npm run dev</code> (runs once and then watches for changes) to
update the files in <code>/lib</code>. <code>npm test</code> will also do this.</p>
</li>
<li>
<p>Before sending a pull request for a feature or bug fix, be sure to have
<a href="https://github.com/tgriesser/knex/tree/master/test">tests</a>.</p>
</li>
<li>
<p>Use the same coding style as the rest of the
<a href="https://github.com/tgriesser/knex/blob/master/knex.js">codebase</a>.</p>
</li>
<li>
<p>All pull requests should be made to the <code>master</code> branch.</p>
</li>
</ul>
<div class="pilwrap" id="integration-tests">
  <h2>
    <a href="#integration-tests" name="integration-tests" class="pilcrow"></a>
Integration Tests
  </h2>
</div>
<div class="pilwrap" id="the-easy-way">
  <h3>
    <a href="#the-easy-way" name="the-easy-way" class="pilcrow"></a>
The Easy Way
  </h3>
</div>
<p>By default, Knex runs tests against MySQL (using <a href="https://github.com/felixge/node-mysql">mysql</a> and <a href="https://github.com/sidorares/node-mysql2">mysql2</a>), Postgres, and SQLite. The easiest way to run the tests is by creating the database <code>'knex_test'</code> and granting permissions to the database's default username:</p>
<ul>
<li><strong>MySQL</strong>: <em>root</em></li>
<li><strong>Postgres</strong>: <em>postgres</em></li>
</ul>
<p>No setup is required for SQLite.</p>
<div class="pilwrap" id="specifying-databases">
  <h3>
    <a href="#specifying-databases" name="specifying-databases" class="pilcrow"></a>
Specifying Databases
  </h3>
</div>
<p>You can optionally specify which dialects to test using the <code>DB</code> environment variable. Values should be space separated and can include:</p>
<ul>
<li>mysql</li>
<li>mysql2</li>
<li>postgres</li>
<li>sqlite3</li>
<li>maria</li>
<li>oracle</li>
<li>mssql</li>
</ul>
<pre><code class="bash">$ DB=<span class="hljs-string">'postgres mysql'</span> npm <span class="hljs-built_in">test</span>
</code></pre>
<div class="pilwrap" id="custom-configuration">
  <h3>
    <a href="#custom-configuration" name="custom-configuration" class="pilcrow"></a>
Custom Configuration
  </h3>
</div>
<p>If you'd like to override the database configuration (to use a different host, for example), you can override the path to the <a href="https://github.com/tgriesser/knex/blob/master/test/knexfile.js">default test configuration</a> using the <code>KNEX_TEST</code> environment variable.</p>
<pre><code class="bash">$ KNEX_TEST=<span class="hljs-string">'./path/to/my/config.js'</span> npm <span class="hljs-built_in">test</span>
</code></pre>
<div class="pilwrap" id="creating-postgres-user">
  <h3>
    <a href="#creating-postgres-user" name="creating-postgres-user" class="pilcrow"></a>
Creating Postgres User
  </h3>
</div>
<p>Depending on your setup you might not have the default postgres user. To create a new user, login to Postgres and use the following queries to add the user. This assumes you've already created the <code>knex_test</code> database.</p>
<pre><code>CREATE ROLE postgres WITH LOGIN PASSWORD '';
GRANT ALL PRIVILEGES ON DATABASE &quot;knex_test&quot; TO postgres;
</code></pre>
<p>Once this is done, check it works by attempting to login:</p>
<pre><code>psql -h localhost -U postgres -d knex_test
</code></pre>
<div class="pilwrap" id="want-to-be-collaborator">
  <h2>
    <a href="#want-to-be-collaborator" name="want-to-be-collaborator" class="pilcrow"></a>
Want to be Collaborator?
  </h2>
</div>
<p>There is always room for more collaborators. Be active on resolving github issues / sending pull requests / reviewing code and we will ask you to join.</p>
<div class="pilwrap" id="etiquette-tkt-or-tkt-french-e.ti.kt">
  <h3>
    <a href="#etiquette-tkt-or-tkt-french-e.ti.kt" name="etiquette-tkt-or-tkt-french-e.ti.kt" class="pilcrow"></a>
Etiquette (/ˈɛtᵻkɛt/ or /ˈɛtᵻkɪt/, French: [e.ti.kɛt])
  </h3>
</div>
<p>Make pull requests for your changes, do not commit directly to master (release stuff / documentation changes are ok though).</p>
<p>All the pull requests must be peer reviewed by other collaborator, so don't merge your request before that. If there is no response ping others.</p>
<p>If you are going to add new feature to knex (not just a bugfix) it should be discussed first with others to agree on details.</p>
<p>Join Gitter chat if you feel to chat outside of github issues.</p>
</div>
  </div>
</body>
</html>
