<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/babel-register/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#babel-register">babel-register</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h4">
        <a href="#polyfill-not-included">Polyfill not included</a>
      </div>

      <div class="heading h3">
        <a href="#ignores-node_modules-by-default">Ignores node_modules by default</a>
      </div>

      <div class="heading h2">
        <a href="#specifying-options">Specifying options</a>
      </div>

      <div class="heading h2">
        <a href="#environment-variables">Environment variables</a>
      </div>

      <div class="heading h3">
        <a href="#babel_cache_path">BABEL_CACHE_PATH</a>
      </div>

      <div class="heading h3">
        <a href="#babel_disable_cache">BABEL_DISABLE_CACHE</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="babel-register">
  <h1>
    <a href="#babel-register" name="babel-register" class="pilcrow"></a>
babel-register
  </h1>
</div>
<blockquote>
<p>The require hook will bind itself to node's require and automatically compile files on the fly.</p>
</blockquote>
<p>One of the ways you can use Babel is through the require hook. The require hook
will bind itself to node's <code>require</code> and automatically compile files on the
fly. This is equivalent to CoffeeScript's
<a href="http://coffeescript.org/documentation/docs/register.html">coffee-script/register</a>.</p>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<pre><code class="sh">npm install babel-register --save-dev
</code></pre>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<pre><code class="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel-register"</span>);
</code></pre>
<p>All subsequent files required by node with the extensions <code>.es6</code>, <code>.es</code>, <code>.jsx</code>
and <code>.js</code> will be transformed by Babel.</p>
<blockquote class="babel-callout babel-callout-info">
  <div class="pilwrap" id="polyfill-not-included">
  <h4>
    <a href="#polyfill-not-included" name="polyfill-not-included" class="pilcrow"></a>
Polyfill not included
  </h4>
</div>
  <p>
    You must include the <a href="https://babeljs.io/docs/usage/polyfill/">polyfill</a> separately
    when using features that require it, like generators.
  </p>
</blockquote>
<div class="pilwrap" id="ignores-node_modules-by-default">
  <h3>
    <a href="#ignores-node_modules-by-default" name="ignores-node_modules-by-default" class="pilcrow"></a>
Ignores <code>node_modules</code> by default
  </h3>
</div>
<p><strong>NOTE:</strong> By default all requires to <code>node_modules</code> will be ignored. You can
override this by passing an ignore regex via:</p>
<pre><code class="js"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel-register"</span>)({
  <span class="hljs-comment">// This will override `node_modules` ignoring - you can alternatively pass</span>
  <span class="hljs-comment">// an array of strings to be explicitly matched or a regex / glob</span>
  ignore: <span class="hljs-literal">false</span>
});
</code></pre>
<div class="pilwrap" id="specifying-options">
  <h2>
    <a href="#specifying-options" name="specifying-options" class="pilcrow"></a>
Specifying options
  </h2>
</div>
<pre><code class="javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">"babel-register"</span>)({
  <span class="hljs-comment">// Optional ignore regex - if any filenames **do** match this regex then they</span>
  <span class="hljs-comment">// aren't compiled.</span>
  ignore: <span class="hljs-regexp">/regex/</span>,

  <span class="hljs-comment">// Ignore can also be specified as a function.</span>
  ignore: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">filename</span>) </span>{
    <span class="hljs-keyword">if</span> (filename === <span class="hljs-string">"/path/to/es6-file.js"</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  },

  <span class="hljs-comment">// Optional only regex - if any filenames **don't** match this regex then they</span>
  <span class="hljs-comment">// aren't compiled</span>
  only: <span class="hljs-regexp">/my_es6_folder/</span>,

  <span class="hljs-comment">// Setting this will remove the currently hooked extensions of .es6, `.es`, `.jsx`</span>
  <span class="hljs-comment">// and .js so you'll have to add them back if you want them to be used again.</span>
  extensions: [<span class="hljs-string">".es6"</span>, <span class="hljs-string">".es"</span>, <span class="hljs-string">".jsx"</span>, <span class="hljs-string">".js"</span>]
});
</code></pre>
<p>You can pass in all other <a href="https://babeljs.io/docs/usage/api/#options">options</a> as well,
including <code>plugins</code> and <code>presets</code>. But note that the closest <a href="https://babeljs.io/docs/usage/babelrc/"><code>.babelrc</code></a>
to each file still applies, and takes precedence over any options you pass in here.</p>
<div class="pilwrap" id="environment-variables">
  <h2>
    <a href="#environment-variables" name="environment-variables" class="pilcrow"></a>
Environment variables
  </h2>
</div>
<p>By default <code>babel-node</code> and <code>babel-register</code> will save to a json cache in your
temporary directory.</p>
<p>This will heavily improve with the startup and compilation of your files. There
are however scenarios where you want to change this behaviour and there are
environment variables exposed to allow you to do this.</p>
<div class="pilwrap" id="babel_cache_path">
  <h3>
    <a href="#babel_cache_path" name="babel_cache_path" class="pilcrow"></a>
BABEL_CACHE_PATH
  </h3>
</div>
<p>Specify a different cache location.</p>
<pre><code class="sh">BABEL_CACHE_PATH=/foo/my-cache.json babel-node script.js
</code></pre>
<div class="pilwrap" id="babel_disable_cache">
  <h3>
    <a href="#babel_disable_cache" name="babel_disable_cache" class="pilcrow"></a>
BABEL_DISABLE_CACHE
  </h3>
</div>
<p>Disable the cache.</p>
<pre><code class="sh">BABEL_DISABLE_CACHE=1 babel-node script.js
</code></pre>
</div>
  </div>
</body>
</html>
