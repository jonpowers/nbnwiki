<!DOCTYPE html>
<html>
<head>
  <title>CHANGELOG.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/bookshelf/CHANGELOG.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h2">
        <a href="#change-log">Change Log</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="change-log">
  <h2>
    <a href="#change-log" name="change-log" class="pilcrow"></a>
Change Log
  </h2>
</div>
<p><strong>0.10.0</strong> — <small><em>Jun 29, 2016</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.5...0.10.0">Diff</a></p>
<p><strong>Breaking Changes:</strong></p>
<ul>
<li>Removal/renaming of certain lodash functions from Model and Collection that were removed in lodash 4.
<ul>
<li>Collection Methods
<ul>
<li>removed <code>CollectionBase#collect</code> =&gt; use <code>CollectionBase#map</code> instead</li>
<li>removed <code>CollectionBase#foldl</code> =&gt; use <code>CollectionBase#reduce</code> instead</li>
<li>removed <code>CollectionBase#inject</code> =&gt; use <code>CollectionBase#reduce</code> instead</li>
<li>removed <code>CollectionBase#foldr</code> =&gt; use <code>CollectionBase#reduceRight</code> instead</li>
<li>removed <code>CollectionBase#detect</code> =&gt; use <code>CollectionBase#find</code> instead</li>
<li>removed <code>CollectionBase#select</code> =&gt; use <code>CollectionBase#filter</code> instead</li>
<li>removed <code>CollectionBase#all</code> =&gt; use <code>CollectionBase#every</code> instead</li>
<li>removed <code>CollectionBase#any</code> =&gt; use <code>CollectionBase#some</code> instead</li>
<li>removed <code>CollectionBase#include</code> =&gt; use <code>CollectionBase#includes</code> instead</li>
<li>removed <code>CollectionBase#contains</code> =&gt; use <code>CollectionBase#includes</code> instead</li>
<li>removed <code>CollectionBase#rest</code> =&gt; use <code>CollectionBase#tail instead</code></li>
<li>renamed <code>CollectionBase#invoke</code> =&gt; <code>CollectionBase#invokeMap</code></li>
<li>split <code>CollectionBase#max</code> into <code>CollectionBase#maxBy</code> - see the <a href="https://lodash.com/docs/#max">lodash docs</a> for more explanation</li>
<li>split <code>CollectionBase#min</code> into <code>CollectionBase#minBy</code> - see the <a href="https://lodash.com/docs/#min">lodash docs</a> for more explanation</li>
</ul>
</li>
<li>Model Methods
<ul>
<li>renamed <code>ModelBase#pairs</code> =&gt; <code>ModelBase#toPairs</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>Other Changes:</strong></p>
<ul>
<li>Update to Lodash 4. #1287</li>
<li>Registry plugin: Better support for custom relations. #1294</li>
</ul>
<p><strong>0.9.5</strong> — <small><em>May 15, 2016</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.4...0.9.5">Diff</a></p>
<ul>
<li>Add pagination plugin. #1183</li>
<li>Fire {@link Model#event:fetched} on eagerly loaded relations. #1206</li>
<li>Correct cloning of {@link Model#belongsToMany} decorated relations. #1222</li>
<li>Update Knex to 0.11.x. #1227</li>
<li>Update minimum lodash version. #1230</li>
</ul>
<p><strong>0.9.4</strong> — <small><em>April 3, 2016</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.3...0.9.4">Diff</a></p>
<ul>
<li>Include <code>babel-runtime</code> as a dependency. #1188</li>
</ul>
<p><strong>0.9.3</strong> — <small><em>April 3, 2016</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.2...0.9.3">Diff</a></p>
<ul>
<li>Bugfix: Restore support for <code>camelCase</code> and <code>color:separated</code> event names. #1184</li>
</ul>
<p><strong>0.9.2</strong> — <small><em>February 17, 2016</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.1...0.9.2">Diff</a></p>
<ul>
<li>Permit up to Knex 0.11.0 via <code>peerDependencies</code>.</li>
<li><code>Model.forge</code> works for ES6 classes. #924</li>
<li>Fix <code>Collection#count</code> for <code>hasMany</code> relations. #1115</li>
</ul>
<p><strong>0.9.1</strong> — <small><em>November 4, 2015</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.9.0...0.9.1">Diff</a></p>
<ul>
<li>{@link Events#off} can now deregister multiple methods at once. #983</li>
<li>Permit Knex 0.10.0 via <code>peerDependencies</code>. #998</li>
</ul>
<p><strong>0.9.0</strong> — <small><em>November 1, 2015</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.8.2...0.9.0">Diff</a></p>
<ul>
<li>Repo no longer includes built source or generated documentation. Release script updated to include these only in the tagged release commit. #950.</li>
<li>{@link Model#previous} returned <code>undefined</code> instead of <code>null</code> for non-existant attributes.</li>
<li>Update tests and documentation to confirm that <code>null</code> (rather than <code>undefined</code>) is returned from {@link Model#fetch} and {@link Collection#fetchOne}.</li>
<li>Fix error in virtual plugin - #936</li>
<li>Correct error updating parsed/formatted {@link Model#idAttribute} after successful <code>insert</code> operation. #955</li>
<li>Many documentation fixes.</li>
</ul>
<p><strong>0.8.2</strong> — <small><em>August 20, 2015</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.8.1...0.8.2">Diff</a></p>
<ul>
<li>ES6/7: Move code base to <code>/src</code> — code is now compiled into <code>/lib</code> via <a href="https://babeljs.io/">Babel</a>.</li>
<li>Add <code>collection.count</code>, <code>model.count</code> and <code>Model.count</code>.</li>
<li>Add <code>model.refresh</code>. #796</li>
<li>Prevent <code>fetch</code> and <code>refresh</code> from trying to add JSON attributes to a <code>where</code> clause. #550 #778</li>
<li>Virtuals plugin now supports <code>{patch: true}</code> argument to <code>model.save</code>. #542</li>
<li>Restored <code>model.clone</code> and <code>collection.clone</code>, which were not previously working. #744</li>
<li>Allow <code>bookshelf.Collection</code> to be modified and extended by plugins (so that relations and <code>fetchAll</code> operations will return the extended instance). #681 #688</li>
<li>Fix <code>model.timestamps</code> behaviour which deviated from documentation. Also ensure that <code>createdAt</code> is set when <code>{method: &quot;insert&quot;}</code> is passed explicitly. #787</li>
<li>Calling <code>create</code> on a <code>through</code> relationship no longer tries to make a pivot object. Previously this would attempt to create an object with invalid foreign keys. #768</li>
<li>Parse foreign keys set during <code>create</code> in a relation. #770</li>
</ul>
<p><strong>0.8.1</strong> — <small><em>May 12, 2015</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.8.0...0.8.1">Diff</a></p>
<ul>
<li>Fix for regression in <code>initialize</code> not being called in Collection constructor, #737.</li>
<li>Fix for regression, removing <code>omitPivot</code> in 0.8 #721</li>
<li>Added <code>serialize</code>, a method which contains toJSON logic for easier customization.</li>
</ul>
<p><strong>0.8.0</strong> — <small><em>May 1, 2015</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.9...0.8.0">Diff</a></p>
<ul>
<li>Dropped Backbone dependency</li>
<li>More specific errors throughout, #522</li>
<li>Support {require: true} for model.destroy #617</li>
<li>Add lifecycle events on pivot models for belongsToMany, .through #578</li>
<li>Allows for select/column calls in the query builder closure, #633.</li>
<li>Added per-constructor error classes #694 (note: this will not work in CoffeeScript).</li>
</ul>
<p><strong>Breaking Changes:</strong></p>
<ul>
<li>Removed the <code>__super__</code> internal property on the constructor, this shouldn't have been something you were relying on anyway.</li>
</ul>
<p><strong>0.7.9</strong> — <small><em>Oct 28, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.8...0.7.9">Diff</a></p>
<ul>
<li>Fix for regression in columns / eager fetch query constraints, (#510).</li>
</ul>
<p><strong>0.7.8</strong> — <small><em>Oct 28, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.7...0.7.8">Diff</a></p>
<ul>
<li>Timestamp <code>created_at</code> is now saved with any insert.</li>
<li>Fix for regression created by #429.</li>
<li>New events, <code>attaching</code>, <code>attached</code>, <code>detaching</code>, <code>detached</code> #452.</li>
<li>Ability to specify custom column names in morphTo, #454</li>
<li>Fix for stack overflow with model list as arguments, #482</li>
<li>Modified location of eager fetch query constraints internally.</li>
</ul>
<p><strong>0.7.7</strong> — <small><em>July 23, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.6...0.7.7">Diff</a></p>
<ul>
<li>Fix for formatting on polymorphic keys, (#429).</li>
<li>Added a resolve method for specifying a custom resolver function for the registry plugin.</li>
</ul>
<p><strong>0.7.6</strong> — <small><em>June 29, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.5...0.7.6">Diff</a>
Add <code>omitPivot</code> flag on toJSON options for omitting the <code>_pivot_</code> keys in <code>through</code> and <code>belongsToMany</code> relations (#404).</p>
<p><strong>0.7.5</strong> — <small><em>June 23, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.4...0.7.5">Diff</a>
Fix missing NotFoundError &amp; EmptyError on Model &amp; Collection, respectively (#389, 399).</p>
<p><strong>0.7.4</strong> — <small><em>June 18, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.3...0.7.4">Diff</a>
Added <code>bookshelf.model(name, protoProps, [staticProps])</code> syntax for registry plugin.</p>
<p><strong>0.7.3</strong> — <small><em>June 17, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.2...0.7.3">Diff</a>
Fix for collection dropping models early in set, #376.</p>
<p><strong>0.7.2</strong> — <small><em>June 12, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.1...0.7.2">Diff</a>
Pass a cloned copy of the model's attributes to <code>format</code> rather than the original, related to #315.</p>
<p><strong>0.7.1</strong> — <small><em>June 10, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.7.0...0.7.1">Diff</a>
Ensure the knex version &gt;= 0.6.10, where a major regression affecting column names was fixed.</p>
<p><strong>0.7.0</strong> — <small><em>June 9, 2014</em></small></p>
<ul>
<li>Added {@link Model#fetchAll}, for fetching a collection of models from a model.</li>
<li>Added {@link Model#where}, as a shortcut for the most commonly used {@linkplain Model#query query method}.</li>
<li>Initializing via a plain options object is deprecated, you must now pass in an initialized knex instance.</li>
<li>Adding typed errors (#221).</li>
<li>Upgrade to support knex 0.6.x</li>
</ul>
<p><strong>0.6.12</strong> — <small><em>June 5, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.11...0.6.12">Diff</a>
Fix for eager loaded belongsTo relation bug with custom parse/format (#377).</p>
<p><strong>0.6.11</strong> — <small><em>June 4, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.10...0.6.11">Diff</a>
Temporarily add knex to <code>peerDependencies</code> until 0.7 is released to support knex 0.6 and there exists a better internal method of doing a semver check. Fix for belongsTo relation bug (#353).</p>
<p><strong>0.6.10</strong> — <small><em>April 3, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.9...0.6.10">Diff</a></p>
<ul>
<li>Bumping dependencies, including upgrading to Bluebird 1.2, trigger-then 0.3, fixing an erroneous &quot;unhandledRejection&quot; (#310).</li>
<li><code>fetchOne</code> properly resets the query on the collection, (#300).</li>
</ul>
<p><strong>0.6.9</strong> — <small><em>April 3, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.8...0.6.9">Diff</a>
Only prefix model fields with the &quot;tableName&quot; after format has been called, (#308).</p>
<p><strong>0.6.8</strong> — <small><em>March 6, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.7...0.6.8">Diff</a></p>
<ul>
<li>Virtuals plugin may now accept a hash of attributes to set.</li>
<li>Properly fix issue addressed in 0.6.7.</li>
</ul>
<p><strong>0.6.7</strong> — <small><em>March 2, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.6...0.6.7">Diff</a>
Bugfix for edge case for eager loaded relations and <code>relatedData</code> settings.</p>
<p><strong>0.6.6</strong> — <small><em>March 1, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.5...0.6.6">Diff</a>
Bugfix for registry plugin, resolving correct models for &quot;through&quot; relations. (#260)</p>
<p><strong>0.6.5</strong> — <small><em>February 28, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.4...0.6.5">Diff</a></p>
<ul>
<li>Added {@link Collection#reduceThen} as a passthrough to Bluebird's &quot;reduce&quot; method with models.</li>
<li>Options are now passed to &quot;plugin&quot; method. (#254)</li>
<li>Bugfix for registry plugin. (#259)</li>
</ul>
<p><strong>0.6.4</strong> — <small><em>February 11, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.3...0.6.4">Diff</a>
Adds static method {@link Model.collection Model.collection()} as a shortcut for creating a collection with the current model.</p>
<p><strong>0.6.3</strong> — <small><em>February 9, 2014</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.2...0.6.3">Diff</a></p>
<ul>
<li>Added an<code>Relation#updatePivot</code> method for updating tables on a &quot;belongsToMany&quot; relation. (#134, #230)</li>
<li>Allow mutating the options for passing constraints to eager loaded relations. (#151)</li>
<li>All keys of an object passed into sync are properly prefixed before sync. (#177)</li>
<li>Clearer error messages for debugging. (#204, #197)</li>
<li>Fixed error message for updates that don't affect rows. (#228)</li>
<li>Group by the correct key on &quot;belongsTo.through&quot; relations. (#214)</li>
<li>Ability to only use <code>created_at</code> or <code>updated_at</code> as timestamp properties. (#158)</li>
<li>Numerous documentation corrections, clarifications, enhancements.</li>
<li>Bumped Bluebird dependency to ~1.0.0.</li>
</ul>
<p><strong>Plugins:</strong></p>
<ul>
<li>Added the <code>registry</code> plugin for registering models as strings, helping with the circular dependency problem</li>
<li>Added the <code>virtuals</code> plugin for getting/setting virtual (computed) properties on the model.</li>
<li>Added the <code>visibility</code> plugin for specifying a whitelist/blacklist of keys when a model is serialized with toJSON.</li>
</ul>
<p><strong>0.6.2</strong> — <small><em>December 18, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.1...0.6.2">Diff</a></p>
<ul>
<li>Debug may now be passed as an option in any sync method, to log queries, including relations.</li>
<li>Save now triggers an error in updates with no affected rows. (#119)</li>
<li>The <code>model.id</code> attribute is only set on insert if it's empty. (#130)</li>
<li>Ensure eager loaded relations can use attach/detach. (#120)</li>
</ul>
<p><strong>0.6.1</strong> — <small><em>November 26, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.6.0...0.6.1">Diff</a>
Fixes bug with promise code and saving event firing, where promises are not properly resolved with &quot;.all&quot; during saving events.</p>
<p><strong>0.6.0</strong> — <small><em>November 25, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.8...0.6.0">Diff</a></p>
<ul>
<li>Updating dependency to knex.js 0.5.x</li>
<li>Switched from when.js to <a href="https://github.com/petkaantonov/bluebird">bluebird</a> for promise implementation, with shim for backward compatibility.</li>
<li>Switched from underscore to lodash, for semver reliability.</li>
</ul>
<p><strong>0.5.8</strong> — <small><em>November 24, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.7...0.5.8">Diff</a></p>
<ul>
<li>Parse models after all relations have been eager loaded, for appropriate column name matching (thanks <a href="https://github.com/benesch">@benesch</a>) (#97)</li>
<li>Specify table for <code>withRelated</code> fetches to prevent column naming conflicts (#96).</li>
<li>Fix for polymorphic relation loading (#95).</li>
<li>Other documentation tweaks and other internal code cleanup.</li>
</ul>
<p><strong>0.5.7</strong> — <small><em>October 11, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.6...0.5.7">Diff</a>
The &quot;fetching&quot; event is now fired on eager loaded relation fetches.</p>
<p><strong>0.5.6</strong> — <small><em>October 10, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.5...0.5.6">Diff</a>
The <code>options.query</code> now contains the appropriate <code>knex</code> instance during the &quot;fetching&quot; event handler.</p>
<p><strong>0.5.5</strong> — <small><em>October 1, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.4...0.5.5">Diff</a>
An eager loaded <a href="#Model-morphTo.html">morphTo</a> relation may now have child relations nested beneath it that are properly eager loaded, depending on the parent.</p>
<p><strong>0.5.4</strong> — <small><em>October 1, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.3...0.5.4">Diff</a></p>
<ul>
<li>Fix issue where the <code>relatedData</code> context was not appropriately maintained for subsequent {@link Collection#create} calls after an eager load (#77).</li>
<li>Documentation improvements, encouraging the use of {@link Model#related} rather than calling a relation method directly, to keep association with the parent model's {@link Model#relations relations} hash.</li>
</ul>
<p><strong>0.5.3</strong> — <small><em>September 26, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.2...0.5.3">Diff</a>
The <code>columns</code> explicitly specified in a fetch are no-longer passed along when eager loading relations, fixes (#70).</p>
<p><strong>0.5.2</strong> — <small><em>September 22, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.1...0.5.2">Diff</a>
Fixed incorrect eager loading in <code>belongsTo</code> relations (#65).</p>
<p><strong>0.5.1</strong> — <small><em>September 21, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.5.0...0.5.1">Diff</a>
Fixed incorrect eager loading in <code>hasOne</code> relations (#63).</p>
<p><strong>0.5.0</strong> — <small><em>September 20, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.3.1...0.5.0">Diff</a>
<strong>Major Breaking Changes:</strong></p>
<ul>
<li>Global state is no longer stored in the library, an instance is returned from <code>Bookshelf.initialize</code>, so you will need to call this once and then reference this <code>Bookshelf</code> client elsewhere in your application.</li>
<li>Lowercasing of <code>bookshelf.initialize</code>, <code>bookshelf.knex</code>, <code>bookshelf.transaction</code>.</li>
<li>During the lifecycle events, such as &quot;fetching&quot;, &quot;saving&quot;, or &quot;destroying&quot;, the model no-longer contains the active query builder instance at the time it is saved. If you need to modify the query builder chain inside of an event handler, you may now use <code>options.query</code> inside the event handlers.</li>
</ul>
<p><strong>Other Changes:</strong></p>
<ul>
<li>Added <code>tableName</code> for all queries, so joins use the correct id (#61).</li>
<li>The <code>attach</code> &amp; <code>detach</code> now remove models from the associated collection, as appropriate (#59).</li>
<li>A <code>withPivot</code> no longer accepts an object to specify the keys for the returned pivot items, if you wish to specify how these pivot objects are defined on the object, a custom <a href="#Model-toJSON.html">toJSON</a> is your best bet.</li>
<li>Added {@link Collection#invokeThen} and {@link Collection#mapThen} as convenience helpers for <code>Promise.all(collection.invoke(method, args*))</code> and <code>Promise.all(collection.map(method, iterator, [context]))</code>, respectively.</li>
<li>Added a <code>Bookshelf.plugin</code> method, for a standard way to extend Bookshelf instances.</li>
<li>A re-written modular architecture, to move the library toward becoming a database agnostic &quot;data mapper&quot; foundation, with the ablitiy to form relations between different data stores and types, not just SQL (although SQL is the primary focus for now). Also, support for AMD, for eventual use outside of Node.js runtime (with webSQL and likewise).</li>
</ul>
<p><strong>0.3.1</strong> — <small><em>August 29, 2013</em></small> — <a href="https://github.com/tgriesser/bookshelf/compare/0.3.0...0.3.1">Diff</a> — <a href="http://htmlpreview.github.com/?https://raw.github.com/tgriesser/bookshelf/0.3.0/index.html">Docs</a>
Fixed regression in <code>belongsToMany</code> custom column name order.</p>
<p><strong>0.3.0</strong> — <small><em>August 28, 2013</em></small>
Support for a {@link Model#through} clause on various model relations. Creating a model from a related collection maintains the appropriate relation data (#35). Support for a <code>{patch: true}</code> flag on save, to only update specific saved attributes. Added a <code>fetchOne</code> method, for pulling out a single model from a collection, mostly useful for related collection instances. Updated to Knex &quot;0.2.x&quot; syntax for insert / returning, Ability to specify a <code>morphValue</code> on {@link Model#morphOne} or {@link Model#morphMany} relations. Internal refactor of relations for more consistent behavior.</p>
<p><strong>0.2.8</strong> — <small><em>August 26, 2013</em></small>
Some minor fixes to make the <code>Sync</code> methods more consistent in their behavior when called directly, (#53).</p>
<p><strong>0.2.7</strong> — <small><em>August 21, 2013</em></small>
Timestamp for <code>created_at</code> is not set during an &quot;update&quot; query, and the update where clause does not include the <code>idAttribute</code> if it isn't present (#51).</p>
<p><strong>0.2.6</strong> — <small><em>August 21, 2013</em></small>
Fixes bug with query function feature added in <code>0.2.5</code>, mentioned in (#51).</p>
<p><strong>0.2.5</strong> — <small><em>August 19, 2013</em></small>
The {@link Model#query} method may now accept a function, for even more dynamic query building (#45). Fix for relations not allowing &quot;0&quot; as a valid foreign key value (#49).</p>
<p><strong>0.2.4</strong> — <small><em>July 30, 2013</em></small>
More consistent query resetting, fixing query issues on post-query event handlers. The <code>toJSON</code> is only called on a related model if the method exists, allowing for objects or arrays to be manually specified on the <code>relations</code> hash and serialized properly on the parent's <code>toJSON</code>.</p>
<p><strong>0.2.3</strong> — <small><em>July 7, 2013</em></small>
Fixing bug where <code>triggerThen</code> wasn't actually being used for several of the events as noted in 0.2.1 release.</p>
<p><strong>0.2.2</strong> — <small><em>July 2, 2013</em></small>
The Model's <code>related</code> method is now a no-op if the model doesn't have the related method. Any <code>withPivot</code> columns on many-to-many relations are now prefixed with <code>_pivot</code> rather than <code>pivot</code> unless named otherwise, for consistency. The <code>_reset</code> is not called until after all triggered events so that <code>hasChanged</code> can be used on the current model state in the &quot;created&quot;, &quot;updated&quot;, &quot;saved&quot;, and &quot;destroyed&quot; events. Eager queries may be specified as an object with a function, to constrain the eager queries:</p>
<pre><code>user.fetch({withRelated: ['accounts', {
'accounts.settings': function(qb) { qb.where('status', 'enabled'); }
}, 'other_data']}).then(...
</code></pre>
<p><strong>0.2.1</strong> — <small><em>June 26, 2013</em></small>
Using <code>triggerThen</code> instead of <code>trigger</code> for &quot;created&quot;, &quot;updated&quot;, &quot;saved&quot;, &quot;destroyed&quot;, and &quot;fetched&quot; events - if any async operations are needed <em>after</em> the model is created but before resolving the original promise.</p>
<p><strong>0.2.0</strong> — <small><em>June 24, 2013</em></small>
Resolve Model's <code>fetch</code> promise with <code>null</code> rather than undefined. An object of <code>query</code>. constraints (e.g. <code>{where: {...}, orWhere: {...}}</code>may be passed to the query method (#30). Fix for empty eager relation responses not providing an empty model or collection instance on the <code>model.relations</code> object.</p>
<p><strong>0.1.9</strong> — <small><em>June 19, 2013</em></small>
Resolve Model's <code>fetch</code> promise with <code>undefined</code> if no model was returned. An array of &quot;created at&quot; and &quot;updated at&quot; values may be used for <code>hasTimestamps</code>. Format is called on the <code>Model#fetch</code> method. Added an <code>exec</code> plugin to provide a node callback style interface for any of the promise methods.</p>
<p><strong>0.1.8</strong> — <small><em>June 18, 2013</em></small>
Added support for polymorphic associations, with <code>morphOne</code>, <code>morphMany</code>, and <code>morphTo</code> model methods.</p>
<p><strong>0.1.7</strong> — <small><em>June 15, 2013</em></small>
Bugfix where <code>detach</code> may be used with no parameters to detach all related items (#19).</p>
<p><strong>0.1.6</strong> — <small><em>June 15, 2013</em></small>
Fixing bug allowing custom <code>idAttribute</code> values to be used in eager loaded many-to-many relations (#18).</p>
<p><strong>0.1.5</strong> — <small><em>June 11, 2013</em></small>
Ensuring each of the <code>_previousAttribute</code> and <code>changed</code> values are properly reset on related models after sync actions.</p>
<p><strong>0.1.4</strong> — <small><em>June 10, 2013</em></small>
Fixing issue with <code>idAttribute</code> not being assigned after database inserts. Removing various aliases {@link Events} methods for clarity.</p>
<p><strong>0.1.3</strong> — <small><em>June 10, 2013</em></small>
Added {@link Model#hasChanged}, {@link Model#previous}, and {@link Model#previousAttributes} methods, for getting the previous value of the model since the last sync. Using <code>Object.create(null)</code> for various internal model objects dealing with user values. Calling {@link Model#related} on a model will now create an empty related object if one is not present on the <code>relations</code> object. Removed the <code>{patch: true}</code> option on save, instead only applying defaults if the object <code>isNew</code>, or if <code>{defaults: true}</code> is passed. Fix for <code>model.clone</code>'s relation responses.</p>
<p><strong>0.1.2</strong> — <small><em>May 17, 2013</em></small>
Added <code>triggerThen</code> and <code>emitThen</code> for promise based events, used internally in the &quot;creating&quot;, &quot;updating&quot;, &quot;saving&quot;, and &quot;destroying&quot; events. Docs updates, fixing <code>{patch: true}</code> on <code>update</code> to have intended functionality. A model's <code>toJSON</code> is now correctly called on any related properties.</p>
<p><strong>0.1.1</strong> — <small><em>May 16, 2013</em></small>
Fixed bug with eager loaded <code>belongsTo</code> relations (#14).</p>
<p><strong>0.1.0</strong> — <small><em>May 13, 2013</em></small>
Initial Bookshelf release.</p>
</div>
  </div>
</body>
</html>
