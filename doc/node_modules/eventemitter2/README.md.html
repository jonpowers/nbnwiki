<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/eventemitter2/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#synopsis">SYNOPSIS</a>
      </div>

      <div class="heading h1">
        <a href="#description">DESCRIPTION</a>
      </div>

      <div class="heading h3">
        <a href="#features">FEATURES</a>
      </div>

      <div class="heading h3">
        <a href="#differences-non-breaking-compatible-with-existing-eventemitter">Differences (Non-breaking, compatible with existing EventEmitter)</a>
      </div>

      <div class="heading h1">
        <a href="#api">API</a>
      </div>

      <div class="heading h1">
        <a href="#multi-level-wildcards">Multi-level Wildcards</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.addlistener-event-listener">emitter.addListener(event, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.on-event-listener">emitter.on(event, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.onany-listener">emitter.onAny(listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.offany-listener">emitter.offAny(listener)</a>
      </div>

      <div class="heading h4">
        <a href="#emitter.once-event-listener">emitter.once(event, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.many-event-timestolisten-listener">emitter.many(event, timesToListen, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.removelistener-event-listener">emitter.removeListener(event, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.off-event-listener">emitter.off(event, listener)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.removealllisteners-event">emitter.removeAllListeners([event])</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.setmaxlisteners-n">emitter.setMaxListeners(n)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.listeners-event">emitter.listeners(event)</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.listenersany">emitter.listenersAny()</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.emit-event-arg1-arg2...">emitter.emit(event, [arg1], [arg2], [...])</a>
      </div>

      <div class="heading h3">
        <a href="#emitter.emitasync-event-arg1-arg2...">emitter.emitAsync(event, [arg1], [arg2], [...])</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><p><a href="https://www.codeship.io/projects/11259"><img src="https://www.codeship.io/projects/3ad58940-4c7d-0131-15d5-5a8cd3f550f8/status" alt="build-status"></a></p>
<p><a href="http://badge.fury.io/js/eventemitter2"><img src="https://badge.fury.io/js/eventemitter2.png" alt="NPM version"></a>
<a href="http://badge.fury.io/bo/eventemitter2"><img src="https://badge.fury.io/bo/eventemitter2.png" alt="Bower version"></a></p>
<div class="pilwrap" id="synopsis">
  <h1>
    <a href="#synopsis" name="synopsis" class="pilcrow"></a>
SYNOPSIS
  </h1>
</div>
<p>EventEmitter2 is an implementation of the EventEmitter module found in Node.js. In addition to having a better benchmark performance than EventEmitter and being browser-compatible, it also extends the interface of EventEmitter with additional non-breaking features.</p>
<div class="pilwrap" id="description">
  <h1>
    <a href="#description" name="description" class="pilcrow"></a>
DESCRIPTION
  </h1>
</div>
<div class="pilwrap" id="features">
  <h3>
    <a href="#features" name="features" class="pilcrow"></a>
FEATURES
  </h3>
</div>
<ul>
<li>Namespaces/Wildcards.</li>
<li>Times To Listen (TTL), extends the <code>once</code> concept with <code>many</code>.</li>
<li>Browser environment compatibility.</li>
<li>Demonstrates good performance in benchmarks</li>
</ul>
<pre><code>EventEmitterHeatUp x 3,728,965 ops/sec \302\2610.68% (60 runs sampled)
EventEmitter x 2,822,904 ops/sec \302\2610.74% (63 runs sampled)
EventEmitter2 x 7,251,227 ops/sec \302\2610.55% (58 runs sampled)
EventEmitter2 (wild) x 3,220,268 ops/sec \302\2610.44% (65 runs sampled)
Fastest is EventEmitter2
</code></pre>
<div class="pilwrap" id="differences-non-breaking-compatible-with-existing-eventemitter">
  <h3>
    <a href="#differences-non-breaking-compatible-with-existing-eventemitter" name="differences-non-breaking-compatible-with-existing-eventemitter" class="pilcrow"></a>
Differences (Non-breaking, compatible with existing EventEmitter)
  </h3>
</div>
<ul>
<li>The EventEmitter2 constructor takes an optional configuration object.</li>
</ul>
<pre><code class="javascript">    <span class="hljs-keyword">var</span> EventEmitter2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'eventemitter2'</span>).EventEmitter2;
    <span class="hljs-keyword">var</span> server = <span class="hljs-keyword">new</span> EventEmitter2({

      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// set this to `true` to use wildcards. It defaults to `false`.</span>
      <span class="hljs-comment">//</span>
      wildcard: <span class="hljs-literal">true</span>,

      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// the delimiter used to segment namespaces, defaults to `.`.</span>
      <span class="hljs-comment">//</span>
      delimiter: <span class="hljs-string">'::'</span>, 
      
      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// set this to `true` if you want to emit the newListener event. The default value is `true`.</span>
      <span class="hljs-comment">//</span>
      newListener: <span class="hljs-literal">false</span>, 

      <span class="hljs-comment">//</span>
      <span class="hljs-comment">// the maximum amount of listeners that can be assigned to an event, default 10.</span>
      <span class="hljs-comment">//</span>
      maxListeners: <span class="hljs-number">20</span>
    });
</code></pre>
<ul>
<li>Getting the actual event that fired.</li>
</ul>
<pre><code class="javascript">    server.on(<span class="hljs-string">'foo.*'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value1, value2</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">this</span>.event, value1, value2);
    });
</code></pre>
<ul>
<li>Fire an event N times and then remove it, an extension of the <code>once</code> concept.</li>
</ul>
<pre><code class="javascript">    server.many(<span class="hljs-string">'foo'</span>, <span class="hljs-number">4</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'hello'</span>);
    });
</code></pre>
<ul>
<li>Pass in a namespaced event as an array rather than a delimited string.</li>
</ul>
<pre><code class="javascript">    server.many([<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>, <span class="hljs-string">'bazz'</span>], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'hello'</span>);
    });
</code></pre>
<div class="pilwrap" id="api">
  <h1>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h1>
</div>
<p>When an <code>EventEmitter</code> instance experiences an error, the typical action is
to emit an <code>error</code> event. Error events are treated as a special case.
If there is no listener for it, then the default action is to print a stack
trace and exit the program.</p>
<p>All EventEmitters emit the event <code>newListener</code> when new listeners are
added. EventEmitters also emit the event <code>removeListener</code> when listeners are
removed, and <code>removeListenerAny</code> when listeners added through <code>onAny</code> are
removed.</p>
<p><strong>Namespaces</strong> with <strong>Wildcards</strong>
To use namespaces/wildcards, pass the <code>wildcard</code> option into the EventEmitter
constructor. When namespaces/wildcards are enabled, events can either be
strings (<code>foo.bar</code>) separated by a delimiter or arrays (<code>['foo', 'bar']</code>). The
delimiter is also configurable as a constructor option.</p>
<p>An event name passed to any event emitter method can contain a wild card (the
<code>*</code> character). If the event name is a string, a wildcard may appear as <code>foo.*</code>.
If the event name is an array, the wildcard may appear as <code>['foo', '*']</code>.</p>
<p>If either of the above described events were passed to the <code>on</code> method,
subsequent emits such as the following would be observed...</p>
<pre><code class="javascript">   emitter.emit(<span class="hljs-string">'foo.bazz'</span>);
   emitter.emit([<span class="hljs-string">'foo'</span>, <span class="hljs-string">'bar'</span>]);
</code></pre>
<div class="pilwrap" id="multi-level-wildcards">
  <h1>
    <a href="#multi-level-wildcards" name="multi-level-wildcards" class="pilcrow"></a>
Multi-level Wildcards
  </h1>
</div>
<p>A double wildcard (the string <code>**</code>) matches any number of levels (zero or more) of events. So if for example <code>'foo.**'</code> is passed to the <code>on</code> method, the following events would be observed:</p>
<pre><code class="javascript">    emitter.emit(<span class="hljs-string">'foo'</span>);
    emitter.emit(<span class="hljs-string">'foo.bar'</span>);
    emitter.emit(<span class="hljs-string">'foo.bar.baz'</span>);
</code></pre>
<p>On the other hand, if the single-wildcard event name was passed to the on method, the callback would only observe the second of these events.</p>
<div class="pilwrap" id="emitter.addlistener-event-listener">
  <h3>
    <a href="#emitter.addlistener-event-listener" name="emitter.addlistener-event-listener" class="pilcrow"></a>
emitter.addListener(event, listener)
  </h3>
</div>
<div class="pilwrap" id="emitter.on-event-listener">
  <h3>
    <a href="#emitter.on-event-listener" name="emitter.on-event-listener" class="pilcrow"></a>
emitter.on(event, listener)
  </h3>
</div>
<p>Adds a listener to the end of the listeners array for the specified event.</p>
<pre><code class="javascript">    server.on(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value1, value2, value3, ...</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The event was raised!'</span>);
    });
</code></pre>
<pre><code class="javascript">    server.on(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The event was raised!'</span>);
    });
</code></pre>
<div class="pilwrap" id="emitter.onany-listener">
  <h3>
    <a href="#emitter.onany-listener" name="emitter.onany-listener" class="pilcrow"></a>
emitter.onAny(listener)
  </h3>
</div>
<p>Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the callback.</p>
<pre><code class="javascript">    server.onAny(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event, value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'All events trigger this.'</span>);
    });
</code></pre>
<div class="pilwrap" id="emitter.offany-listener">
  <h3>
    <a href="#emitter.offany-listener" name="emitter.offany-listener" class="pilcrow"></a>
emitter.offAny(listener)
  </h3>
</div>
<p>Removes the listener that will be fired when any event is emitted.</p>
<pre><code class="javascript">    server.offAny(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'The event was raised!'</span>);
    });
</code></pre>
<div class="pilwrap" id="emitter.once-event-listener">
  <h4>
    <a href="#emitter.once-event-listener" name="emitter.once-event-listener" class="pilcrow"></a>
emitter.once(event, listener)
  </h4>
</div>
<p>Adds a <strong>one time</strong> listener for the event. The listener is invoked
only the first time the event is fired, after which it is removed.</p>
<pre><code class="javascript">    server.once(<span class="hljs-string">'get'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Ah, we have our first value!'</span>);
    });
</code></pre>
<div class="pilwrap" id="emitter.many-event-timestolisten-listener">
  <h3>
    <a href="#emitter.many-event-timestolisten-listener" name="emitter.many-event-timestolisten-listener" class="pilcrow"></a>
emitter.many(event, timesToListen, listener)
  </h3>
</div>
<p>Adds a listener that will execute <strong>n times</strong> for the event before being
removed. The listener is invoked only the first <strong>n times</strong> the event is
fired, after which it is removed.</p>
<pre><code class="javascript">    server.many(<span class="hljs-string">'get'</span>, <span class="hljs-number">4</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'This event will be listened to exactly four times.'</span>);
    });
</code></pre>
<div class="pilwrap" id="emitter.removelistener-event-listener">
  <h3>
    <a href="#emitter.removelistener-event-listener" name="emitter.removelistener-event-listener" class="pilcrow"></a>
emitter.removeListener(event, listener)
  </h3>
</div>
<div class="pilwrap" id="emitter.off-event-listener">
  <h3>
    <a href="#emitter.off-event-listener" name="emitter.off-event-listener" class="pilcrow"></a>
emitter.off(event, listener)
  </h3>
</div>
<p>Remove a listener from the listener array for the specified event.
<strong>Caution</strong>: Calling this method changes the array indices in the listener array behind the listener.</p>
<pre><code class="javascript">    <span class="hljs-keyword">var</span> callback = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'someone connected!'</span>);
    };
    server.on(<span class="hljs-string">'get'</span>, callback);
    <span class="hljs-comment">// ...</span>
    server.removeListener(<span class="hljs-string">'get'</span>, callback);
</code></pre>
<div class="pilwrap" id="emitter.removealllisteners-event">
  <h3>
    <a href="#emitter.removealllisteners-event" name="emitter.removealllisteners-event" class="pilcrow"></a>
emitter.removeAllListeners([event])
  </h3>
</div>
<p>Removes all listeners, or those of the specified event.</p>
<div class="pilwrap" id="emitter.setmaxlisteners-n">
  <h3>
    <a href="#emitter.setmaxlisteners-n" name="emitter.setmaxlisteners-n" class="pilcrow"></a>
emitter.setMaxListeners(n)
  </h3>
</div>
<p>By default EventEmitters will print a warning if more than 10 listeners
are added to it. This is a useful default which helps finding memory leaks.
Obviously not all Emitters should be limited to 10. This function allows
that to be increased. Set to zero for unlimited.</p>
<div class="pilwrap" id="emitter.listeners-event">
  <h3>
    <a href="#emitter.listeners-event" name="emitter.listeners-event" class="pilcrow"></a>
emitter.listeners(event)
  </h3>
</div>
<p>Returns an array of listeners for the specified event. This array can be
manipulated, e.g. to remove listeners.</p>
<pre><code class="javascript">    server.on(<span class="hljs-string">'get'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'someone connected!'</span>);
    });
    <span class="hljs-built_in">console</span>.log(server.listeners(<span class="hljs-string">'get'</span>)); <span class="hljs-comment">// [ [Function] ]</span>
</code></pre>
<div class="pilwrap" id="emitter.listenersany">
  <h3>
    <a href="#emitter.listenersany" name="emitter.listenersany" class="pilcrow"></a>
emitter.listenersAny()
  </h3>
</div>
<p>Returns an array of listeners that are listening for any event that is
specified. This array can be manipulated, e.g. to remove listeners.</p>
<pre><code class="javascript">    server.onAny(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'someone connected!'</span>);
    });
    <span class="hljs-built_in">console</span>.log(server.listenersAny()[<span class="hljs-number">0</span>]); <span class="hljs-comment">// [ [Function] ]</span>
</code></pre>
<div class="pilwrap" id="emitter.emit-event-arg1-arg2...">
  <h3>
    <a href="#emitter.emit-event-arg1-arg2..." name="emitter.emit-event-arg1-arg2..." class="pilcrow"></a>
emitter.emit(event, [arg1], [arg2], [...])
  </h3>
</div>
<p>Execute each of the listeners that may be listening for the specified event
name in order with the list of arguments.</p>
<div class="pilwrap" id="emitter.emitasync-event-arg1-arg2...">
  <h3>
    <a href="#emitter.emitasync-event-arg1-arg2..." name="emitter.emitasync-event-arg1-arg2..." class="pilcrow"></a>
emitter.emitAsync(event, [arg1], [arg2], [...])
  </h3>
</div>
<p>Return the results of the listeners via <a href="https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/Promise/all">Promise.all</a>.
Only this method doesn't work <a href="http://caniuse.com/#search=promise">IE</a>.</p>
<pre><code class="javascript">    emitter.on(<span class="hljs-string">'get'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>)</span>{
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
          resolve(i+<span class="hljs-number">3</span>);
        },<span class="hljs-number">50</span>);
      });
    });
    emitter.on(<span class="hljs-string">'get'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">resolve</span>)</span>{
        resolve(i+<span class="hljs-number">2</span>)
      });
    });
    emitter.on(<span class="hljs-string">'get'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.resolve(i+<span class="hljs-number">1</span>);
    });
    emitter.on(<span class="hljs-string">'get'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
      <span class="hljs-keyword">return</span> i+<span class="hljs-number">0</span>;
    });
    emitter.on(<span class="hljs-string">'get'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>) </span>{
      <span class="hljs-comment">// noop</span>
    });
    
    emitter.emitAsync(<span class="hljs-string">'get'</span>,<span class="hljs-number">0</span>)
    .then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">results</span>)</span>{
      <span class="hljs-built_in">console</span>.log(results); <span class="hljs-comment">// [3,2,1,0,undefined]</span>
    });
</code></pre>
</div>
  </div>
</body>
</html>
