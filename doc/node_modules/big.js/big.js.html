<!DOCTYPE html>
<html>
<head>
  <title>big.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/big.js/big.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>big.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript"><span class="hljs-comment">/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */</span>
;(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">global</span>) </span>{<span class="hljs-meta">
    'use strict'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>big.js v3.1.3
A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.
https://github.com/MikeMcl/big.js/
Copyright (c) 2014 Michael Mclaughlin <a href="mailto:M8ch88l@gmail.com.html">M8ch88l@gmail.com</a>
MIT Expat Licence</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
<span class="hljs-comment">/***************************** EDITABLE DEFAULTS ******************************/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>The default values below must be integers within the stated ranges.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<div class="dox">
<div class="summary">
<p>The maximum number of decimal places of the results of operations
involving division: div and sqrt, and pow with negative exponents.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> DP = <span class="hljs-number">20</span>,                           <span class="hljs-comment">// 0 to MAX_DP</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<div class="dox">
<div class="summary">
<p>The rounding mode used when rounding to the above decimal places.</p>
<p>0 Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)
1 To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)
2 To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)
3 Away from zero.                                  (ROUND_UP)</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        RM = <span class="hljs-number">1</span>,                            <span class="hljs-comment">// 0, 1, 2 or 3</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>The maximum value of DP and Big.DP.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        MAX_DP = <span class="hljs-number">1E6</span>,                      <span class="hljs-comment">// 0 to 1000000</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>The maximum magnitude of the exponent argument to the pow method.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        MAX_POWER = <span class="hljs-number">1E6</span>,                   <span class="hljs-comment">// 1 to 1000000</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<div class="dox">
<div class="summary">
<p>The exponent value at and beneath which toString returns exponential
notation.
JavaScript's Number type: -7
-1000000 is the minimum recommended exponent value of a Big.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        E_NEG = <span class="hljs-number">-7</span>,                   <span class="hljs-comment">// 0 to -1000000</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<div class="dox">
<div class="summary">
<p>The exponent value at and above which toString returns exponential
notation.
JavaScript's Number type: 21
1000000 is the maximum recommended exponent value of a Big.
(This limit is not enforced or checked.)</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        E_POS = <span class="hljs-number">21</span>,                   <span class="hljs-comment">// 0 to 1000000</span>

<span class="hljs-comment">/******************************************************************************/</span>

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>The shared prototype object.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        P = {},
        isValid = <span class="hljs-regexp">/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i</span>,
        Big;


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Create and return a Big constructor.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bigFactory</span>(<span class="hljs-params"></span>) </span>{

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>The Big constructor and exported function.
Create and return a new instance of a Big number object.</p>
<p>n {number|string|Big} A numeric value.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Big</span>(<span class="hljs-params">n</span>) </span>{
            <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<p>Enable constructor usage without new.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (!(x <span class="hljs-keyword">instanceof</span> Big)) {
                <span class="hljs-keyword">return</span> n === <span class="hljs-keyword">void</span> <span class="hljs-number">0</span> ? bigFactory() : <span class="hljs-keyword">new</span> Big(n);
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<p>Duplicate.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (n <span class="hljs-keyword">instanceof</span> Big) {
                x.s = n.s;
                x.e = n.e;
                x.c = n.c.slice();
            } <span class="hljs-keyword">else</span> {
                parse(x, n);
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<div class="dox">
<div class="summary">
<p>Retain a reference to this Big constructor, and shadow
Big.prototype.constructor which points to Object.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">            x.constructor = Big;
        }

        Big.prototype = P;
        Big.DP = DP;
        Big.RM = RM;
        Big.E_NEG = E_NEG;
        Big.E_POS = E_POS;

        <span class="hljs-keyword">return</span> Big;
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<p>Private functions</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string representing the value of Big x in normal or exponential
notation to dp fixed decimal places or significant digits.</p>
<p>x {Big} The Big to format.
dp {number} Integer, 0 to MAX_DP inclusive.
toE {number} 1 (toExponential), 2 (toPrecision) or undefined (toFixed).</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">format</span>(<span class="hljs-params">x, dp, toE</span>) </span>{
        <span class="hljs-keyword">var</span> Big = x.constructor,

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<p>The index (normal notation) of the digit that may be rounded up.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            i = dp - (x = <span class="hljs-keyword">new</span> Big(x)).e,
            c = x.c;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>Round?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (c.length &gt; ++dp) {
            rnd(x, i, Big.RM);
        }

        <span class="hljs-keyword">if</span> (!c[<span class="hljs-number">0</span>]) {
            ++i;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (toE) {
            i = dp;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<p>toFixed</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> {
            c = x.c;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>Recalculate i as x.e may have changed if value rounded up.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            i = x.e + i + <span class="hljs-number">1</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>Append zeros?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; c.length &lt; i; c.push(<span class="hljs-number">0</span>)) {
        }
        i = x.e;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<div class="dox">
<div class="summary">
<p>toPrecision returns exponential notation if the number of
significant digits specified is less than the number of digits
necessary to represent the integer part of the value in normal
notation.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> toE === <span class="hljs-number">1</span> || toE &amp;&amp; (dp &lt;= i || i &lt;= Big.E_NEG) ?

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<p>Exponential notation.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          (x.s &lt; <span class="hljs-number">0</span> &amp;&amp; c[<span class="hljs-number">0</span>] ? <span class="hljs-string">'-'</span> : <span class="hljs-string">''</span>) +
            (c.length &gt; <span class="hljs-number">1</span> ? c[<span class="hljs-number">0</span>] + <span class="hljs-string">'.'</span> + c.join(<span class="hljs-string">''</span>).slice(<span class="hljs-number">1</span>) : c[<span class="hljs-number">0</span>]) +
              (i &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'e'</span> : <span class="hljs-string">'e+'</span>) + i

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-25" id="section-25"></a>
</div>
<p>Normal notation.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          : x.toString();
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-26" id="section-26"></a>
</div>
<div class="dox">
<div class="summary">
<p>Parse the number or string value passed to a Big constructor.</p>
<p>x {Big} A Big number instance.
n {number|string} A numeric value.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">x, n</span>) </span>{
        <span class="hljs-keyword">var</span> e, i, nL;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-27" id="section-27"></a>
</div>
<p>Minus zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (n === <span class="hljs-number">0</span> &amp;&amp; <span class="hljs-number">1</span> / n &lt; <span class="hljs-number">0</span>) {
            n = <span class="hljs-string">'-0'</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-28" id="section-28"></a>
</div>
<p>Ensure n is string and check validity.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!isValid.test(n += <span class="hljs-string">''</span>)) {
            throwErr(<span class="hljs-literal">NaN</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-29" id="section-29"></a>
</div>
<p>Determine sign.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        x.s = n.charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">'-'</span> ? (n = n.slice(<span class="hljs-number">1</span>), <span class="hljs-number">-1</span>) : <span class="hljs-number">1</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-30" id="section-30"></a>
</div>
<p>Decimal point?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> ((e = n.indexOf(<span class="hljs-string">'.'</span>)) &gt; <span class="hljs-number">-1</span>) {
            n = n.replace(<span class="hljs-string">'.'</span>, <span class="hljs-string">''</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-31" id="section-31"></a>
</div>
<p>Exponential form?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> ((i = n.search(<span class="hljs-regexp">/e/i</span>)) &gt; <span class="hljs-number">0</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-32" id="section-32"></a>
</div>
<p>Determine exponent.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (e &lt; <span class="hljs-number">0</span>) {
                e = i;
            }
            e += +n.slice(i + <span class="hljs-number">1</span>);
            n = n.substring(<span class="hljs-number">0</span>, i);

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e &lt; <span class="hljs-number">0</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-33" id="section-33"></a>
</div>
<p>Integer.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            e = n.length;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-34" id="section-34"></a>
</div>
<p>Determine leading zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; n.charAt(i) == <span class="hljs-string">'0'</span>; i++) {
        }

        <span class="hljs-keyword">if</span> (i == (nL = n.length)) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-35" id="section-35"></a>
</div>
<p>Zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            x.c = [ x.e = <span class="hljs-number">0</span> ];
        } <span class="hljs-keyword">else</span> {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-36" id="section-36"></a>
</div>
<p>Determine trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (; n.charAt(--nL) == <span class="hljs-string">'0'</span>;) {
            }

            x.e = e - i - <span class="hljs-number">1</span>;
            x.c = [];

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-37" id="section-37"></a>
</div>
<p>Convert string to array of digits without leading/trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (e = <span class="hljs-number">0</span>; i &lt;= nL; x.c[e++] = +n.charAt(i++)) {
            }
        }

        <span class="hljs-keyword">return</span> x;
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-38" id="section-38"></a>
</div>
<div class="dox">
<div class="summary">
<p>Round Big x to a maximum of dp decimal places using rounding mode rm.
Called by div, sqrt and round.</p>
<p>x {Big} The Big to round.
dp {number} Integer, 0 to MAX_DP inclusive.
rm {number} 0, 1, 2 or 3 (DOWN, HALF_UP, HALF_EVEN, UP)
[more] {boolean} Whether the result of division was truncated.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rnd</span>(<span class="hljs-params">x, dp, rm, more</span>) </span>{
        <span class="hljs-keyword">var</span> u,
            xc = x.c,
            i = x.e + dp + <span class="hljs-number">1</span>;

        <span class="hljs-keyword">if</span> (rm === <span class="hljs-number">1</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-39" id="section-39"></a>
</div>
<p>xc[i] is the digit after the digit that may be rounded up.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            more = xc[i] &gt;= <span class="hljs-number">5</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rm === <span class="hljs-number">2</span>) {
            more = xc[i] &gt; <span class="hljs-number">5</span> || xc[i] == <span class="hljs-number">5</span> &amp;&amp;
              (more || i &lt; <span class="hljs-number">0</span> || xc[i + <span class="hljs-number">1</span>] !== u || xc[i - <span class="hljs-number">1</span>] &amp; <span class="hljs-number">1</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rm === <span class="hljs-number">3</span>) {
            more = more || xc[i] !== u || i &lt; <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            more = <span class="hljs-literal">false</span>;

            <span class="hljs-keyword">if</span> (rm !== <span class="hljs-number">0</span>) {
                throwErr(<span class="hljs-string">'!Big.RM!'</span>);
            }
        }

        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">1</span> || !xc[<span class="hljs-number">0</span>]) {

            <span class="hljs-keyword">if</span> (more) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-40" id="section-40"></a>
</div>
<p>1, 0.1, 0.01, 0.001, 0.0001 etc.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                x.e = -dp;
                x.c = [<span class="hljs-number">1</span>];
            } <span class="hljs-keyword">else</span> {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-41" id="section-41"></a>
</div>
<p>Zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                x.c = [x.e = <span class="hljs-number">0</span>];
            }
        } <span class="hljs-keyword">else</span> {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-42" id="section-42"></a>
</div>
<p>Remove any digits after the required decimal places.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            xc.length = i--;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-43" id="section-43"></a>
</div>
<p>Round up?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (more) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-44" id="section-44"></a>
</div>
<p>Rounding up may mean the previous digit has to be rounded up.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">for</span> (; ++xc[i] &gt; <span class="hljs-number">9</span>;) {
                    xc[i] = <span class="hljs-number">0</span>;

                    <span class="hljs-keyword">if</span> (!i--) {
                        ++x.e;
                        xc.unshift(<span class="hljs-number">1</span>);
                    }
                }
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-45" id="section-45"></a>
</div>
<p>Remove trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (i = xc.length; !xc[--i]; xc.pop()) {
            }
        }

        <span class="hljs-keyword">return</span> x;
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-46" id="section-46"></a>
</div>
<div class="dox">
<div class="summary">
<p>Throw a BigError.</p>
<p>message {string} The error message.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">throwErr</span>(<span class="hljs-params">message</span>) </span>{
        <span class="hljs-keyword">var</span> err = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(message);
        err.name = <span class="hljs-string">'BigError'</span>;

        <span class="hljs-keyword">throw</span> err;
    }


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-47" id="section-47"></a>
</div>
<p>Prototype/instance methods</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-48" id="section-48"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the absolute value of this Big.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.abs = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.constructor(<span class="hljs-keyword">this</span>);
        x.s = <span class="hljs-number">1</span>;

        <span class="hljs-keyword">return</span> x;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-49" id="section-49"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return
1 if the value of this Big is greater than the value of Big y,
-1 if the value of this Big is less than the value of Big y, or
0 if they have the same value.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.cmp = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> xNeg,
            x = <span class="hljs-keyword">this</span>,
            xc = x.c,
            yc = (y = <span class="hljs-keyword">new</span> x.constructor(y)).c,
            i = x.s,
            j = y.s,
            k = x.e,
            l = y.e;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-50" id="section-50"></a>
</div>
<p>Either zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>] || !yc[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">return</span> !xc[<span class="hljs-number">0</span>] ? !yc[<span class="hljs-number">0</span>] ? <span class="hljs-number">0</span> : -j : i;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-51" id="section-51"></a>
</div>
<p>Signs differ?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (i != j) {
            <span class="hljs-keyword">return</span> i;
        }
        xNeg = i &lt; <span class="hljs-number">0</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-52" id="section-52"></a>
</div>
<p>Compare exponents.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (k != l) {
            <span class="hljs-keyword">return</span> k &gt; l ^ xNeg ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;
        }

        i = <span class="hljs-number">-1</span>;
        j = (k = xc.length) &lt; (l = yc.length) ? k : l;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-53" id="section-53"></a>
</div>
<p>Compare digit by digit.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; ++i &lt; j;) {

            <span class="hljs-keyword">if</span> (xc[i] != yc[i]) {
                <span class="hljs-keyword">return</span> xc[i] &gt; yc[i] ^ xNeg ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;
            }
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-54" id="section-54"></a>
</div>
<p>Compare lengths.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> k == l ? <span class="hljs-number">0</span> : k &gt; l ^ xNeg ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-55" id="section-55"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big divided by the
value of Big y, rounded, if necessary, to a maximum of Big.DP decimal
places using rounding mode Big.RM.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.div = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-56" id="section-56"></a>
</div>
<p>dividend</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            dvd = x.c,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-57" id="section-57"></a>
</div>
<p>divisor</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            dvs = (y = <span class="hljs-keyword">new</span> Big(y)).c,
            s = x.s == y.s ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>,
            dp = Big.DP;

        <span class="hljs-keyword">if</span> (dp !== ~~dp || dp &lt; <span class="hljs-number">0</span> || dp &gt; MAX_DP) {
            throwErr(<span class="hljs-string">'!Big.DP!'</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-58" id="section-58"></a>
</div>
<p>Either 0?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!dvd[<span class="hljs-number">0</span>] || !dvs[<span class="hljs-number">0</span>]) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-59" id="section-59"></a>
</div>
<p>If both are 0, throw NaN</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (dvd[<span class="hljs-number">0</span>] == dvs[<span class="hljs-number">0</span>]) {
                throwErr(<span class="hljs-literal">NaN</span>);
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-60" id="section-60"></a>
</div>
<p>If dvs is 0, throw +-Infinity.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (!dvs[<span class="hljs-number">0</span>]) {
                throwErr(s / <span class="hljs-number">0</span>);
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-61" id="section-61"></a>
</div>
<p>dvd is 0, return +-0.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Big(s * <span class="hljs-number">0</span>);
        }

        <span class="hljs-keyword">var</span> dvsL, dvsT, next, cmp, remI, u,
            dvsZ = dvs.slice(),
            dvdI = dvsL = dvs.length,
            dvdL = dvd.length,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-62" id="section-62"></a>
</div>
<p>remainder</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            rem = dvd.slice(<span class="hljs-number">0</span>, dvsL),
            remL = rem.length,
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-63" id="section-63"></a>
</div>
<p>quotient</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            q = y,
            qc = q.c = [],
            qi = <span class="hljs-number">0</span>,
            digits = dp + (q.e = x.e - y.e) + <span class="hljs-number">1</span>;

        q.s = s;
        s = digits &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> : digits;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-64" id="section-64"></a>
</div>
<p>Create version of divisor with leading zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        dvsZ.unshift(<span class="hljs-number">0</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-65" id="section-65"></a>
</div>
<p>Add zeros to make remainder as long as divisor.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; remL++ <span class="xml"><span class="hljs-tag">&lt; <span class="hljs-attr">dvsL</span>; <span class="hljs-attr">rem.push</span>(<span class="hljs-attr">0</span>)) {
        }

        <span class="hljs-attr">do</span> {

</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-66" id="section-66"></a>
</div>
<p>'next' is how many times the divisor goes into current remainder.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (next = <span class="hljs-number">0</span>; next &lt; <span class="hljs-number">10</span>; next++) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-67" id="section-67"></a>
</div>
<p>Compare divisor and remainder.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (dvsL != (remL = rem.length)) {
                    cmp = dvsL &gt; remL ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;
                } <span class="hljs-keyword">else</span> {

                    <span class="hljs-keyword">for</span> (remI = <span class="hljs-number">-1</span>, cmp = <span class="hljs-number">0</span>; ++remI &lt; dvsL;) {

                        <span class="hljs-keyword">if</span> (dvs[remI] != rem[remI]) {
                            cmp = dvs[remI] &gt; rem[remI] ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;
                            <span class="hljs-keyword">break</span>;
                        }
                    }
                }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-68" id="section-68"></a>
</div>
<p>If divisor &lt; remainder, subtract divisor from remainder.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">if</span> (cmp &lt; <span class="hljs-number">0</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-69" id="section-69"></a>
</div>
<p>Remainder can't be more than 1 digit longer than divisor.
Equalise lengths using divisor with extra leading zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                    <span class="hljs-keyword">for</span> (dvsT = remL == dvsL ? dvs : dvsZ; remL;) {

                        <span class="hljs-keyword">if</span> (rem[--remL] &lt; dvsT[remL]) {
                            remI = remL;

                            <span class="hljs-keyword">for</span> (; remI &amp;&amp; !rem[--remI]; rem[remI] = <span class="hljs-number">9</span>) {
                            }
                            --rem[remI];
                            rem[remL] += <span class="hljs-number">10</span>;
                        }
                        rem[remL] -= dvsT[remL];
                    }
                    <span class="hljs-keyword">for</span> (; !rem[<span class="hljs-number">0</span>]; rem.shift()) {
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">break</span>;
                }
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-70" id="section-70"></a>
</div>
<p>Add the 'next' digit to the result array.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            qc[qi++] = cmp ? next : ++next;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-71" id="section-71"></a>
</div>
<p>Update the remainder.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (rem[<span class="hljs-number">0</span>] &amp;&amp; cmp) {
                rem[remL] = dvd[dvdI] || <span class="hljs-number">0</span>;
            } <span class="hljs-keyword">else</span> {
                rem = [ dvd[dvdI] ];
            }

        } <span class="hljs-keyword">while</span> ((dvdI++ <span class="xml"><span class="hljs-tag">&lt; <span class="hljs-attr">dvdL</span> || <span class="hljs-attr">rem</span>[<span class="hljs-attr">0</span>] !== <span class="hljs-string">u)</span> &amp;&amp; <span class="hljs-attr">s--</span>);

</span></span></pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-72" id="section-72"></a>
</div>
<p>Leading zero? Do not remove if result is simply zero (qi == 1).</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!qc[<span class="hljs-number">0</span>] &amp;&amp; qi != <span class="hljs-number">1</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-73" id="section-73"></a>
</div>
<p>There can't be more than one zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            qc.shift();
            q.e--;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-74" id="section-74"></a>
</div>
<p>Round?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (qi &gt; digits) {
            rnd(q, dp, Big.RM, rem[<span class="hljs-number">0</span>] !== u);
        }

        <span class="hljs-keyword">return</span> q;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-75" id="section-75"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return true if the value of this Big is equal to the value of Big y,
otherwise returns false.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.eq = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">return</span> !<span class="hljs-keyword">this</span>.cmp(y);
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-76" id="section-76"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return true if the value of this Big is greater than the value of Big y,
otherwise returns false.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.gt = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cmp(y) &gt; <span class="hljs-number">0</span>;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-77" id="section-77"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return true if the value of this Big is greater than or equal to the
value of Big y, otherwise returns false.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.gte = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cmp(y) &gt; <span class="hljs-number">-1</span>;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-78" id="section-78"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return true if the value of this Big is less than the value of Big y,
otherwise returns false.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.lt = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cmp(y) &lt; <span class="hljs-number">0</span>;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-79" id="section-79"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return true if the value of this Big is less than or equal to the value
of Big y, otherwise returns false.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.lte = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
         <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.cmp(y) &lt; <span class="hljs-number">1</span>;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-80" id="section-80"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big minus the value
of Big y.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.sub = P.minus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> i, j, t, xLTy,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            a = x.s,
            b = (y = <span class="hljs-keyword">new</span> Big(y)).s;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-81" id="section-81"></a>
</div>
<p>Signs differ?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (a != b) {
            y.s = -b;
            <span class="hljs-keyword">return</span> x.plus(y);
        }

        <span class="hljs-keyword">var</span> xc = x.c.slice(),
            xe = x.e,
            yc = y.c,
            ye = y.e;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-82" id="section-82"></a>
</div>
<p>Either zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>] || !yc[<span class="hljs-number">0</span>]) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-83" id="section-83"></a>
</div>
<p>y is non-zero? x is non-zero? Or both are zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> yc[<span class="hljs-number">0</span>] ? (y.s = -b, y) : <span class="hljs-keyword">new</span> Big(xc[<span class="hljs-number">0</span>] ? x : <span class="hljs-number">0</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-84" id="section-84"></a>
</div>
<p>Determine which is the bigger number.
Prepend zeros to equalise exponents.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (a = xe - ye) {

            <span class="hljs-keyword">if</span> (xLTy = a &lt; <span class="hljs-number">0</span>) {
                a = -a;
                t = xc;
            } <span class="hljs-keyword">else</span> {
                ye = xe;
                t = yc;
            }

            t.reverse();
            <span class="hljs-keyword">for</span> (b = a; b--; t.push(<span class="hljs-number">0</span>)) {
            }
            t.reverse();
        } <span class="hljs-keyword">else</span> {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-85" id="section-85"></a>
</div>
<p>Exponents equal. Check digit by digit.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            j = ((xLTy = xc.length &lt; yc.length) ? xc : yc).length;

            <span class="hljs-keyword">for</span> (a = b = <span class="hljs-number">0</span>; b &lt; j; b++) {

                <span class="hljs-keyword">if</span> (xc[b] != yc[b]) {
                    xLTy = xc[b] &lt; yc[b];
                    <span class="hljs-keyword">break</span>;
                }
            }
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-86" id="section-86"></a>
</div>
<p>x &lt; y? Point xc to the array of the bigger number.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (xLTy) {
            t = xc;
            xc = yc;
            yc = t;
            y.s = -y.s;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-87" id="section-87"></a>
</div>
<div class="dox">
<div class="summary">
<p>Append zeros to xc if shorter. No need to add zeros to yc if shorter
as subtraction only needs to start at yc.length.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (( b = (j = yc.length) - (i = xc.length) ) &gt; <span class="hljs-number">0</span>) {

            <span class="hljs-keyword">for</span> (; b--; xc[i++] = <span class="hljs-number">0</span>) {
            }
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-88" id="section-88"></a>
</div>
<p>Subtract yc from xc.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (b = i; j &gt; a;){

            <span class="hljs-keyword">if</span> (xc[--j] &lt; yc[j]) {

                <span class="hljs-keyword">for</span> (i = j; i &amp;&amp; !xc[--i]; xc[i] = <span class="hljs-number">9</span>) {
                }
                --xc[i];
                xc[j] += <span class="hljs-number">10</span>;
            }
            xc[j] -= yc[j];
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-89" id="section-89"></a>
</div>
<p>Remove trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; xc[--b] === <span class="hljs-number">0</span>; xc.pop()) {
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-90" id="section-90"></a>
</div>
<p>Remove leading zeros and adjust exponent accordingly.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (; xc[<span class="hljs-number">0</span>] === <span class="hljs-number">0</span>;) {
            xc.shift();
            --ye;
        }

        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>]) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-91" id="section-91"></a>
</div>
<p>n - n = +0</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            y.s = <span class="hljs-number">1</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-92" id="section-92"></a>
</div>
<p>Result must be zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            xc = [ye = <span class="hljs-number">0</span>];
        }

        y.c = xc;
        y.e = ye;

        <span class="hljs-keyword">return</span> y;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-93" id="section-93"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big modulo the
value of Big y.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.mod = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> yGTx,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            a = x.s,
            b = (y = <span class="hljs-keyword">new</span> Big(y)).s;

        <span class="hljs-keyword">if</span> (!y.c[<span class="hljs-number">0</span>]) {
            throwErr(<span class="hljs-literal">NaN</span>);
        }

        x.s = y.s = <span class="hljs-number">1</span>;
        yGTx = y.cmp(x) == <span class="hljs-number">1</span>;
        x.s = a;
        y.s = b;

        <span class="hljs-keyword">if</span> (yGTx) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Big(x);
        }

        a = Big.DP;
        b = Big.RM;
        Big.DP = Big.RM = <span class="hljs-number">0</span>;
        x = x.div(y);
        Big.DP = a;
        Big.RM = b;

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.minus( x.times(y) );
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-94" id="section-94"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big plus the value
of Big y.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.add = P.plus = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> t,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            a = x.s,
            b = (y = <span class="hljs-keyword">new</span> Big(y)).s;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-95" id="section-95"></a>
</div>
<p>Signs differ?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (a != b) {
            y.s = -b;
            <span class="hljs-keyword">return</span> x.minus(y);
        }

        <span class="hljs-keyword">var</span> xe = x.e,
            xc = x.c,
            ye = y.e,
            yc = y.c;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-96" id="section-96"></a>
</div>
<p>Either zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>] || !yc[<span class="hljs-number">0</span>]) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-97" id="section-97"></a>
</div>
<p>y is non-zero? x is non-zero? Or both are zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">return</span> yc[<span class="hljs-number">0</span>] ? y : <span class="hljs-keyword">new</span> Big(xc[<span class="hljs-number">0</span>] ? x : a * <span class="hljs-number">0</span>);
        }
        xc = xc.slice();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-98" id="section-98"></a>
</div>
<p>Prepend zeros to equalise exponents.
Note: Faster to use reverse then do unshifts.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (a = xe - ye) {

            <span class="hljs-keyword">if</span> (a &gt; <span class="hljs-number">0</span>) {
                ye = xe;
                t = yc;
            } <span class="hljs-keyword">else</span> {
                a = -a;
                t = xc;
            }

            t.reverse();
            <span class="hljs-keyword">for</span> (; a--; t.push(<span class="hljs-number">0</span>)) {
            }
            t.reverse();
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-99" id="section-99"></a>
</div>
<p>Point xc to the longer array.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (xc.length - yc.length &lt; <span class="hljs-number">0</span>) {
            t = yc;
            yc = xc;
            xc = t;
        }
        a = yc.length;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-100" id="section-100"></a>
</div>
<div class="dox">
<div class="summary">
<p>Only start adding at yc.length - 1 as the further digits of xc can be
left as they are.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (b = <span class="hljs-number">0</span>; a;) {
            b = (xc[--a] = xc[a] + yc[a] + b) / <span class="hljs-number">10</span> | <span class="hljs-number">0</span>;
            xc[a] %= <span class="hljs-number">10</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-101" id="section-101"></a>
</div>
<p>No need to check for zero, as +x + +y != 0 &amp;&amp; -x + -y != 0</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
        <span class="hljs-keyword">if</span> (b) {
            xc.unshift(b);
            ++ye;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-102" id="section-102"></a>
</div>
<p>Remove trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (a = xc.length; xc[--a] === <span class="hljs-number">0</span>; xc.pop()) {
        }

        y.c = xc;
        y.e = ye;

        <span class="hljs-keyword">return</span> y;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-103" id="section-103"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a Big whose value is the value of this Big raised to the power n.
If n is negative, round, if necessary, to a maximum of Big.DP decimal
places using rounding mode Big.RM.</p>
<p>n {number} Integer, -MAX_POWER to MAX_POWER inclusive.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.pow = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>,
            one = <span class="hljs-keyword">new</span> x.constructor(<span class="hljs-number">1</span>),
            y = one,
            isNeg = n &lt; <span class="hljs-number">0</span>;

        <span class="hljs-keyword">if</span> (n !== ~~n || n &lt; -MAX_POWER || n &gt; MAX_POWER) {
            throwErr(<span class="hljs-string">'!pow!'</span>);
        }

        n = isNeg ? -n : n;

        <span class="hljs-keyword">for</span> (;;) {

            <span class="hljs-keyword">if</span> (n &amp; <span class="hljs-number">1</span>) {
                y = y.times(x);
            }
            n &gt;&gt;= <span class="hljs-number">1</span>;

            <span class="hljs-keyword">if</span> (!n) {
                <span class="hljs-keyword">break</span>;
            }
            x = x.times(x);
        }

        <span class="hljs-keyword">return</span> isNeg ? one.div(y) : y;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-104" id="section-104"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big rounded to a
maximum of dp decimal places using rounding mode rm.
If dp is not specified, round to 0 decimal places.
If rm is not specified, use Big.RM.</p>
<p>[dp] {number} Integer, 0 to MAX_DP inclusive.
[rm] 0, 1, 2 or 3 (ROUND_DOWN, ROUND_HALF_UP, ROUND_HALF_EVEN, ROUND_UP)</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.round = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dp, rm</span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>,
            Big = x.constructor;

        <span class="hljs-keyword">if</span> (dp == <span class="hljs-literal">null</span>) {
            dp = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dp !== ~~dp || dp &lt; <span class="hljs-number">0</span> || dp &gt; MAX_DP) {
            throwErr(<span class="hljs-string">'!round!'</span>);
        }
        rnd(x = <span class="hljs-keyword">new</span> Big(x), dp, rm == <span class="hljs-literal">null</span> ? Big.RM : rm);

        <span class="hljs-keyword">return</span> x;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-105" id="section-105"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the square root of the value of this Big,
rounded, if necessary, to a maximum of Big.DP decimal places using
rounding mode Big.RM.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.sqrt = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> estimate, r, approx,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            xc = x.c,
            i = x.s,
            e = x.e,
            half = <span class="hljs-keyword">new</span> Big(<span class="hljs-string">'0.5'</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-106" id="section-106"></a>
</div>
<p>Zero?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Big(x);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-107" id="section-107"></a>
</div>
<p>If negative, throw NaN.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span>) {
            throwErr(<span class="hljs-literal">NaN</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-108" id="section-108"></a>
</div>
<p>Estimate.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        i = <span class="hljs-built_in">Math</span>.sqrt(x.toString());

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-109" id="section-109"></a>
</div>
<p>Math.sqrt underflow/overflow?
Pass x to Math.sqrt as integer, then adjust the result exponent.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (i === <span class="hljs-number">0</span> || i === <span class="hljs-number">1</span> / <span class="hljs-number">0</span>) {
            estimate = xc.join(<span class="hljs-string">''</span>);

            <span class="hljs-keyword">if</span> (!(estimate.length + e &amp; <span class="hljs-number">1</span>)) {
                estimate += <span class="hljs-string">'0'</span>;
            }

            r = <span class="hljs-keyword">new</span> Big( <span class="hljs-built_in">Math</span>.sqrt(estimate).toString() );
            r.e = ((e + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> | <span class="hljs-number">0</span>) - (e &lt; <span class="hljs-number">0</span> || e &amp; <span class="hljs-number">1</span>);
        } <span class="hljs-keyword">else</span> {
            r = <span class="hljs-keyword">new</span> Big(i.toString());
        }

        i = r.e + (Big.DP += <span class="hljs-number">4</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-110" id="section-110"></a>
</div>
<p>Newton-Raphson iteration.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">do</span> {
            approx = r;
            r = half.times( approx.plus( x.div(approx) ) );
        } <span class="hljs-keyword">while</span> ( approx.c.slice(<span class="hljs-number">0</span>, i).join(<span class="hljs-string">''</span>) !==
                       r.c.slice(<span class="hljs-number">0</span>, i).join(<span class="hljs-string">''</span>) );

        rnd(r, Big.DP -= <span class="hljs-number">4</span>, Big.RM);

        <span class="hljs-keyword">return</span> r;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-111" id="section-111"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a new Big whose value is the value of this Big times the value of
Big y.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.mul = P.times = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) </span>{
        <span class="hljs-keyword">var</span> c,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            xc = x.c,
            yc = (y = <span class="hljs-keyword">new</span> Big(y)).c,
            a = xc.length,
            b = yc.length,
            i = x.e,
            j = y.e;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-112" id="section-112"></a>
</div>
<p>Determine sign of result.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        y.s = x.s == y.s ? <span class="hljs-number">1</span> : <span class="hljs-number">-1</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-113" id="section-113"></a>
</div>
<p>Return signed 0 if either 0.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!xc[<span class="hljs-number">0</span>] || !yc[<span class="hljs-number">0</span>]) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Big(y.s * <span class="hljs-number">0</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-114" id="section-114"></a>
</div>
<p>Initialise exponent of result as x.e + y.e.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        y.e = i + j;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-115" id="section-115"></a>
</div>
<p>If array xc has fewer digits than yc, swap xc and yc, and lengths.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (a &lt; b) {
            c = xc;
            xc = yc;
            yc = c;
            j = a;
            a = b;
            b = j;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-116" id="section-116"></a>
</div>
<p>Initialise coefficient array of result with zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (c = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(j = a + b); j--; c[j] = <span class="hljs-number">0</span>) {
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-117" id="section-117"></a>
</div>
<p>Multiply.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-118" id="section-118"></a>
</div>
<p>i is initially xc.length.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = b; i--;) {
            b = <span class="hljs-number">0</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-119" id="section-119"></a>
</div>
<p>a is yc.length.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (j = a + i; j &gt; i;) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-120" id="section-120"></a>
</div>
<p>Current sum of products at this digit position, plus carry.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                b = c[j] + yc[i] * xc[j - i - <span class="hljs-number">1</span>] + b;
                c[j--] = b % <span class="hljs-number">10</span>;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-121" id="section-121"></a>
</div>
<p>carry</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                b = b / <span class="hljs-number">10</span> | <span class="hljs-number">0</span>;
            }
            c[j] = (c[j] + b) % <span class="hljs-number">10</span>;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-122" id="section-122"></a>
</div>
<p>Increment result exponent if there is a final carry.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (b) {
            ++y.e;
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-123" id="section-123"></a>
</div>
<p>Remove any leading zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (!c[<span class="hljs-number">0</span>]) {
            c.shift();
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-124" id="section-124"></a>
</div>
<p>Remove trailing zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">for</span> (i = c.length; !c[--i]; c.pop()) {
        }
        y.c = c;

        <span class="hljs-keyword">return</span> y;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-125" id="section-125"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string representing the value of this Big.
Return exponential notation if this Big has a positive exponent equal to
or greater than Big.E_POS, or a negative exponent equal to or less than
Big.E_NEG.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.toString = P.valueOf = P.toJSON = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            e = x.e,
            str = x.c.join(<span class="hljs-string">''</span>),
            strL = str.length;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-126" id="section-126"></a>
</div>
<p>Exponential notation?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">if</span> (e &lt;= Big.E_NEG || e &gt;= Big.E_POS) {
            str = str.charAt(<span class="hljs-number">0</span>) + (strL &gt; <span class="hljs-number">1</span> ? <span class="hljs-string">'.'</span> + str.slice(<span class="hljs-number">1</span>) : <span class="hljs-string">''</span>) +
              (e &lt; <span class="hljs-number">0</span> ? <span class="hljs-string">'e'</span> : <span class="hljs-string">'e+'</span>) + e;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-127" id="section-127"></a>
</div>
<p>Negative exponent?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e &lt; <span class="hljs-number">0</span>) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-128" id="section-128"></a>
</div>
<p>Prepend zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">for</span> (; ++e; str = <span class="hljs-string">'0'</span> + str) {
            }
            str = <span class="hljs-string">'0.'</span> + str;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-129" id="section-129"></a>
</div>
<p>Positive exponent?</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e &gt; <span class="hljs-number">0</span>) {

            <span class="hljs-keyword">if</span> (++e &gt; strL) {

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-130" id="section-130"></a>
</div>
<p>Append zeros.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                <span class="hljs-keyword">for</span> (e -= strL; e-- ; str += <span class="hljs-string">'0'</span>) {
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e &lt; strL) {
                str = str.slice(<span class="hljs-number">0</span>, e) + <span class="hljs-string">'.'</span> + str.slice(e);
            }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-131" id="section-131"></a>
</div>
<p>Exponent zero.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (strL &gt; <span class="hljs-number">1</span>) {
            str = str.charAt(<span class="hljs-number">0</span>) + <span class="hljs-string">'.'</span> + str.slice(<span class="hljs-number">1</span>);
        }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-132" id="section-132"></a>
</div>
<p>Avoid '-0'</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        <span class="hljs-keyword">return</span> x.s &lt; <span class="hljs-number">0</span> &amp;&amp; x.c[<span class="hljs-number">0</span>] ? <span class="hljs-string">'-'</span> + str : str;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-133" id="section-133"></a>
</div>
<div class="dox">
<div class="summary">
<hr>
<p>If toExponential, toFixed, toPrecision and format are not required they
can safely be commented-out or deleted. No redundant code will be left.
format is used only by toExponential, toFixed and toPrecision.</p>
<hr>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-134" id="section-134"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string representing the value of this Big in exponential
notation to dp fixed decimal places and rounded, if necessary, using
Big.RM.</p>
<p>[dp] {number} Integer, 0 to MAX_DP inclusive.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.toExponential = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dp</span>) </span>{

        <span class="hljs-keyword">if</span> (dp == <span class="hljs-literal">null</span>) {
            dp = <span class="hljs-keyword">this</span>.c.length - <span class="hljs-number">1</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dp !== ~~dp || dp &lt; <span class="hljs-number">0</span> || dp &gt; MAX_DP) {
            throwErr(<span class="hljs-string">'!toExp!'</span>);
        }

        <span class="hljs-keyword">return</span> format(<span class="hljs-keyword">this</span>, dp, <span class="hljs-number">1</span>);
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-135" id="section-135"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string representing the value of this Big in normal notation
to dp fixed decimal places and rounded, if necessary, using Big.RM.</p>
<p>[dp] {number} Integer, 0 to MAX_DP inclusive.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.toFixed = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dp</span>) </span>{
        <span class="hljs-keyword">var</span> str,
            x = <span class="hljs-keyword">this</span>,
            Big = x.constructor,
            neg = Big.E_NEG,
            pos = Big.E_POS;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-136" id="section-136"></a>
</div>
<p>Prevent the possibility of exponential notation.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">        Big.E_NEG = -(Big.E_POS = <span class="hljs-number">1</span> / <span class="hljs-number">0</span>);

        <span class="hljs-keyword">if</span> (dp == <span class="hljs-literal">null</span>) {
            str = x.toString();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dp === ~~dp &amp;&amp; dp &gt;= <span class="hljs-number">0</span> &amp;&amp; dp &lt;= MAX_DP) {
            str = format(x, x.e + dp);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-137" id="section-137"></a>
</div>
<p>(-0).toFixed() is '0', but (-0.1).toFixed() is '-0'.
(-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">            <span class="hljs-keyword">if</span> (x.s &lt; <span class="hljs-number">0</span> &amp;&amp; x.c[<span class="hljs-number">0</span>] &amp;&amp; str.indexOf(<span class="hljs-string">'-'</span>) &lt; <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-138" id="section-138"></a>
</div>
<p>E.g. -0.5 if rounded to -0 will cause toString to omit the minus sign.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">                str = <span class="hljs-string">'-'</span> + str;
            }
        }
        Big.E_NEG = neg;
        Big.E_POS = pos;

        <span class="hljs-keyword">if</span> (!str) {
            throwErr(<span class="hljs-string">'!toFix!'</span>);
        }

        <span class="hljs-keyword">return</span> str;
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-139" id="section-139"></a>
</div>
<div class="dox">
<div class="summary">
<p>Return a string representing the value of this Big rounded to sd
significant digits using Big.RM. Use exponential notation if sd is less
than the number of digits necessary to represent the integer part of the
value in normal notation.</p>
<p>sd {number} Integer, 1 to MAX_DP inclusive.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">    P.toPrecision = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">sd</span>) </span>{

        <span class="hljs-keyword">if</span> (sd == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.toString();
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sd !== ~~sd || sd &lt; <span class="hljs-number">1</span> || sd &gt; MAX_DP) {
            throwErr(<span class="hljs-string">'!toPre!'</span>);
        }

        <span class="hljs-keyword">return</span> format(<span class="hljs-keyword">this</span>, sd - <span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
    };


</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-140" id="section-140"></a>
</div>
<p>Export</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">

    Big = bigFactory();

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-141" id="section-141"></a>
</div>
<p>AMD.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define === <span class="hljs-string">'function'</span> &amp;&amp; define.amd) {
        define(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> Big;
        });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-142" id="section-142"></a>
</div>
<p>Node and other CommonJS-like environments that support module.exports.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> !== <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) {
        <span class="hljs-built_in">module</span>.exports = Big;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-143" id="section-143"></a>
</div>
<p>Browser.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    } <span class="hljs-keyword">else</span> {
        global.Big = Big;
    }
})(<span class="hljs-keyword">this</span>);

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
