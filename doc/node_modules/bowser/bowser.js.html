<!DOCTYPE html>
<html>
<head>
  <title>bowser.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/bowser/bowser.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>bowser.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>
<div class="dox">
<div class="summary">
<p>!
Bowser - a browser detector
https://github.com/ded/bowser
MIT License | (c) Dustin Diaz 2015</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
!<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">root, name, definition</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">module</span> != <span class="hljs-string">'undefined'</span> &amp;&amp; <span class="hljs-built_in">module</span>.exports) <span class="hljs-built_in">module</span>.exports = definition()
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> define == <span class="hljs-string">'function'</span> &amp;&amp; define.amd) define(name, definition)
  <span class="hljs-keyword">else</span> root[name] = definition()
}(<span class="hljs-keyword">this</span>, <span class="hljs-string">'bowser'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-2" id="section-2"></a>
</div>
<div class="dox">
<div class="summary">
<p>See useragents.js for examples of navigator.userAgent</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">
  <span class="hljs-keyword">var</span> t = <span class="hljs-literal">true</span>

  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">detect</span>(<span class="hljs-params">ua</span>) </span>{

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFirstMatch</span>(<span class="hljs-params">regex</span>) </span>{
      <span class="hljs-keyword">var</span> match = ua.match(regex);
      <span class="hljs-keyword">return</span> (match &amp;&amp; match.length &gt; <span class="hljs-number">1</span> &amp;&amp; match[<span class="hljs-number">1</span>]) || <span class="hljs-string">''</span>;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSecondMatch</span>(<span class="hljs-params">regex</span>) </span>{
      <span class="hljs-keyword">var</span> match = ua.match(regex);
      <span class="hljs-keyword">return</span> (match &amp;&amp; match.length &gt; <span class="hljs-number">1</span> &amp;&amp; match[<span class="hljs-number">2</span>]) || <span class="hljs-string">''</span>;
    }

    <span class="hljs-keyword">var</span> iosdevice = getFirstMatch(<span class="hljs-regexp">/(ipod|iphone|ipad)/i</span>).toLowerCase()
      , likeAndroid = <span class="hljs-regexp">/like android/i</span>.test(ua)
      , android = !likeAndroid &amp;&amp; <span class="hljs-regexp">/android/i</span>.test(ua)
      , nexusMobile = <span class="hljs-regexp">/nexus\s*[0-6]\s*/i</span>.test(ua)
      , nexusTablet = !nexusMobile &amp;&amp; <span class="hljs-regexp">/nexus\s*[0-9]+/i</span>.test(ua)
      , chromeos = <span class="hljs-regexp">/CrOS/</span>.test(ua)
      , silk = <span class="hljs-regexp">/silk/i</span>.test(ua)
      , sailfish = <span class="hljs-regexp">/sailfish/i</span>.test(ua)
      , tizen = <span class="hljs-regexp">/tizen/i</span>.test(ua)
      , webos = <span class="hljs-regexp">/(web|hpw)os/i</span>.test(ua)
      , windowsphone = <span class="hljs-regexp">/windows phone/i</span>.test(ua)
      , samsungBrowser = <span class="hljs-regexp">/SamsungBrowser/i</span>.test(ua)
      , windows = !windowsphone &amp;&amp; <span class="hljs-regexp">/windows/i</span>.test(ua)
      , mac = !iosdevice &amp;&amp; !silk &amp;&amp; <span class="hljs-regexp">/macintosh/i</span>.test(ua)
      , linux = !android &amp;&amp; !sailfish &amp;&amp; !tizen &amp;&amp; !webos &amp;&amp; <span class="hljs-regexp">/linux/i</span>.test(ua)
      , edgeVersion = getFirstMatch(<span class="hljs-regexp">/edge\/(\d+(\.\d+)?)/i</span>)
      , versionIdentifier = getFirstMatch(<span class="hljs-regexp">/version\/(\d+(\.\d+)?)/i</span>)
      , tablet = <span class="hljs-regexp">/tablet/i</span>.test(ua)
      , mobile = !tablet &amp;&amp; <span class="hljs-regexp">/[^-]mobi/i</span>.test(ua)
      , xbox = <span class="hljs-regexp">/xbox/i</span>.test(ua)
      , result

    <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/opera/i</span>.test(ua)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-3" id="section-3"></a>
</div>
<p>an old Opera</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Opera'</span>
      , <span class="hljs-attr">opera</span>: t
      , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i</span>)
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/opr|opios/i</span>.test(ua)) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-4" id="section-4"></a>
</div>
<p>a new Opera</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Opera'</span>
        , <span class="hljs-attr">opera</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i</span>) || versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/SamsungBrowser/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Samsung Internet for Android'</span>
        , <span class="hljs-attr">samsungBrowser</span>: t
        , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/coast/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Opera Coast'</span>
        , <span class="hljs-attr">coast</span>: t
        , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/(?:coast)[\s\/](\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/yabrowser/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Yandex Browser'</span>
      , <span class="hljs-attr">yandexbrowser</span>: t
      , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/ucbrowser/i</span>.test(ua)) {
      result = {
          <span class="hljs-attr">name</span>: <span class="hljs-string">'UC Browser'</span>
        , <span class="hljs-attr">ucbrowser</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/mxios/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Maxthon'</span>
        , <span class="hljs-attr">maxthon</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/epiphany/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Epiphany'</span>
        , <span class="hljs-attr">epiphany</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/puffin/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Puffin'</span>
        , <span class="hljs-attr">puffin</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/sleipnir/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Sleipnir'</span>
        , <span class="hljs-attr">sleipnir</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/k-meleon/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'K-Meleon'</span>
        , <span class="hljs-attr">kMeleon</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (windowsphone) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Windows Phone'</span>
      , <span class="hljs-attr">windowsphone</span>: t
      }
      <span class="hljs-keyword">if</span> (edgeVersion) {
        result.msedge = t
        result.version = edgeVersion
      }
      <span class="hljs-keyword">else</span> {
        result.msie = t
        result.version = getFirstMatch(<span class="hljs-regexp">/iemobile\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/msie|trident/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Internet Explorer'</span>
      , <span class="hljs-attr">msie</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:msie |rv:)(\d+(\.\d+)?)/i</span>)
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (chromeos) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span>
      , <span class="hljs-attr">chromeos</span>: t
      , <span class="hljs-attr">chromeBook</span>: t
      , <span class="hljs-attr">chrome</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i</span>)
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/chrome.+? edge/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Microsoft Edge'</span>
      , <span class="hljs-attr">msedge</span>: t
      , <span class="hljs-attr">version</span>: edgeVersion
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/vivaldi/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Vivaldi'</span>
        , <span class="hljs-attr">vivaldi</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/vivaldi\/(\d+(\.\d+)?)/i</span>) || versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sailfish) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Sailfish'</span>
      , <span class="hljs-attr">sailfish</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/sailfish\s?browser\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/seamonkey\//i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'SeaMonkey'</span>
      , <span class="hljs-attr">seamonkey</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/seamonkey\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/firefox|iceweasel|fxios/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Firefox'</span>
      , <span class="hljs-attr">firefox</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i</span>)
      }
      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i</span>.test(ua)) {
        result.firefoxos = t
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (silk) {
      result =  {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Amazon Silk'</span>
      , <span class="hljs-attr">silk</span>: t
      , <span class="hljs-attr">version</span> : getFirstMatch(<span class="hljs-regexp">/silk\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/phantom/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'PhantomJS'</span>
      , <span class="hljs-attr">phantom</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/phantomjs\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/slimerjs/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'SlimerJS'</span>
        , <span class="hljs-attr">slimer</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/slimerjs\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/blackberry|\bbb\d+/i</span>.test(ua) || <span class="hljs-regexp">/rim\stablet/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'BlackBerry'</span>
      , <span class="hljs-attr">blackberry</span>: t
      , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/blackberry[\d]+\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (webos) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'WebOS'</span>
      , <span class="hljs-attr">webos</span>: t
      , <span class="hljs-attr">version</span>: versionIdentifier || getFirstMatch(<span class="hljs-regexp">/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i</span>)
      };
      <span class="hljs-regexp">/touchpad\//i</span>.test(ua) &amp;&amp; (result.touchpad = t)
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/bada/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Bada'</span>
      , <span class="hljs-attr">bada</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/dolfin\/(\d+(\.\d+)?)/i</span>)
      };
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (tizen) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Tizen'</span>
      , <span class="hljs-attr">tizen</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i</span>) || versionIdentifier
      };
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/qupzilla/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'QupZilla'</span>
        , <span class="hljs-attr">qupzilla</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i</span>) || versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/chromium/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Chromium'</span>
        , <span class="hljs-attr">chromium</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i</span>) || versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/chrome|crios|crmo/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Chrome'</span>
        , <span class="hljs-attr">chrome</span>: t
        , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i</span>)
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (android) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Android'</span>
        , <span class="hljs-attr">version</span>: versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/safari|applewebkit/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Safari'</span>
      , <span class="hljs-attr">safari</span>: t
      }
      <span class="hljs-keyword">if</span> (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (iosdevice) {
      result = {
        <span class="hljs-attr">name</span> : iosdevice == <span class="hljs-string">'iphone'</span> ? <span class="hljs-string">'iPhone'</span> : iosdevice == <span class="hljs-string">'ipad'</span> ? <span class="hljs-string">'iPad'</span> : <span class="hljs-string">'iPod'</span>
      }
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-5" id="section-5"></a>
</div>
<p>WTF: version is not part of user agent in web apps</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (versionIdentifier) {
        result.version = versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-regexp">/googlebot/i</span>.test(ua)) {
      result = {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'Googlebot'</span>
      , <span class="hljs-attr">googlebot</span>: t
      , <span class="hljs-attr">version</span>: getFirstMatch(<span class="hljs-regexp">/googlebot\/(\d+(\.\d+))/i</span>) || versionIdentifier
      }
    }
    <span class="hljs-keyword">else</span> {
      result = {
        <span class="hljs-attr">name</span>: getFirstMatch(<span class="hljs-regexp">/^(.*)\/(.*) /</span>),
        <span class="hljs-attr">version</span>: getSecondMatch(<span class="hljs-regexp">/^(.*)\/(.*) /</span>)
     };
   }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-6" id="section-6"></a>
</div>
<p>set webkit or gecko flag for browsers based on these engines</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (!result.msedge &amp;&amp; <span class="hljs-regexp">/(apple)?webkit/i</span>.test(ua)) {
      <span class="hljs-keyword">if</span> (<span class="hljs-regexp">/(apple)?webkit\/537\.36/i</span>.test(ua)) {
        result.name = result.name || <span class="hljs-string">"Blink"</span>
        result.blink = t
      } <span class="hljs-keyword">else</span> {
        result.name = result.name || <span class="hljs-string">"Webkit"</span>
        result.webkit = t
      }
      <span class="hljs-keyword">if</span> (!result.version &amp;&amp; versionIdentifier) {
        result.version = versionIdentifier
      }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!result.opera &amp;&amp; <span class="hljs-regexp">/gecko\//i</span>.test(ua)) {
      result.name = result.name || <span class="hljs-string">"Gecko"</span>
      result.gecko = t
      result.version = result.version || getFirstMatch(<span class="hljs-regexp">/gecko\/(\d+(\.\d+)?)/i</span>)
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-7" id="section-7"></a>
</div>
<p>set OS flags for platforms that have multiple browsers</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (!result.windowsphone &amp;&amp; !result.msedge &amp;&amp; (android || result.silk)) {
      result.android = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!result.windowsphone &amp;&amp; !result.msedge &amp;&amp; iosdevice) {
      result[iosdevice] = t
      result.ios = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (mac) {
      result.mac = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xbox) {
      result.xbox = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (windows) {
      result.windows = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (linux) {
      result.linux = t
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-8" id="section-8"></a>
</div>
<p>OS version extraction</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> osVersion = <span class="hljs-string">''</span>;
    <span class="hljs-keyword">if</span> (result.windowsphone) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/windows phone (?:os)?\s?(\d+(\.\d+)*)/i</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (iosdevice) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/os (\d+([_\s]\d+)*) like mac os x/i</span>);
      osVersion = osVersion.replace(<span class="hljs-regexp">/[_\s]/g</span>, <span class="hljs-string">'.'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (android) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/android[ \/-](\d+(\.\d+)*)/i</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result.webos) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/(?:web|hpw)os\/(\d+(\.\d+)*)/i</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result.blackberry) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/rim\stablet\sos\s(\d+(\.\d+)*)/i</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result.bada) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/bada\/(\d+(\.\d+)*)/i</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result.tizen) {
      osVersion = getFirstMatch(<span class="hljs-regexp">/tizen[\/\s](\d+(\.\d+)*)/i</span>);
    }
    <span class="hljs-keyword">if</span> (osVersion) {
      result.osversion = osVersion;
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-9" id="section-9"></a>
</div>
<p>device type extraction</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> osMajorVersion = osVersion.split(<span class="hljs-string">'.'</span>)[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">if</span> (
         tablet
      || nexusTablet
      || iosdevice == <span class="hljs-string">'ipad'</span>
      || (android &amp;&amp; (osMajorVersion == <span class="hljs-number">3</span> || (osMajorVersion &gt;= <span class="hljs-number">4</span> &amp;&amp; !mobile)))
      || result.silk
    ) {
      result.tablet = t
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (
         mobile
      || iosdevice == <span class="hljs-string">'iphone'</span>
      || iosdevice == <span class="hljs-string">'ipod'</span>
      || android
      || nexusMobile
      || result.blackberry
      || result.webos
      || result.bada
    ) {
      result.mobile = t
    }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-10" id="section-10"></a>
</div>
<p>Graded Browser Support
http://developer.yahoo.com/yui/articles/gbs</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (result.msedge ||
        (result.msie &amp;&amp; result.version &gt;= <span class="hljs-number">10</span>) ||
        (result.yandexbrowser &amp;&amp; result.version &gt;= <span class="hljs-number">15</span>) ||
		    (result.vivaldi &amp;&amp; result.version &gt;= <span class="hljs-number">1.0</span>) ||
        (result.chrome &amp;&amp; result.version &gt;= <span class="hljs-number">20</span>) ||
        (result.samsungBrowser &amp;&amp; result.version &gt;= <span class="hljs-number">4</span>) ||
        (result.firefox &amp;&amp; result.version &gt;= <span class="hljs-number">20.0</span>) ||
        (result.safari &amp;&amp; result.version &gt;= <span class="hljs-number">6</span>) ||
        (result.opera &amp;&amp; result.version &gt;= <span class="hljs-number">10.0</span>) ||
        (result.ios &amp;&amp; result.osversion &amp;&amp; result.osversion.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>] &gt;= <span class="hljs-number">6</span>) ||
        (result.blackberry &amp;&amp; result.version &gt;= <span class="hljs-number">10.1</span>)
        || (result.chromium &amp;&amp; result.version &gt;= <span class="hljs-number">20</span>)
        ) {
      result.a = t;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((result.msie &amp;&amp; result.version &lt; <span class="hljs-number">10</span>) ||
        (result.chrome &amp;&amp; result.version &lt; <span class="hljs-number">20</span>) ||
        (result.firefox &amp;&amp; result.version &lt; <span class="hljs-number">20.0</span>) ||
        (result.safari &amp;&amp; result.version &lt; <span class="hljs-number">6</span>) ||
        (result.opera &amp;&amp; result.version &lt; <span class="hljs-number">10.0</span>) ||
        (result.ios &amp;&amp; result.osversion &amp;&amp; result.osversion.split(<span class="hljs-string">"."</span>)[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">6</span>)
        || (result.chromium &amp;&amp; result.version &lt; <span class="hljs-number">20</span>)
        ) {
      result.c = t
    } <span class="hljs-keyword">else</span> result.x = t

    <span class="hljs-keyword">return</span> result
  }

  <span class="hljs-keyword">var</span> bowser = detect(<span class="hljs-keyword">typeof</span> navigator !== <span class="hljs-string">'undefined'</span> ? navigator.userAgent || <span class="hljs-string">''</span> : <span class="hljs-string">''</span>)

  bowser.test = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">browserList</span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; browserList.length; ++i) {
      <span class="hljs-keyword">var</span> browserItem = browserList[i];
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> browserItem=== <span class="hljs-string">'string'</span>) {
        <span class="hljs-keyword">if</span> (browserItem <span class="hljs-keyword">in</span> bowser) {
          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-11" id="section-11"></a>
</div>
<div class="dox">
<div class="summary">
<p>Get version precisions count</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">version</span>
<span class="dox_type">string</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">number</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getVersionPrecision</span>(<span class="hljs-params">version</span>) </span>{
    <span class="hljs-keyword">return</span> version.split(<span class="hljs-string">"."</span>).length;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-12" id="section-12"></a>
</div>
<div class="dox">
<div class="summary">
<p>Array::map polyfill</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">arr</span>
<span class="dox_type">Array</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">iterator</span>
<span class="dox_type">Function</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Array</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">map</span>(<span class="hljs-params">arr, iterator</span>) </span>{
    <span class="hljs-keyword">var</span> result = [], i;
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Array</span>.prototype.map) {
      <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.prototype.map.call(arr, iterator);
    }
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; arr.length; i++) {
      result.push(iterator(arr[i]));
    }
    <span class="hljs-keyword">return</span> result;
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-13" id="section-13"></a>
</div>
<div class="dox">
<div class="summary">
<p>Calculate browser version weight</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">versions</span>
<span class="dox_type">Array.&lt;String&gt;</span>
<span>versions to compare
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Number</span>
<span>comparison result
</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compareVersions</span>(<span class="hljs-params">versions</span>) </span>{
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-14" id="section-14"></a>
</div>
<ol>
<li>get common precision for both versions, for example for &quot;10.0&quot; and &quot;9&quot; it should be 2</li>
</ol>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">var</span> precision = <span class="hljs-built_in">Math</span>.max(getVersionPrecision(versions[<span class="hljs-number">0</span>]), getVersionPrecision(versions[<span class="hljs-number">1</span>]));
    <span class="hljs-keyword">var</span> chunks = map(versions, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">version</span>) </span>{
      <span class="hljs-keyword">var</span> delta = precision - getVersionPrecision(version);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-15" id="section-15"></a>
</div>
<ol start="2">
<li>&quot;9&quot; -&gt; &quot;9.0&quot; (for precision = 2)</li>
</ol>

        </td>
        <td class="code highlight">
          <pre class="javascript">      version = version + <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(delta + <span class="hljs-number">1</span>).join(<span class="hljs-string">".0"</span>);

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-16" id="section-16"></a>
</div>
<ol start="3">
<li>&quot;9.0&quot; -&gt; [&quot;000000000&quot;&quot;, &quot;000000009&quot;]</li>
</ol>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">return</span> map(version.split(<span class="hljs-string">"."</span>), <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">20</span> - chunk.length).join(<span class="hljs-string">"0"</span>) + chunk;
      }).reverse();
    });

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-17" id="section-17"></a>
</div>
<p>iterate in reverse order by reversed chunks array</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">while</span> (--precision &gt;= <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-18" id="section-18"></a>
</div>
<ol start="4">
<li>compare: &quot;000000009&quot; &gt; &quot;000000010&quot; = false (but &quot;9&quot; &gt; &quot;10&quot; = true)</li>
</ol>

        </td>
        <td class="code highlight">
          <pre class="javascript">      <span class="hljs-keyword">if</span> (chunks[<span class="hljs-number">0</span>][precision] &gt; chunks[<span class="hljs-number">1</span>][precision]) {
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
      }
      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (chunks[<span class="hljs-number">0</span>][precision] === chunks[<span class="hljs-number">1</span>][precision]) {
        <span class="hljs-keyword">if</span> (precision === <span class="hljs-number">0</span>) {
</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-19" id="section-19"></a>
</div>
<p>all version chunks are same</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
        }
      }
      <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;
      }
    }
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-20" id="section-20"></a>
</div>
<div class="dox">
<div class="summary">
<p>Check if browser is unsupported</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">minVersions</span>
<span class="dox_type">Object</span>
<span>map of minimal version to browser
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[strictMode</span>
<span class="dox_type">Boolean</span>
<span>= false] flag to return false if browser wasn't found in map
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[ua]</span>
<span class="dox_type">String</span>
<span>user agent string
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Boolean</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isUnsupportedBrowser</span>(<span class="hljs-params">minVersions, strictMode, ua</span>) </span>{
    <span class="hljs-keyword">var</span> _bowser = bowser;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-21" id="section-21"></a>
</div>
<p>make strictMode param optional with ua param usage</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> strictMode === <span class="hljs-string">'string'</span>) {
      ua = strictMode;
      strictMode = <span class="hljs-keyword">void</span>(<span class="hljs-number">0</span>);
    }

    <span class="hljs-keyword">if</span> (strictMode === <span class="hljs-keyword">void</span>(<span class="hljs-number">0</span>)) {
      strictMode = <span class="hljs-literal">false</span>;
    }
    <span class="hljs-keyword">if</span> (ua) {
      _bowser = detect(ua);
    }

    <span class="hljs-keyword">var</span> version = <span class="hljs-string">""</span> + _bowser.version;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> browser <span class="hljs-keyword">in</span> minVersions) {
      <span class="hljs-keyword">if</span> (minVersions.hasOwnProperty(browser)) {
        <span class="hljs-keyword">if</span> (_bowser[browser]) {
          <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> minVersions[browser] !== <span class="hljs-string">'string'</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Browser version in the minVersion map should be a string: '</span> + browser + <span class="hljs-string">': '</span> + <span class="hljs-built_in">String</span>(minVersions));
          }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-22" id="section-22"></a>
</div>
<p>browser version and min supported version.</p>

        </td>
        <td class="code highlight">
          <pre class="javascript">          <span class="hljs-keyword">return</span> compareVersions([version, minVersions[browser]]) &lt; <span class="hljs-number">0</span>;
        }
      }
    }

    <span class="hljs-keyword">return</span> strictMode; <span class="hljs-comment">// not found</span>
  }

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-23" id="section-23"></a>
</div>
<div class="dox">
<div class="summary">
<p>Check if browser is supported</p>
</div>
<div class="body">
</div>
<div class="details">
<div class="dox_tag_title">Params</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">minVersions</span>
<span class="dox_type">Object</span>
<span>map of minimal version to browser
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[strictMode</span>
<span class="dox_type">Boolean</span>
<span>= false] flag to return false if browser wasn't found in map
</span>
</div>
<div class="dox_tag_detail">
<span class="dox_tag_name">[ua]</span>
<span class="dox_type">String</span>
<span>user agent string
</span>
</div>
<div class="dox_tag_title">Returns</div>
<div class="dox_tag_detail">
<span class="dox_tag_name"></span>
<span class="dox_type">Boolean</span>
</div>
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">check</span>(<span class="hljs-params">minVersions, strictMode, ua</span>) </span>{
    <span class="hljs-keyword">return</span> !isUnsupportedBrowser(minVersions, strictMode, ua);
  }

  bowser.isUnsupportedBrowser = isUnsupportedBrowser;
  bowser.compareVersions = compareVersions;
  bowser.check = check;

</pre>
        </td>
      </tr>
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-24" id="section-24"></a>
</div>
<div class="dox">
<div class="summary">
<p>Set our detect method to the main bowser object so we can
reuse it to test other user agents.
This is needed to implement future tests.</p>
</div>
<div class="body">
</div>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">  bowser._detect = detect;

  <span class="hljs-keyword">return</span> bowser
});

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
