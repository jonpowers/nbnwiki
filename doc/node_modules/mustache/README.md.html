<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/mustache/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#mustache.js-logic-less-mustache-templates-with-javascript">mustache.js - Logic-less {{mustache}} templates with JavaScript</a>
      </div>

      <div class="heading h2">
        <a href="#where-to-use-mustache.js">Where to use mustache.js?</a>
      </div>

      <div class="heading h2">
        <a href="#install">Install</a>
      </div>

      <div class="heading h2">
        <a href="#command-line-tool">Command line tool</a>
      </div>

      <div class="heading h2">
        <a href="#who-uses-mustache.js">Who uses mustache.js?</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

      <div class="heading h3">
        <a href="#your-first-contribution">Your First Contribution</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#api">API</a>
      </div>

      <div class="heading h2">
        <a href="#templates">Templates</a>
      </div>

      <div class="heading h4">
        <a href="#include-templates">Include Templates</a>
      </div>

      <div class="heading h4">
        <a href="#load-external-templates">Load External Templates</a>
      </div>

      <div class="heading h3">
        <a href="#variables">Variables</a>
      </div>

      <div class="heading h3">
        <a href="#sections">Sections</a>
      </div>

      <div class="heading h4">
        <a href="#false-values-or-empty-lists">False Values or Empty Lists</a>
      </div>

      <div class="heading h4">
        <a href="#non-empty-lists">Non-Empty Lists</a>
      </div>

      <div class="heading h4">
        <a href="#functions">Functions</a>
      </div>

      <div class="heading h3">
        <a href="#inverted-sections">Inverted Sections</a>
      </div>

      <div class="heading h3">
        <a href="#comments">Comments</a>
      </div>

      <div class="heading h3">
        <a href="#partials">Partials</a>
      </div>

      <div class="heading h3">
        <a href="#custom-delimiters">Custom Delimiters</a>
      </div>

      <div class="heading h4">
        <a href="#setting-in-javascript">Setting in JavaScript</a>
      </div>

      <div class="heading h5">
        <a href="#pass-value-into-parse-method">Pass Value into Parse Method</a>
      </div>

      <div class="heading h5">
        <a href="#override-tags-property">Override Tags Property</a>
      </div>

      <div class="heading h4">
        <a href="#setting-in-templates">Setting in Templates</a>
      </div>

      <div class="heading h2">
        <a href="#pre-parsing-and-caching-templates">Pre-parsing and Caching Templates</a>
      </div>

      <div class="heading h2">
        <a href="#plugins-for-javascript-libraries">Plugins for JavaScript Libraries</a>
      </div>

      <div class="heading h2">
        <a href="#testing">Testing</a>
      </div>

      <div class="heading h3">
        <a href="#browser-tests">Browser tests</a>
      </div>

      <div class="heading h3">
        <a href="#troubleshooting">Troubleshooting</a>
      </div>

      <div class="heading h4">
        <a href="#npm-install-fails">npm install fails</a>
      </div>

      <div class="heading h2">
        <a href="#thanks">Thanks</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="mustache.js-logic-less-mustache-templates-with-javascript">
  <h1>
    <a href="#mustache.js-logic-less-mustache-templates-with-javascript" name="mustache.js-logic-less-mustache-templates-with-javascript" class="pilcrow"></a>
mustache.js - Logic-less {{mustache}} templates with JavaScript
  </h1>
</div>
<blockquote>
<p>What could be more logical awesome than no logic at all?</p>
</blockquote>
<p><a href="https://travis-ci.org/janl/mustache.js"><img src="https://travis-ci.org/janl/mustache.js.svg?branch=master" alt="Build Status"></a> <a href="https://gitter.im/janl/mustache.js"><img src="https://badges.gitter.im/Join%20Chat.svg" alt="Gitter chat"></a></p>
<p><a href="http://github.com/janl/mustache.js">mustache.js</a> is an implementation of the <a href="http://mustache.github.com/">mustache</a> template system in JavaScript.</p>
<p><a href="http://mustache.github.com/">Mustache</a> is a logic-less template syntax. It can be used for HTML, config files, source code - anything. It works by expanding tags in a template using values provided in a hash or object.</p>
<p>We call it &quot;logic-less&quot; because there are no if statements, else clauses, or for loops. Instead there are only tags. Some tags are replaced with a value, some nothing, and others a series of values.</p>
<p>For a language-agnostic overview of mustache's template syntax, see the <code>mustache(5)</code> <a href="http://mustache.github.com/mustache.5.html">manpage</a>.</p>
<div class="pilwrap" id="where-to-use-mustache.js">
  <h2>
    <a href="#where-to-use-mustache.js" name="where-to-use-mustache.js" class="pilcrow"></a>
Where to use mustache.js?
  </h2>
</div>
<p>You can use mustache.js to render mustache templates anywhere you can use JavaScript. This includes web browsers, server-side environments such as <a href="http://nodejs.org/">node</a>, and <a href="http://couchdb.apache.org/">CouchDB</a> views.</p>
<p>mustache.js ships with support for both the <a href="http://www.commonjs.org/">CommonJS</a> module API and the <a href="https://github.com/amdjs/amdjs-api/wiki/AMD">Asynchronous Module Definition</a> API, or AMD.</p>
<p>And this will be your templates after you use Mustache:</p>
<p><img src="https://cloud.githubusercontent.com/assets/288977/8779228/a3cf700e-2f02-11e5-869a-300312fb7a00.gif" alt="'stache"></p>
<div class="pilwrap" id="install">
  <h2>
    <a href="#install" name="install" class="pilcrow"></a>
Install
  </h2>
</div>
<p>You can get Mustache via npm.</p>
<pre><code class="bash">$ npm install mustache --save
</code></pre>
<p>or install with bower:</p>
<pre><code class="bash">$ bower install --save mustache
</code></pre>
<div class="pilwrap" id="command-line-tool">
  <h2>
    <a href="#command-line-tool" name="command-line-tool" class="pilcrow"></a>
Command line tool
  </h2>
</div>
<p>mustache.js is shipped with a node based command line tool. It might be installed as a global tool on your computer to render a mustache template of some kind</p>
<pre><code class="bash">$ npm install -g mustache

$ mustache dataView.json myTemplate.mustache &gt; output.html
</code></pre>
<p>also supports stdin.</p>
<pre><code class="bash">$ cat dataView.json | mustache - myTemplate.mustache &gt; output.html
</code></pre>
<p>or as a package.json <code>devDependency</code> in a build process maybe?</p>
<pre><code class="bash">$ npm install mustache --save-dev
</code></pre>
<pre><code class="json">{
  <span class="hljs-attr">"scripts"</span>: {
    <span class="hljs-attr">"build"</span>: <span class="hljs-string">"mustache dataView.json myTemplate.mustache &gt; public/output.html"</span>
  }
}
</code></pre>
<pre><code class="bash">$ npm run build
</code></pre>
<p>The command line tool is basically a wrapper around <code>Mustache.render</code> so you get all the features.</p>
<p>If your templates use partials you should pass paths to partials using <code>-p</code> flag:</p>
<pre><code class="bash">$ mustache -p path/to/partial1.mustache -p path/to/partial2.mustache dataView.json myTemplate.mustache
</code></pre>
<div class="pilwrap" id="who-uses-mustache.js">
  <h2>
    <a href="#who-uses-mustache.js" name="who-uses-mustache.js" class="pilcrow"></a>
Who uses mustache.js?
  </h2>
</div>
<p>An updated list of mustache.js users is kept <a href="http://wiki.github.com/janl/mustache.js/beard-competition">on the Github wiki</a>. Add yourself or your company if you use mustache.js!</p>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<p>mustache.js is a mature project, but it continues to actively invite maintainers. You can help out a high-profile project that is used in a lot of places on the web. There is <a href="https://github.com/janl/mustache.js/issues">plenty</a> of <a href="https://github.com/janl/mustache.js/pulls">work</a> to do. No big commitment required, if all you do is review a single <a href="https://github.com/janl/mustache.js/pulls">Pull Request</a>, you are a maintainer. And a hero.</p>
<div class="pilwrap" id="your-first-contribution">
  <h3>
    <a href="#your-first-contribution" name="your-first-contribution" class="pilcrow"></a>
Your First Contribution
  </h3>
</div>
<ul>
<li>review a <a href="https://github.com/janl/mustache.js/pulls">Pull Request</a></li>
<li>fix an <a href="https://github.com/janl/mustache.js/issues">Issue</a></li>
<li>update the <a href="https://github.com/janl/mustache.js#usage">documentation</a></li>
<li>make a website</li>
<li>write a tutorial</li>
</ul>
<hr>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>Below is a quick example how to use mustache.js:</p>
<pre><code class="js"><span class="hljs-keyword">var</span> view = {
  <span class="hljs-attr">title</span>: <span class="hljs-string">"Joe"</span>,
  <span class="hljs-attr">calc</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> + <span class="hljs-number">4</span>;
  }
};

<span class="hljs-keyword">var</span> output = Mustache.render(<span class="hljs-string">"{{title}} spends {{calc}}"</span>, view);
</code></pre>
<p>In this example, the <code>Mustache.render</code> function takes two parameters: 1) the <a href="http://mustache.github.com/">mustache</a> template and 2) a <code>view</code> object that contains the data and code needed to render the template.</p>
<div class="pilwrap" id="api">
  <h2>
    <a href="#api" name="api" class="pilcrow"></a>
API
  </h2>
</div>
<p>Following is an <a href="https://git.io/rtype">rtype</a> signature of the most commonly used functions.</p>
<pre><code class="js">Mustache.render(
  template  : <span class="hljs-built_in">String</span>,
  <span class="hljs-attr">view</span>      : <span class="hljs-built_in">Object</span>,
  partials? : <span class="hljs-built_in">Object</span>,
) =&gt; <span class="hljs-built_in">String</span>

Mustache.parse(
  template              : <span class="hljs-built_in">String</span>,
  tags = [<span class="hljs-string">'{{'</span>, <span class="hljs-string">'}}'</span>]   : Tags,
) =&gt; <span class="hljs-built_in">String</span>

interface Tags [<span class="hljs-built_in">String</span>, <span class="hljs-built_in">String</span>]
</code></pre>
<div class="pilwrap" id="templates">
  <h2>
    <a href="#templates" name="templates" class="pilcrow"></a>
Templates
  </h2>
</div>
<p>A <a href="http://mustache.github.com/">mustache</a> template is a string that contains any number of mustache tags. Tags are indicated by the double mustaches that surround them. <code>{{person}}</code> is a tag, as is <code>{{#person}}</code>. In both examples we refer to <code>person</code> as the tag's key. There are several types of tags available in mustache.js, described below.</p>
<p>There are several techniques that can be used to load templates and hand them to mustache.js, here are two of them:</p>
<div class="pilwrap" id="include-templates">
  <h4>
    <a href="#include-templates" name="include-templates" class="pilcrow"></a>
Include Templates
  </h4>
</div>
<p>If you need a template for a dynamic part in a static website, you can consider including the template in the static HTML file to avoid loading templates separately. Here's a small example using <code>jQuery</code>:</p>
<pre><code class="html"><span class="hljs-meta">&lt;!DOCTYPE HTML&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">onload</span>=<span class="hljs-string">"loadUser()"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"target"</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"template"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"x-tmpl-mustache"</span>&gt;</span><span class="handlebars"><span class="xml">
Hello </span><span class="hljs-template-variable">{{ name }}</span><span class="xml">!
</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<pre><code class="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadUser</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> template = $(<span class="hljs-string">'#template'</span>).html();
  Mustache.parse(template);   <span class="hljs-comment">// optional, speeds up future uses</span>
  <span class="hljs-keyword">var</span> rendered = Mustache.render(template, {<span class="hljs-attr">name</span>: <span class="hljs-string">"Luke"</span>});
  $(<span class="hljs-string">'#target'</span>).html(rendered);
}
</code></pre>
<div class="pilwrap" id="load-external-templates">
  <h4>
    <a href="#load-external-templates" name="load-external-templates" class="pilcrow"></a>
Load External Templates
  </h4>
</div>
<p>If your templates reside in individual files, you can load them asynchronously and render them when they arrive. Another example using <code>jQuery</code>:</p>
<pre><code class="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadUser</span>(<span class="hljs-params"></span>) </span>{
  $.get(<span class="hljs-string">'template.mst'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">template</span>) </span>{
    <span class="hljs-keyword">var</span> rendered = Mustache.render(template, {<span class="hljs-attr">name</span>: <span class="hljs-string">"Luke"</span>});
    $(<span class="hljs-string">'#target'</span>).html(rendered);
  });
}
</code></pre>
<div class="pilwrap" id="variables">
  <h3>
    <a href="#variables" name="variables" class="pilcrow"></a>
Variables
  </h3>
</div>
<p>The most basic tag type is a simple variable. A <code>{{name}}</code> tag renders the value of the <code>name</code> key in the current context. If there is no such key, nothing is rendered.</p>
<p>All variables are HTML-escaped by default. If you want to render unescaped HTML, use the triple mustache: <code>{{{name}}}</code>. You can also use <code>&amp;</code> to unescape a variable.</p>
<p>If you want <code>{{name}}</code> <em>not</em> to be interpreted as a mustache tag, but rather to appear exactly as <code>{{name}}</code> in the output, you must change and then restore the default delimiter. See the <a href="#custom-delimiters.html">Custom Delimiters</a> section for more information.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Chris"</span>,
  <span class="hljs-attr">"company"</span>: <span class="hljs-string">"&lt;b&gt;GitHub&lt;/b&gt;"</span>
}
</code></pre>
<p>Template:</p>
<pre><code>* {{name}}
* {{age}}
* {{company}}
* {{{company}}}
* {{&amp;company}}
{{=&lt;% %&gt;=}}
* {{company}}
&lt;%={{ }}=%&gt;
</code></pre>
<p>Output:</p>
<pre><code class="html">* Chris
*
* &amp;lt;b&amp;gt;GitHub&amp;lt;/b&amp;gt;
* <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>GitHub<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
* <span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>GitHub<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
* {{company}}
</code></pre>
<p>JavaScript's dot notation may be used to access keys that are properties of objects in a view.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"name"</span>: {
    <span class="hljs-attr">"first"</span>: <span class="hljs-string">"Michael"</span>,
    <span class="hljs-attr">"last"</span>: <span class="hljs-string">"Jackson"</span>
  },
  <span class="hljs-attr">"age"</span>: <span class="hljs-string">"RIP"</span>
}
</code></pre>
<p>Template:</p>
<pre><code class="html">* {{name.first}} {{name.last}}
* {{age}}
</code></pre>
<p>Output:</p>
<pre><code class="html">* Michael Jackson
* RIP
</code></pre>
<div class="pilwrap" id="sections">
  <h3>
    <a href="#sections" name="sections" class="pilcrow"></a>
Sections
  </h3>
</div>
<p>Sections render blocks of text one or more times, depending on the value of the key in the current context.</p>
<p>A section begins with a pound and ends with a slash. That is, <code>{{#person}}</code> begins a <code>person</code> section, while <code>{{/person}}</code> ends it. The text between the two tags is referred to as that section's &quot;block&quot;.</p>
<p>The behavior of the section is determined by the value of the key.</p>
<div class="pilwrap" id="false-values-or-empty-lists">
  <h4>
    <a href="#false-values-or-empty-lists" name="false-values-or-empty-lists" class="pilcrow"></a>
False Values or Empty Lists
  </h4>
</div>
<p>If the <code>person</code> key does not exist, or exists and has a value of <code>null</code>, <code>undefined</code>, <code>false</code>, <code>0</code>, or <code>NaN</code>, or is an empty string or an empty list, the block will not be rendered.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"person"</span>: <span class="hljs-literal">false</span>
}
</code></pre>
<p>Template:</p>
<pre><code class="html">Shown.
{{#person}}
Never shown!
{{/person}}
</code></pre>
<p>Output:</p>
<pre><code class="html">Shown.
</code></pre>
<div class="pilwrap" id="non-empty-lists">
  <h4>
    <a href="#non-empty-lists" name="non-empty-lists" class="pilcrow"></a>
Non-Empty Lists
  </h4>
</div>
<p>If the <code>person</code> key exists and is not <code>null</code>, <code>undefined</code>, or <code>false</code>, and is not an empty list the block will be rendered one or more times.</p>
<p>When the value is a list, the block is rendered once for each item in the list. The context of the block is set to the current item in the list for each iteration. In this way we can loop over collections.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"stooges"</span>: [
    { <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Moe"</span> },
    { <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Larry"</span> },
    { <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Curly"</span> }
  ]
}
</code></pre>
<p>Template:</p>
<pre><code class="html">{{#stooges}}
<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{{name}}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
{{/stooges}}
</code></pre>
<p>Output:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Moe<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Larry<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Curly<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
</code></pre>
<p>When looping over an array of strings, a <code>.</code> can be used to refer to the current item in the list.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"musketeers"</span>: [<span class="hljs-string">"Athos"</span>, <span class="hljs-string">"Aramis"</span>, <span class="hljs-string">"Porthos"</span>, <span class="hljs-string">"D'Artagnan"</span>]
}
</code></pre>
<p>Template:</p>
<pre><code class="html">{{#musketeers}}
* {{.}}
{{/musketeers}}
</code></pre>
<p>Output:</p>
<pre><code class="html">* Athos
* Aramis
* Porthos
* D'Artagnan
</code></pre>
<p>If the value of a section variable is a function, it will be called in the context of the current item in the list on each iteration.</p>
<p>View:</p>
<pre><code class="js">{
  <span class="hljs-string">"beatles"</span>: [
    { <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"John"</span>, <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Lennon"</span> },
    { <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Paul"</span>, <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"McCartney"</span> },
    { <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"George"</span>, <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Harrison"</span> },
    { <span class="hljs-string">"firstName"</span>: <span class="hljs-string">"Ringo"</span>, <span class="hljs-string">"lastName"</span>: <span class="hljs-string">"Starr"</span> }
  ],
  <span class="hljs-string">"name"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">" "</span> + <span class="hljs-keyword">this</span>.lastName;
  }
}
</code></pre>
<p>Template:</p>
<pre><code class="html">{{#beatles}}
* {{name}}
{{/beatles}}
</code></pre>
<p>Output:</p>
<pre><code class="html">* John Lennon
* Paul McCartney
* George Harrison
* Ringo Starr
</code></pre>
<div class="pilwrap" id="functions">
  <h4>
    <a href="#functions" name="functions" class="pilcrow"></a>
Functions
  </h4>
</div>
<p>If the value of a section key is a function, it is called with the section's literal block of text, un-rendered, as its first argument. The second argument is a special rendering function that uses the current view as its view argument. It is called in the context of the current view object.</p>
<p>View:</p>
<pre><code class="js">{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"Tater"</span>,
  <span class="hljs-string">"bold"</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text, render</span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-string">"&lt;b&gt;"</span> + render(text) + <span class="hljs-string">"&lt;/b&gt;"</span>;
    }
  }
}
</code></pre>
<p>Template:</p>
<pre><code class="html">{{#bold}}Hi {{name}}.{{/bold}}
</code></pre>
<p>Output:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>Hi Tater.<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>
</code></pre>
<div class="pilwrap" id="inverted-sections">
  <h3>
    <a href="#inverted-sections" name="inverted-sections" class="pilcrow"></a>
Inverted Sections
  </h3>
</div>
<p>An inverted section opens with <code>{{^section}}</code> instead of <code>{{#section}}</code>. The block of an inverted section is rendered only if the value of that section's tag is <code>null</code>, <code>undefined</code>, <code>false</code>, <em>falsy</em> or an empty list.</p>
<p>View:</p>
<pre><code class="json">{
  <span class="hljs-attr">"repos"</span>: []
}
</code></pre>
<p>Template:</p>
<pre><code class="html">{{#repos}}<span class="hljs-tag">&lt;<span class="hljs-name">b</span>&gt;</span>{{name}}<span class="hljs-tag">&lt;/<span class="hljs-name">b</span>&gt;</span>{{/repos}}
{{^repos}}No repos :({{/repos}}
</code></pre>
<p>Output:</p>
<pre><code class="html">No repos :(
</code></pre>
<div class="pilwrap" id="comments">
  <h3>
    <a href="#comments" name="comments" class="pilcrow"></a>
Comments
  </h3>
</div>
<p>Comments begin with a bang and are ignored. The following template:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Today{{! ignore me }}.<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<p>Will render as follows:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Today.<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
</code></pre>
<p>Comments may contain newlines.</p>
<div class="pilwrap" id="partials">
  <h3>
    <a href="#partials" name="partials" class="pilcrow"></a>
Partials
  </h3>
</div>
<p>Partials begin with a greater than sign, like {{&gt; box}}.</p>
<p>Partials are rendered at runtime (as opposed to compile time), so recursive partials are possible. Just avoid infinite loops.</p>
<p>They also inherit the calling context. Whereas in ERB you may have this:</p>
<pre><code class="html+erb">&lt;%= partial :next_more, :start =&gt; start, :size =&gt; size %&gt;
</code></pre>
<p>Mustache requires only this:</p>
<pre><code class="html">{{&gt; next_more}}
</code></pre>
<p>Why? Because the <code>next_more.mustache</code> file will inherit the <code>size</code> and <code>start</code> variables from the calling context. In this way you may want to think of partials as includes, imports, template expansion, nested templates, or subtemplates, even though those aren't literally the case here.</p>
<p>For example, this template and partial:</p>
<pre><code>base.mustache:
&lt;h2&gt;Names&lt;/h2&gt;
{{#names}}
  {{&gt; user}}
{{/names}}

user.mustache:
&lt;strong&gt;{{name}}&lt;/strong&gt;
</code></pre>
<p>Can be thought of as a single, expanded template:</p>
<pre><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Names<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
{{#names}}
  <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>{{name}}<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>
{{/names}}
</code></pre>
<p>In mustache.js an object of partials may be passed as the third argument to <code>Mustache.render</code>. The object should be keyed by the name of the partial, and its value should be the partial text.</p>
<pre><code class="js">Mustache.render(template, view, {
  <span class="hljs-attr">user</span>: userTemplate
});
</code></pre>
<div class="pilwrap" id="custom-delimiters">
  <h3>
    <a href="#custom-delimiters" name="custom-delimiters" class="pilcrow"></a>
Custom Delimiters
  </h3>
</div>
<p>Custom delimiters can be used in place of <code>{{</code> and <code>}}</code> by setting the new values in JavaScript or in templates.</p>
<div class="pilwrap" id="setting-in-javascript">
  <h4>
    <a href="#setting-in-javascript" name="setting-in-javascript" class="pilcrow"></a>
Setting in JavaScript
  </h4>
</div>
<p>The <code>Mustache.tags</code> property holds an array consisting of the opening and closing tag values. Set custom values by passing a new array of tags to <code>parse()</code>, which gets honored over the default values, or by overriding the <code>tags</code> property itself:</p>
<pre><code class="js"><span class="hljs-keyword">var</span> customTags = [ <span class="hljs-string">'&lt;%'</span>, <span class="hljs-string">'%&gt;'</span> ];
</code></pre>
<div class="pilwrap" id="pass-value-into-parse-method">
  <h5>
    <a href="#pass-value-into-parse-method" name="pass-value-into-parse-method" class="pilcrow"></a>
Pass Value into Parse Method
  </h5>
</div>
<pre><code class="js">Mustache.parse(template, customTags);
</code></pre>
<div class="pilwrap" id="override-tags-property">
  <h5>
    <a href="#override-tags-property" name="override-tags-property" class="pilcrow"></a>
Override Tags Property
  </h5>
</div>
<pre><code class="js">Mustache.tags = customTags;
<span class="hljs-comment">// Subsequent parse() and render() calls will use customTags</span>
</code></pre>
<div class="pilwrap" id="setting-in-templates">
  <h4>
    <a href="#setting-in-templates" name="setting-in-templates" class="pilcrow"></a>
Setting in Templates
  </h4>
</div>
<p>Set Delimiter tags start with an equals sign and change the tag delimiters from <code>{{</code> and <code>}}</code> to custom strings.</p>
<p>Consider the following contrived example:</p>
<pre><code class="html+erb">* {{ default_tags }}
{{=&lt;% %&gt;=}}
* &lt;% erb_style_tags %&gt;
&lt;%={{ }}=%&gt;
* {{ default_tags_again }}
</code></pre>
<p>Here we have a list with three items. The first item uses the default tag style, the second uses ERB style as defined by the Set Delimiter tag, and the third returns to the default style after yet another Set Delimiter declaration.</p>
<p>According to <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/OlafvdSpek/ctemplate/master/doc/howto.html">ctemplates</a>, this &quot;is useful for languages like TeX, where double-braces may occur in the text and are awkward to use for markup.&quot;</p>
<p>Custom delimiters may not contain whitespace or the equals sign.</p>
<div class="pilwrap" id="pre-parsing-and-caching-templates">
  <h2>
    <a href="#pre-parsing-and-caching-templates" name="pre-parsing-and-caching-templates" class="pilcrow"></a>
Pre-parsing and Caching Templates
  </h2>
</div>
<p>By default, when mustache.js first parses a template it keeps the full parsed token tree in a cache. The next time it sees that same template it skips the parsing step and renders the template much more quickly. If you'd like, you can do this ahead of time using <code>mustache.parse</code>.</p>
<pre><code class="js">Mustache.parse(template);

<span class="hljs-comment">// Then, sometime later.</span>
Mustache.render(template, view);
</code></pre>
<div class="pilwrap" id="plugins-for-javascript-libraries">
  <h2>
    <a href="#plugins-for-javascript-libraries" name="plugins-for-javascript-libraries" class="pilcrow"></a>
Plugins for JavaScript Libraries
  </h2>
</div>
<p>mustache.js may be built specifically for several different client libraries, including the following:</p>
<ul>
<li><a href="http://jquery.com/">jQuery</a></li>
<li><a href="http://mootools.net/">MooTools</a></li>
<li><a href="http://www.dojotoolkit.org/">Dojo</a></li>
<li><a href="http://developer.yahoo.com/yui/">YUI</a></li>
<li><a href="http://qooxdoo.org/">qooxdoo</a></li>
</ul>
<p>These may be built using <a href="http://rake.rubyforge.org/">Rake</a> and one of the following commands:</p>
<pre><code class="bash">$ rake jquery
$ rake mootools
$ rake dojo
$ rake yui3
$ rake qooxdoo
</code></pre>
<div class="pilwrap" id="testing">
  <h2>
    <a href="#testing" name="testing" class="pilcrow"></a>
Testing
  </h2>
</div>
<p>In order to run the tests you'll need to install <a href="http://nodejs.org/">node</a>.</p>
<p>You also need to install the sub module containing <a href="http://github.com/mustache/spec">Mustache specifications</a> in the project root.</p>
<pre><code class="bash">$ git submodule init
$ git submodule update
</code></pre>
<p>Install dependencies.</p>
<pre><code class="bash">$ npm install
</code></pre>
<p>Then run the tests.</p>
<pre><code class="bash">$ npm <span class="hljs-built_in">test</span>
</code></pre>
<p>The test suite consists of both unit and integration tests. If a template isn't rendering correctly for you, you can make a test for it by doing the following:</p>
<ol>
<li>Create a template file named <code>mytest.mustache</code> in the <code>test/_files</code>
directory. Replace <code>mytest</code> with the name of your test.</li>
<li>Create a corresponding view file named <code>mytest.js</code> in the same directory.
This file should contain a JavaScript object literal enclosed in
parentheses. See any of the other view files for an example.</li>
<li>Create a file with the expected output in <code>mytest.txt</code> in the same
directory.</li>
</ol>
<p>Then, you can run the test with:</p>
<pre><code class="bash">$ TEST=mytest npm run <span class="hljs-built_in">test</span>-render
</code></pre>
<div class="pilwrap" id="browser-tests">
  <h3>
    <a href="#browser-tests" name="browser-tests" class="pilcrow"></a>
Browser tests
  </h3>
</div>
<p>Browser tests are not included in <code>npm test</code> as they run for too long, although they are ran automatically on Travis when merged into master. Run browser tests locally in any browser:</p>
<pre><code class="bash">$ npm run <span class="hljs-built_in">test</span>-browser-local
</code></pre>
<p>then point your browser to <code>http://localhost:8080/__zuul</code></p>
<div class="pilwrap" id="troubleshooting">
  <h3>
    <a href="#troubleshooting" name="troubleshooting" class="pilcrow"></a>
Troubleshooting
  </h3>
</div>
<div class="pilwrap" id="npm-install-fails">
  <h4>
    <a href="#npm-install-fails" name="npm-install-fails" class="pilcrow"></a>
npm install fails
  </h4>
</div>
<p>Ensure to have a recent version of npm installed. While developing this project requires npm with support for <code>^</code> version ranges.</p>
<pre><code class="bash">$ npm install -g npm
</code></pre>
<div class="pilwrap" id="thanks">
  <h2>
    <a href="#thanks" name="thanks" class="pilcrow"></a>
Thanks
  </h2>
</div>
<p>mustache.js wouldn't kick ass if it weren't for these fine souls:</p>
<ul>
<li>Chris Wanstrath / defunkt</li>
<li>Alexander Lang / langalex</li>
<li>Sebastian Cohnen / tisba</li>
<li>J Chris Anderson / jchris</li>
<li>Tom Robinson / tlrobinson</li>
<li>Aaron Quint / quirkey</li>
<li>Douglas Crockford</li>
<li>Nikita Vasilyev / NV</li>
<li>Elise Wood / glytch</li>
<li>Damien Mathieu / dmathieu</li>
<li>Jakub Kuźma / qoobaa</li>
<li>Will Leinweber / will</li>
<li>dpree</li>
<li>Jason Smith / jhs</li>
<li>Aaron Gibralter / agibralter</li>
<li>Ross Boucher / boucher</li>
<li>Matt Sanford / mzsanford</li>
<li>Ben Cherry / bcherry</li>
<li>Michael Jackson / mjackson</li>
<li>Phillip Johnsen / phillipj</li>
<li>David da Silva Contín / dasilvacontin</li>
</ul>
</div>
  </div>
</body>
</html>
