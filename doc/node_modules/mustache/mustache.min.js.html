<!DOCTYPE html>
<html>
<head>
  <title>mustache.min.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/mustache/mustache.min.js";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="background highlight"></div>
<table cellpadding="0" cellspacing="0">
  <tbody>
    
      <tr>
        <td class="docs">
          <h1>mustache.min.js</h1>
        </td>
        <td class="code highlight"></td>
      </tr>
    
    
      <tr>
        <td class="docs">
          <div class="pilwrap">
  <a class="pilcrow" href="#section-1" id="section-1"></a>
</div>

        </td>
        <td class="code highlight">
          <pre class="javascript">(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineMustache</span>(<span class="hljs-params">global,factory</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> exports===<span class="hljs-string">"object"</span>&amp;&amp;exports&amp;&amp;<span class="hljs-keyword">typeof</span> exports.nodeName!==<span class="hljs-string">"string"</span>){factory(exports)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> define===<span class="hljs-string">"function"</span>&amp;&amp;define.amd){define([<span class="hljs-string">"exports"</span>],factory)}<span class="hljs-keyword">else</span>{global.Mustache={};factory(global.Mustache)}})(<span class="hljs-keyword">this</span>,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mustacheFactory</span>(<span class="hljs-params">mustache</span>)</span>{<span class="hljs-keyword">var</span> objectToString=<span class="hljs-built_in">Object</span>.prototype.toString;<span class="hljs-keyword">var</span> isArray=<span class="hljs-built_in">Array</span>.isArray||<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isArrayPolyfill</span>(<span class="hljs-params">object</span>)</span>{<span class="hljs-keyword">return</span> objectToString.call(object)===<span class="hljs-string">"[object Array]"</span>};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isFunction</span>(<span class="hljs-params">object</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> object===<span class="hljs-string">"function"</span>}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">typeStr</span>(<span class="hljs-params">obj</span>)</span>{<span class="hljs-keyword">return</span> isArray(obj)?<span class="hljs-string">"array"</span>:<span class="hljs-keyword">typeof</span> obj}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeRegExp</span>(<span class="hljs-params">string</span>)</span>{<span class="hljs-keyword">return</span> string.replace(<span class="hljs-regexp">/[\-\[\]{}()*+?.,\\\^$|#\s]/g</span>,<span class="hljs-string">"\\$&amp;"</span>)}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hasProperty</span>(<span class="hljs-params">obj,propName</span>)</span>{<span class="hljs-keyword">return</span> obj!=<span class="hljs-literal">null</span>&amp;&amp;<span class="hljs-keyword">typeof</span> obj===<span class="hljs-string">"object"</span>&amp;&amp;propName <span class="hljs-keyword">in</span> obj}<span class="hljs-keyword">var</span> regExpTest=<span class="hljs-built_in">RegExp</span>.prototype.test;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testRegExp</span>(<span class="hljs-params">re,string</span>)</span>{<span class="hljs-keyword">return</span> regExpTest.call(re,string)}<span class="hljs-keyword">var</span> nonSpaceRe=<span class="hljs-regexp">/\S/</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isWhitespace</span>(<span class="hljs-params">string</span>)</span>{<span class="hljs-keyword">return</span>!testRegExp(nonSpaceRe,string)}<span class="hljs-keyword">var</span> entityMap={<span class="hljs-string">"&amp;"</span>:<span class="hljs-string">"&amp;amp;"</span>,<span class="hljs-string">"&lt;"</span>:<span class="hljs-string">"&amp;lt;"</span>,<span class="hljs-string">"&gt;"</span>:<span class="hljs-string">"&amp;gt;"</span>,<span class="hljs-string">'"'</span>:<span class="hljs-string">"&amp;quot;"</span>,<span class="hljs-string">"'"</span>:<span class="hljs-string">"&amp;#39;"</span>,<span class="hljs-string">"/"</span>:<span class="hljs-string">"&amp;#x2F;"</span>,<span class="hljs-string">"`"</span>:<span class="hljs-string">"&amp;#x60;"</span>,<span class="hljs-string">"="</span>:<span class="hljs-string">"&amp;#x3D;"</span>};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapeHtml</span>(<span class="hljs-params">string</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>(string).replace(<span class="hljs-regexp">/[&amp;&lt;&gt;"'`=\/]/g</span>,<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fromEntityMap</span>(<span class="hljs-params">s</span>)</span>{<span class="hljs-keyword">return</span> entityMap[s]})}<span class="hljs-keyword">var</span> whiteRe=<span class="hljs-regexp">/\s*/</span>;<span class="hljs-keyword">var</span> spaceRe=<span class="hljs-regexp">/\s+/</span>;<span class="hljs-keyword">var</span> equalsRe=<span class="hljs-regexp">/\s*=/</span>;<span class="hljs-keyword">var</span> curlyRe=<span class="hljs-regexp">/\s*\}/</span>;<span class="hljs-keyword">var</span> tagRe=<span class="hljs-regexp">/#|\^|\/|&gt;|\{|&amp;|=|!/</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseTemplate</span>(<span class="hljs-params">template,tags</span>)</span>{<span class="hljs-keyword">if</span>(!template)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">var</span> sections=[];<span class="hljs-keyword">var</span> tokens=[];<span class="hljs-keyword">var</span> spaces=[];<span class="hljs-keyword">var</span> hasTag=<span class="hljs-literal">false</span>;<span class="hljs-keyword">var</span> nonSpace=<span class="hljs-literal">false</span>;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">stripSpace</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">if</span>(hasTag&amp;&amp;!nonSpace){<span class="hljs-keyword">while</span>(spaces.length)<span class="hljs-keyword">delete</span> tokens[spaces.pop()]}<span class="hljs-keyword">else</span>{spaces=[]}hasTag=<span class="hljs-literal">false</span>;nonSpace=<span class="hljs-literal">false</span>}<span class="hljs-keyword">var</span> openingTagRe,closingTagRe,closingCurlyRe;<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">compileTags</span>(<span class="hljs-params">tagsToCompile</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> tagsToCompile===<span class="hljs-string">"string"</span>)tagsToCompile=tagsToCompile.split(spaceRe,<span class="hljs-number">2</span>);<span class="hljs-keyword">if</span>(!isArray(tagsToCompile)||tagsToCompile.length!==<span class="hljs-number">2</span>)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Invalid tags: "</span>+tagsToCompile);openingTagRe=<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(escapeRegExp(tagsToCompile[<span class="hljs-number">0</span>])+<span class="hljs-string">"\\s*"</span>);closingTagRe=<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\\s*"</span>+escapeRegExp(tagsToCompile[<span class="hljs-number">1</span>]));closingCurlyRe=<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">"\\s*"</span>+escapeRegExp(<span class="hljs-string">"}"</span>+tagsToCompile[<span class="hljs-number">1</span>]))}compileTags(tags||mustache.tags);<span class="hljs-keyword">var</span> scanner=<span class="hljs-keyword">new</span> Scanner(template);<span class="hljs-keyword">var</span> start,type,value,chr,token,openSection;<span class="hljs-keyword">while</span>(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);<span class="hljs-keyword">if</span>(value){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,valueLength=value.length;i&lt;valueLength;++i){chr=value.charAt(i);<span class="hljs-keyword">if</span>(isWhitespace(chr)){spaces.push(tokens.length)}<span class="hljs-keyword">else</span>{nonSpace=<span class="hljs-literal">true</span>}tokens.push([<span class="hljs-string">"text"</span>,chr,start,start+<span class="hljs-number">1</span>]);start+=<span class="hljs-number">1</span>;<span class="hljs-keyword">if</span>(chr===<span class="hljs-string">"\n"</span>)stripSpace()}}<span class="hljs-keyword">if</span>(!scanner.scan(openingTagRe))<span class="hljs-keyword">break</span>;hasTag=<span class="hljs-literal">true</span>;type=scanner.scan(tagRe)||<span class="hljs-string">"name"</span>;scanner.scan(whiteRe);<span class="hljs-keyword">if</span>(type===<span class="hljs-string">"="</span>){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type===<span class="hljs-string">"{"</span>){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type=<span class="hljs-string">"&amp;"</span>}<span class="hljs-keyword">else</span>{value=scanner.scanUntil(closingTagRe)}<span class="hljs-keyword">if</span>(!scanner.scan(closingTagRe))<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Unclosed tag at "</span>+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);<span class="hljs-keyword">if</span>(type===<span class="hljs-string">"#"</span>||type===<span class="hljs-string">"^"</span>){sections.push(token)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type===<span class="hljs-string">"/"</span>){openSection=sections.pop();<span class="hljs-keyword">if</span>(!openSection)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unopened section "'</span>+value+<span class="hljs-string">'" at '</span>+start);<span class="hljs-keyword">if</span>(openSection[<span class="hljs-number">1</span>]!==value)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unclosed section "'</span>+openSection[<span class="hljs-number">1</span>]+<span class="hljs-string">'" at '</span>+start)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type===<span class="hljs-string">"name"</span>||type===<span class="hljs-string">"{"</span>||type===<span class="hljs-string">"&amp;"</span>){nonSpace=<span class="hljs-literal">true</span>}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(type===<span class="hljs-string">"="</span>){compileTags(value)}}openSection=sections.pop();<span class="hljs-keyword">if</span>(openSection)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unclosed section "'</span>+openSection[<span class="hljs-number">1</span>]+<span class="hljs-string">'" at '</span>+scanner.pos);<span class="hljs-keyword">return</span> nestTokens(squashTokens(tokens))}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">squashTokens</span>(<span class="hljs-params">tokens</span>)</span>{<span class="hljs-keyword">var</span> squashedTokens=[];<span class="hljs-keyword">var</span> token,lastToken;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,numTokens=tokens.length;i&lt;numTokens;++i){token=tokens[i];<span class="hljs-keyword">if</span>(token){<span class="hljs-keyword">if</span>(token[<span class="hljs-number">0</span>]===<span class="hljs-string">"text"</span>&amp;&amp;lastToken&amp;&amp;lastToken[<span class="hljs-number">0</span>]===<span class="hljs-string">"text"</span>){lastToken[<span class="hljs-number">1</span>]+=token[<span class="hljs-number">1</span>];lastToken[<span class="hljs-number">3</span>]=token[<span class="hljs-number">3</span>]}<span class="hljs-keyword">else</span>{squashedTokens.push(token);lastToken=token}}}<span class="hljs-keyword">return</span> squashedTokens}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nestTokens</span>(<span class="hljs-params">tokens</span>)</span>{<span class="hljs-keyword">var</span> nestedTokens=[];<span class="hljs-keyword">var</span> collector=nestedTokens;<span class="hljs-keyword">var</span> sections=[];<span class="hljs-keyword">var</span> token,section;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,numTokens=tokens.length;i&lt;numTokens;++i){token=tokens[i];<span class="hljs-keyword">switch</span>(token[<span class="hljs-number">0</span>]){<span class="hljs-keyword">case</span><span class="hljs-string">"#"</span>:<span class="hljs-keyword">case</span><span class="hljs-string">"^"</span>:collector.push(token);sections.push(token);collector=token[<span class="hljs-number">4</span>]=[];<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span><span class="hljs-string">"/"</span>:section=sections.pop();section[<span class="hljs-number">5</span>]=token[<span class="hljs-number">2</span>];collector=sections.length&gt;<span class="hljs-number">0</span>?sections[sections.length<span class="hljs-number">-1</span>][<span class="hljs-number">4</span>]:nestedTokens;<span class="hljs-keyword">break</span>;<span class="hljs-keyword">default</span>:collector.push(token)}}<span class="hljs-keyword">return</span> nestedTokens}<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Scanner</span>(<span class="hljs-params">string</span>)</span>{<span class="hljs-keyword">this</span>.string=string;<span class="hljs-keyword">this</span>.tail=string;<span class="hljs-keyword">this</span>.pos=<span class="hljs-number">0</span>}Scanner.prototype.eos=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eos</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.tail===<span class="hljs-string">""</span>};Scanner.prototype.scan=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scan</span>(<span class="hljs-params">re</span>)</span>{<span class="hljs-keyword">var</span> match=<span class="hljs-keyword">this</span>.tail.match(re);<span class="hljs-keyword">if</span>(!match||match.index!==<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span><span class="hljs-string">""</span>;<span class="hljs-keyword">var</span> string=match[<span class="hljs-number">0</span>];<span class="hljs-keyword">this</span>.tail=<span class="hljs-keyword">this</span>.tail.substring(string.length);<span class="hljs-keyword">this</span>.pos+=string.length;<span class="hljs-keyword">return</span> string};Scanner.prototype.scanUntil=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scanUntil</span>(<span class="hljs-params">re</span>)</span>{<span class="hljs-keyword">var</span> index=<span class="hljs-keyword">this</span>.tail.search(re),match;<span class="hljs-keyword">switch</span>(index){<span class="hljs-keyword">case</span><span class="hljs-number">-1</span>:match=<span class="hljs-keyword">this</span>.tail;<span class="hljs-keyword">this</span>.tail=<span class="hljs-string">""</span>;<span class="hljs-keyword">break</span>;<span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:match=<span class="hljs-string">""</span>;<span class="hljs-keyword">break</span>;<span class="hljs-keyword">default</span>:match=<span class="hljs-keyword">this</span>.tail.substring(<span class="hljs-number">0</span>,index);<span class="hljs-keyword">this</span>.tail=<span class="hljs-keyword">this</span>.tail.substring(index)}<span class="hljs-keyword">this</span>.pos+=match.length;<span class="hljs-keyword">return</span> match};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Context</span>(<span class="hljs-params">view,parentContext</span>)</span>{<span class="hljs-keyword">this</span>.view=view;<span class="hljs-keyword">this</span>.cache={<span class="hljs-string">"."</span>:<span class="hljs-keyword">this</span>.view};<span class="hljs-keyword">this</span>.parent=parentContext}Context.prototype.push=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">push</span>(<span class="hljs-params">view</span>)</span>{<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Context(view,<span class="hljs-keyword">this</span>)};Context.prototype.lookup=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">lookup</span>(<span class="hljs-params">name</span>)</span>{<span class="hljs-keyword">var</span> cache=<span class="hljs-keyword">this</span>.cache;<span class="hljs-keyword">var</span> value;<span class="hljs-keyword">if</span>(cache.hasOwnProperty(name)){value=cache[name]}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> context=<span class="hljs-keyword">this</span>,names,index,lookupHit=<span class="hljs-literal">false</span>;<span class="hljs-keyword">while</span>(context){<span class="hljs-keyword">if</span>(name.indexOf(<span class="hljs-string">"."</span>)&gt;<span class="hljs-number">0</span>){value=context.view;names=name.split(<span class="hljs-string">"."</span>);index=<span class="hljs-number">0</span>;<span class="hljs-keyword">while</span>(value!=<span class="hljs-literal">null</span>&amp;&amp;index&lt;names.length){<span class="hljs-keyword">if</span>(index===names.length<span class="hljs-number">-1</span>)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}<span class="hljs-keyword">else</span>{value=context.view[name];lookupHit=hasProperty(context.view,name)}<span class="hljs-keyword">if</span>(lookupHit)<span class="hljs-keyword">break</span>;context=context.parent}cache[name]=value}<span class="hljs-keyword">if</span>(isFunction(value))value=value.call(<span class="hljs-keyword">this</span>.view);<span class="hljs-keyword">return</span> value};<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Writer</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.cache={}}Writer.prototype.clearCache=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCache</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">this</span>.cache={}};Writer.prototype.parse=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">template,tags</span>)</span>{<span class="hljs-keyword">var</span> cache=<span class="hljs-keyword">this</span>.cache;<span class="hljs-keyword">var</span> tokens=cache[template];<span class="hljs-keyword">if</span>(tokens==<span class="hljs-literal">null</span>)tokens=cache[template]=parseTemplate(template,tags);<span class="hljs-keyword">return</span> tokens};Writer.prototype.render=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params">template,view,partials</span>)</span>{<span class="hljs-keyword">var</span> tokens=<span class="hljs-keyword">this</span>.parse(template);<span class="hljs-keyword">var</span> context=view <span class="hljs-keyword">instanceof</span> Context?view:<span class="hljs-keyword">new</span> Context(view);<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderTokens</span>(<span class="hljs-params">tokens,context,partials,originalTemplate</span>)</span>{<span class="hljs-keyword">var</span> buffer=<span class="hljs-string">""</span>;<span class="hljs-keyword">var</span> token,symbol,value;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,numTokens=tokens.length;i&lt;numTokens;++i){value=<span class="hljs-literal">undefined</span>;token=tokens[i];symbol=token[<span class="hljs-number">0</span>];<span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"#"</span>)value=<span class="hljs-keyword">this</span>.renderSection(token,context,partials,originalTemplate);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"^"</span>)value=<span class="hljs-keyword">this</span>.renderInverted(token,context,partials,originalTemplate);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"&gt;"</span>)value=<span class="hljs-keyword">this</span>.renderPartial(token,context,partials,originalTemplate);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"&amp;"</span>)value=<span class="hljs-keyword">this</span>.unescapedValue(token,context);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"name"</span>)value=<span class="hljs-keyword">this</span>.escapedValue(token,context);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(symbol===<span class="hljs-string">"text"</span>)value=<span class="hljs-keyword">this</span>.rawValue(token);<span class="hljs-keyword">if</span>(value!==<span class="hljs-literal">undefined</span>)buffer+=value}<span class="hljs-keyword">return</span> buffer};Writer.prototype.renderSection=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderSection</span>(<span class="hljs-params">token,context,partials,originalTemplate</span>)</span>{<span class="hljs-keyword">var</span> self=<span class="hljs-keyword">this</span>;<span class="hljs-keyword">var</span> buffer=<span class="hljs-string">""</span>;<span class="hljs-keyword">var</span> value=context.lookup(token[<span class="hljs-number">1</span>]);<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subRender</span>(<span class="hljs-params">template</span>)</span>{<span class="hljs-keyword">return</span> self.render(template,context,partials)}<span class="hljs-keyword">if</span>(!value)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">if</span>(isArray(value)){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j=<span class="hljs-number">0</span>,valueLength=value.length;j&lt;valueLength;++j){buffer+=<span class="hljs-keyword">this</span>.renderTokens(token[<span class="hljs-number">4</span>],context.push(value[j]),partials,originalTemplate)}}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> value===<span class="hljs-string">"object"</span>||<span class="hljs-keyword">typeof</span> value===<span class="hljs-string">"string"</span>||<span class="hljs-keyword">typeof</span> value===<span class="hljs-string">"number"</span>){buffer+=<span class="hljs-keyword">this</span>.renderTokens(token[<span class="hljs-number">4</span>],context.push(value),partials,originalTemplate)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isFunction(value)){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> originalTemplate!==<span class="hljs-string">"string"</span>)<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot use higher-order sections without the original template"</span>);value=value.call(context.view,originalTemplate.slice(token[<span class="hljs-number">3</span>],token[<span class="hljs-number">5</span>]),subRender);<span class="hljs-keyword">if</span>(value!=<span class="hljs-literal">null</span>)buffer+=value}<span class="hljs-keyword">else</span>{buffer+=<span class="hljs-keyword">this</span>.renderTokens(token[<span class="hljs-number">4</span>],context,partials,originalTemplate)}<span class="hljs-keyword">return</span> buffer};Writer.prototype.renderInverted=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderInverted</span>(<span class="hljs-params">token,context,partials,originalTemplate</span>)</span>{<span class="hljs-keyword">var</span> value=context.lookup(token[<span class="hljs-number">1</span>]);<span class="hljs-keyword">if</span>(!value||isArray(value)&amp;&amp;value.length===<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderTokens(token[<span class="hljs-number">4</span>],context,partials,originalTemplate)};Writer.prototype.renderPartial=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderPartial</span>(<span class="hljs-params">token,context,partials</span>)</span>{<span class="hljs-keyword">if</span>(!partials)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">var</span> value=isFunction(partials)?partials(token[<span class="hljs-number">1</span>]):partials[token[<span class="hljs-number">1</span>]];<span class="hljs-keyword">if</span>(value!=<span class="hljs-literal">null</span>)<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.renderTokens(<span class="hljs-keyword">this</span>.parse(value),context,partials,value)};Writer.prototype.unescapedValue=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">unescapedValue</span>(<span class="hljs-params">token,context</span>)</span>{<span class="hljs-keyword">var</span> value=context.lookup(token[<span class="hljs-number">1</span>]);<span class="hljs-keyword">if</span>(value!=<span class="hljs-literal">null</span>)<span class="hljs-keyword">return</span> value};Writer.prototype.escapedValue=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escapedValue</span>(<span class="hljs-params">token,context</span>)</span>{<span class="hljs-keyword">var</span> value=context.lookup(token[<span class="hljs-number">1</span>]);<span class="hljs-keyword">if</span>(value!=<span class="hljs-literal">null</span>)<span class="hljs-keyword">return</span> mustache.escape(value)};Writer.prototype.rawValue=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rawValue</span>(<span class="hljs-params">token</span>)</span>{<span class="hljs-keyword">return</span> token[<span class="hljs-number">1</span>]};mustache.name=<span class="hljs-string">"mustache.js"</span>;mustache.version=<span class="hljs-string">"2.3.0"</span>;mustache.tags=[<span class="hljs-string">"{{"</span>,<span class="hljs-string">"}}"</span>];<span class="hljs-keyword">var</span> defaultWriter=<span class="hljs-keyword">new</span> Writer;mustache.clearCache=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearCache</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">return</span> defaultWriter.clearCache()};mustache.parse=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parse</span>(<span class="hljs-params">template,tags</span>)</span>{<span class="hljs-keyword">return</span> defaultWriter.parse(template,tags)};mustache.render=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">render</span>(<span class="hljs-params">template,view,partials</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> template!==<span class="hljs-string">"string"</span>){<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Invalid template! Template should be a "string" '</span>+<span class="hljs-string">'but "'</span>+typeStr(template)+<span class="hljs-string">'" was given as the first '</span>+<span class="hljs-string">"argument for mustache#render(template, view, partials)"</span>)}<span class="hljs-keyword">return</span> defaultWriter.render(template,view,partials)};mustache.to_html=<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">to_html</span>(<span class="hljs-params">template,view,partials,send</span>)</span>{<span class="hljs-keyword">var</span> result=mustache.render(template,view,partials);<span class="hljs-keyword">if</span>(isFunction(send)){send(result)}<span class="hljs-keyword">else</span>{<span class="hljs-keyword">return</span> result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer;<span class="hljs-keyword">return</span> mustache});

</pre>
        </td>
      </tr>
    
  </tbody>
</table>

  </div>
</body>
</html>
