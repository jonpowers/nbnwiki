<!DOCTYPE html>
<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/react-proxy/README.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h1">
        <a href="#react-proxy">React Proxy  </a>
      </div>

      <div class="heading h2">
        <a href="#requirements">Requirements</a>
      </div>

      <div class="heading h2">
        <a href="#usage">Usage</a>
      </div>

      <div class="heading h2">
        <a href="#features">Features</a>
      </div>

      <div class="heading h2">
        <a href="#known-limitations">Known Limitations</a>
      </div>

      <div class="heading h2">
        <a href="#contributing">Contributing</a>
      </div>

      <div class="heading h2">
        <a href="#license">License</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="react-proxy">
  <h1>
    <a href="#react-proxy" name="react-proxy" class="pilcrow"></a>
React Proxy <a href="https://travis-ci.org/gaearon/react-proxy"><img src="https://img.shields.io/travis/gaearon/react-proxy/master.svg?style=flat-square" alt="build status"></a> <a href="https://www.npmjs.com/package/react-proxy"><img src="https://img.shields.io/npm/v/react-proxy.svg?style=flat-square" alt="npm version"></a>
  </h1>
</div>
<p>A generic React component proxy useful for hot reloading.</p>
<div class="pilwrap" id="requirements">
  <h2>
    <a href="#requirements" name="requirements" class="pilcrow"></a>
Requirements
  </h2>
</div>
<ul>
<li>React 0.14+</li>
</ul>
<div class="pilwrap" id="usage">
  <h2>
    <a href="#usage" name="usage" class="pilcrow"></a>
Usage
  </h2>
</div>
<p>Intended to be used from hot reloading tools like React Hot Loader.<br>
If you’re an application developer, it’s unlikely you’ll want to use it directly.</p>
<p>You will need something like <a href="https://github.com/gaearon/react-deep-force-update">react-deep-force-update</a> to re-render the component tree after applying the update.</p>
<pre><code class="js"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComponentVersion1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Before hot update.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComponentVersion2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
  render() {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>After hot update.<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  }
}
</code></pre>
<p>Without React Proxy:</p>
<pre><code class="js"><span class="hljs-keyword">const</span> rootEl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>);
React.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ComponentVersion1</span> /&gt;</span>, rootEl);

// Will reset state and kill DOM :-(
React.render(<span class="hljs-tag">&lt;<span class="hljs-name">ComponentVersion2</span> /&gt;</span>, rootEl);
</span></code></pre>
<p>With React Proxy:</p>
<pre><code class="js"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-dom'</span>;
<span class="hljs-keyword">import</span> createProxy <span class="hljs-keyword">from</span> <span class="hljs-string">'react-proxy'</span>;
<span class="hljs-keyword">import</span> deepForceUpdate <span class="hljs-keyword">from</span> <span class="hljs-string">'react-deep-force-update'</span>;

<span class="hljs-comment">// Create a proxy object, given the initial React component class.</span>
<span class="hljs-keyword">const</span> proxy = createProxy(ComponentVersion1);

<span class="hljs-comment">// Obtain a React class that acts exactly like the initial version.</span>
<span class="hljs-comment">// This is what we'll use in our app instead of the real component class.</span>
<span class="hljs-keyword">const</span> <span class="hljs-built_in">Proxy</span> = proxy.get();

<span class="hljs-comment">// Render the component (proxy, really).</span>
<span class="hljs-keyword">const</span> rootInstance = render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Proxy</span> /&gt;</span>, rootEl);

// Point the proxy to the new React component class by calling update().
// Instances will stay mounted and their state will be intact, but their methods will be updated.
proxy.update(ComponentVersion2);

// Force-update the whole React component tree.
// Until React provides an official DevTools API to do this,
// you should keep the reference to the root instance(s).
deepForceUpdate(rootInstance);
</span></code></pre>
<div class="pilwrap" id="features">
  <h2>
    <a href="#features" name="features" class="pilcrow"></a>
Features
  </h2>
</div>
<ul>
<li>Supports both classic (<code>React.createClass()</code>) and modern (ES6 classes) style</li>
<li>Supports inherited and base classes (although you shouldn’t use inheritance with React)</li>
<li>Supports classic <code>createClass()</code> autobinding and modern <a href="https://github.com/andreypopp/autobind-decorator"><code>autobind-decorator</code></a></li>
<li>Contains an extensive test suite to avoid regressions</li>
<li>Preserves <code>displayName</code></li>
<li>Preserves enumerability and writability of methods</li>
<li>Preserves <code>toString()</code> of methods</li>
<li>Replaces instance getters and setters</li>
<li>Replaces instance methods preserving their identity</li>
<li>Replaces bound instance methods preserving their identity</li>
<li>Because identity is preserved, instance methods already scheduled for <code>setInterval</code> or <code>setTimeout</code> are updated</li>
<li>Replaces static getters and setters</li>
<li>Replaces unbound static methods</li>
<li>Replaces static properties unless they were overwritten by code</li>
<li>Sets up <code>this.constructor</code> to match the most recent class</li>
</ul>
<div class="pilwrap" id="known-limitations">
  <h2>
    <a href="#known-limitations" name="known-limitations" class="pilcrow"></a>
Known Limitations
  </h2>
</div>
<ul>
<li>Does not replace ES7 instance properties</li>
<li>Replacing a method using <a href="https://github.com/andreypopp/autobind-decorator"><code>autobind-decorator</code></a> causes its identity to change</li>
</ul>
<div class="pilwrap" id="contributing">
  <h2>
    <a href="#contributing" name="contributing" class="pilcrow"></a>
Contributing
  </h2>
</div>
<ol>
<li>Clone the repository</li>
<li>Run <code>npm install</code></li>
<li>Run <code>npm run test:watch</code></li>
<li>Take a look at the existing tests</li>
<li>Add tests for the failing case you aim to fix and make them pass</li>
<li>Submit a PR!</li>
</ol>
<div class="pilwrap" id="license">
  <h2>
    <a href="#license" name="license" class="pilcrow"></a>
License
  </h2>
</div>
<p>MIT</p>
</div>
  </div>
</body>
</html>
