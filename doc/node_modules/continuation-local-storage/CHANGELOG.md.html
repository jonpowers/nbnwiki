<!DOCTYPE html>
<html>
<head>
  <title>CHANGELOG.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="../../doc-style.css" />
  <script src="../../doc-filelist.js"></script>
  <script>
    var relativeDir = "../../";
    var thisFile = "node_modules/continuation-local-storage/CHANGELOG.md";
    var defaultSidebar = true;
  </script>
  <script src="../../doc-script.js"></script>

</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">

      <div class="heading h3">
        <a href="#v3.1.0-2014-07-28">v3.1.0 (2014-07-28):</a>
      </div>

      <div class="heading h3">
        <a href="#v3.0.0-2013-12-14">v3.0.0 (2013-12-14):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.6.2-2013-12-07">v2.6.2 (2013-12-07):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.6.1-2013-11-29">v2.6.1 (2013-11-29):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.6.0-2013-11-27">v2.6.0 (2013-11-27):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.5.2-2013-10-30">v2.5.2 (2013-10-30):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.5.1-2013-10-27">v2.5.1 (2013-10-27):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.5.0-2013-10-27">v2.5.0 (2013-10-27):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.4.4-2013-10-27">v2.4.4 (2013-10-27):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.4.3-2013-10-16">v2.4.3 (2013-10-16):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.4.2-2013-10-13">v2.4.2 (2013-10-13):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.4.1-2013-10-12">v2.4.1 (2013-10-12):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.4.0-2013-10-11">v2.4.0 (2013-10-11):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.3.4-2013-10-03">v2.3.4 (2013-10-03):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.3.3-2013-10-02">v2.3.3 (2013-10-02):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.3.2-2013-10-02">v2.3.2 (2013-10-02):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.3.1-2013-10-01">v2.3.1 (2013-10-01):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.3.0-2013-09-30">v2.3.0 (2013-09-30):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.2.1-2013-09-30">v2.2.1 (2013-09-30):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.2.0-2013-09-26">v2.2.0 (2013-09-26):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.1.2-2013-09-09">v2.1.2 (2013-09-09):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.1.1-2013-09-03">v2.1.1 (2013-09-03):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.1.0-2013-09-03">v2.1.0 (2013-09-03):</a>
      </div>

      <div class="heading h3">
        <a href="#v2.0.0-2013-09-01">v2.0.0 (2013-09-01):</a>
      </div>

      <div class="heading h3">
        <a href="#v1.1.1-2013-09-01">v1.1.1 (2013-09-01):</a>
      </div>

      <div class="heading h3">
        <a href="#v1.1.0-2013-07-30">v1.1.0 (2013-07-30):</a>
      </div>

      <div class="heading h3">
        <a href="#v1.0.1-2013-07-25">v1.0.1 (2013-07-25):</a>
      </div>

      <div class="heading h3">
        <a href="#v1.0.0-2013-07-25">v1.0.0 (2013-07-25):</a>
      </div>

      <div class="heading h3">
        <a href="#v0.1.1-2013-05-03">v0.1.1 (2013-05-03):</a>
      </div>

      <div class="heading h3">
        <a href="#v0.1.0-2013-05-03">v0.1.0 (2013-05-03):</a>
      </div>

    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container">
    <div class="docs markdown"><div class="pilwrap" id="v3.1.0-2014-07-28">
  <h3>
    <a href="#v3.1.0-2014-07-28" name="v3.1.0-2014-07-28" class="pilcrow"></a>
v3.1.0 (2014-07-28):
  </h3>
</div>
<ul>
<li>Updated to use <code>async-listener@0.4.7</code> to pick up bug fixes.</li>
</ul>
<div class="pilwrap" id="v3.0.0-2013-12-14">
  <h3>
    <a href="#v3.0.0-2013-12-14" name="v3.0.0-2013-12-14" class="pilcrow"></a>
v3.0.0 (2013-12-14):
  </h3>
</div>
<ul>
<li>Removed the notion of a &quot;default&quot; or &quot;global&quot; context per namespace. It only
existed to create a simpler interface for developing and testing the module,
and created the potential for nasty information disclosure bugs (see <a href="https://github.com/othiym23/node-continuation-local-storage/issues/14">issue
#14</a>
for details). This is potentially a breaking change, if you're depending on
the global context, so semver says we have to bump the major version.</li>
<li>Added this changelog.</li>
</ul>
<div class="pilwrap" id="v2.6.2-2013-12-07">
  <h3>
    <a href="#v2.6.2-2013-12-07" name="v2.6.2-2013-12-07" class="pilcrow"></a>
v2.6.2 (2013-12-07):
  </h3>
</div>
<ul>
<li><code>async-listener</code> and <code>emitter-listener</code> dependency refresh.</li>
</ul>
<div class="pilwrap" id="v2.6.1-2013-11-29">
  <h3>
    <a href="#v2.6.1-2013-11-29" name="v2.6.1-2013-11-29" class="pilcrow"></a>
v2.6.1 (2013-11-29):
  </h3>
</div>
<ul>
<li><code>emitter-listener</code> has been extracted from <code>shimmer</code> into a standalone
module for <code>namespace.bindEmitter()</code>.</li>
</ul>
<div class="pilwrap" id="v2.6.0-2013-11-27">
  <h3>
    <a href="#v2.6.0-2013-11-27" name="v2.6.0-2013-11-27" class="pilcrow"></a>
v2.6.0 (2013-11-27):
  </h3>
</div>
<ul>
<li>When an error is thrown in a CLS-bound continuation chain, attach the active
context for the namespace to which the chain is bound. This is necessary
because CLS and asyncListeners actually do too good a job of cleaning up
after errors, and so they don't escape the continuation chain. New Relic
needs the context so it can get the transaction active when the error
happened for error tracing.</li>
</ul>
<div class="pilwrap" id="v2.5.2-2013-10-30">
  <h3>
    <a href="#v2.5.2-2013-10-30" name="v2.5.2-2013-10-30" class="pilcrow"></a>
v2.5.2 (2013-10-30):
  </h3>
</div>
<ul>
<li><code>async-listener</code> dependency refresh for better support of node 0.8.0 - 0.8.3.</li>
</ul>
<div class="pilwrap" id="v2.5.1-2013-10-27">
  <h3>
    <a href="#v2.5.1-2013-10-27" name="v2.5.1-2013-10-27" class="pilcrow"></a>
v2.5.1 (2013-10-27):
  </h3>
</div>
<ul>
<li><code>async-listener</code> dependency refresh.</li>
</ul>
<div class="pilwrap" id="v2.5.0-2013-10-27">
  <h3>
    <a href="#v2.5.0-2013-10-27" name="v2.5.0-2013-10-27" class="pilcrow"></a>
v2.5.0 (2013-10-27):
  </h3>
</div>
<ul>
<li>Relax the requirement that CLS contexts be pushed and popped from a stack,
instead treating them as a set.  This allows context interleaving (i.e.
using the lower-level <code>namespace.enter()</code> and <code>namespace.exit()</code> API without
any strict ordering dependencies).  Everything works, but this still makes me
a little uneasy.</li>
<li>EEs can now be bound to multiple namespaces, although this is likely to be
slow.</li>
</ul>
<div class="pilwrap" id="v2.4.4-2013-10-27">
  <h3>
    <a href="#v2.4.4-2013-10-27" name="v2.4.4-2013-10-27" class="pilcrow"></a>
v2.4.4 (2013-10-27):
  </h3>
</div>
<ul>
<li>Even if you use an EE bound to a namespace outside a continuation chain, it
shouldn't explode.</li>
</ul>
<div class="pilwrap" id="v2.4.3-2013-10-16">
  <h3>
    <a href="#v2.4.3-2013-10-16" name="v2.4.3-2013-10-16" class="pilcrow"></a>
v2.4.3 (2013-10-16):
  </h3>
</div>
<ul>
<li><code>async-listener</code> dependency refresh.</li>
</ul>
<div class="pilwrap" id="v2.4.2-2013-10-13">
  <h3>
    <a href="#v2.4.2-2013-10-13" name="v2.4.2-2013-10-13" class="pilcrow"></a>
v2.4.2 (2013-10-13):
  </h3>
</div>
<ul>
<li>More tweaks for <code>async-listener</code> error handlers (just a dependency refresh).</li>
</ul>
<div class="pilwrap" id="v2.4.1-2013-10-12">
  <h3>
    <a href="#v2.4.1-2013-10-12" name="v2.4.1-2013-10-12" class="pilcrow"></a>
v2.4.1 (2013-10-12):
  </h3>
</div>
<ul>
<li><code>async-listener</code> error listeners have gotten lots of tweaks. Update to newest
API.</li>
<li>Only exit namespace context on error if a continuation chain is active.</li>
</ul>
<div class="pilwrap" id="v2.4.0-2013-10-11">
  <h3>
    <a href="#v2.4.0-2013-10-11" name="v2.4.0-2013-10-11" class="pilcrow"></a>
v2.4.0 (2013-10-11):
  </h3>
</div>
<ul>
<li><code>async-listener</code> now supports error listeners. Update to newest API.</li>
<li>Namespace context should be exited on asynchronous errors.</li>
</ul>
<div class="pilwrap" id="v2.3.4-2013-10-03">
  <h3>
    <a href="#v2.3.4-2013-10-03" name="v2.3.4-2013-10-03" class="pilcrow"></a>
v2.3.4 (2013-10-03):
  </h3>
</div>
<ul>
<li>When EEs are in the middle of emitting, make sure that calls to
<code>emitter.removeListener</code> are testing against non-monkeypatched versions of
the event handlers (necessary so certain Connect middleware functions, such
as <code>connect.limit</code>, run correctly).</li>
</ul>
<div class="pilwrap" id="v2.3.3-2013-10-02">
  <h3>
    <a href="#v2.3.3-2013-10-02" name="v2.3.3-2013-10-02" class="pilcrow"></a>
v2.3.3 (2013-10-02):
  </h3>
</div>
<ul>
<li>Ensure handler rebinding gets called even in case of errors.</li>
<li>Be consistent about making sure contexts are kept in a sane state when errors
are thrown in EEs.</li>
</ul>
<div class="pilwrap" id="v2.3.2-2013-10-02">
  <h3>
    <a href="#v2.3.2-2013-10-02" name="v2.3.2-2013-10-02" class="pilcrow"></a>
v2.3.2 (2013-10-02):
  </h3>
</div>
<ul>
<li>Guard <code>on</code> / <code>addListener</code> remonkeypatching in <code>namespace.bindEmitter()</code> so
that <code>shimmer</code> is only called to rebind if the monkeypatched versions have
actually been replaced.</li>
<li>Don't try to call emit if there are no listeners on a bound EE.</li>
<li>Don't use <code>setImmediate</code> in tests, because it's not available in Node 0.8.x.</li>
</ul>
<div class="pilwrap" id="v2.3.1-2013-10-01">
  <h3>
    <a href="#v2.3.1-2013-10-01" name="v2.3.1-2013-10-01" class="pilcrow"></a>
v2.3.1 (2013-10-01):
  </h3>
</div>
<ul>
<li>Update to newest version of <code>async-listener</code>.</li>
<li>Fix typo.</li>
</ul>
<div class="pilwrap" id="v2.3.0-2013-09-30">
  <h3>
    <a href="#v2.3.0-2013-09-30" name="v2.3.0-2013-09-30" class="pilcrow"></a>
v2.3.0 (2013-09-30):
  </h3>
</div>
<ul>
<li>EventEmitters can now be bound to CLS namespaces. Because EEs act as coupling
points between asynchronous domains, it's necessary for the EE binding to
capture the CLS context both when the listener is added, and when a matching
handler is firing because of a matching event being emitted.</li>
</ul>
<div class="pilwrap" id="v2.2.1-2013-09-30">
  <h3>
    <a href="#v2.2.1-2013-09-30" name="v2.2.1-2013-09-30" class="pilcrow"></a>
v2.2.1 (2013-09-30):
  </h3>
</div>
<ul>
<li>More tweaks to conform with <code>asyncListener</code> API changes.</li>
<li>Many more test cases to ensure <code>asyncListener</code> stuff is working with Node
0.8.x.</li>
</ul>
<div class="pilwrap" id="v2.2.0-2013-09-26">
  <h3>
    <a href="#v2.2.0-2013-09-26" name="v2.2.0-2013-09-26" class="pilcrow"></a>
v2.2.0 (2013-09-26):
  </h3>
</div>
<ul>
<li>Square up with latest <code>async-listener</code> / node PR #6011 changes.</li>
</ul>
<div class="pilwrap" id="v2.1.2-2013-09-09">
  <h3>
    <a href="#v2.1.2-2013-09-09" name="v2.1.2-2013-09-09" class="pilcrow"></a>
v2.1.2 (2013-09-09):
  </h3>
</div>
<ul>
<li>Document <code>namespace.createContext()</code>.</li>
<li>Fix issue where a value was <em>always</em> being returned from <code>namespace.run()</code>,
even on error.</li>
</ul>
<div class="pilwrap" id="v2.1.1-2013-09-03">
  <h3>
    <a href="#v2.1.1-2013-09-03" name="v2.1.1-2013-09-03" class="pilcrow"></a>
v2.1.1 (2013-09-03):
  </h3>
</div>
<ul>
<li>Clean up minor typo in docs.</li>
</ul>
<div class="pilwrap" id="v2.1.0-2013-09-03">
  <h3>
    <a href="#v2.1.0-2013-09-03" name="v2.1.0-2013-09-03" class="pilcrow"></a>
v2.1.0 (2013-09-03):
  </h3>
</div>
<ul>
<li>Incorporate documentation from failed CLS PR.</li>
<li><code>namespace.bind()</code> now also always exits the domain, even on error.</li>
<li>Namespaces can be destroyed.</li>
<li><code>cls.reset()</code> allows tests to nuke all existing namespaces (use with care
obviously).</li>
</ul>
<div class="pilwrap" id="v2.0.0-2013-09-01">
  <h3>
    <a href="#v2.0.0-2013-09-01" name="v2.0.0-2013-09-01" class="pilcrow"></a>
v2.0.0 (2013-09-01):
  </h3>
</div>
<ul>
<li>Use <code>async-listener</code> polyfill instead of <code>cls-glue</code>.</li>
<li>Incorporate tests from <code>cls-glue</code>.</li>
</ul>
<div class="pilwrap" id="v1.1.1-2013-09-01">
  <h3>
    <a href="#v1.1.1-2013-09-01" name="v1.1.1-2013-09-01" class="pilcrow"></a>
v1.1.1 (2013-09-01):
  </h3>
</div>
<ul>
<li>Namespace exits context even on error.</li>
</ul>
<div class="pilwrap" id="v1.1.0-2013-07-30">
  <h3>
    <a href="#v1.1.0-2013-07-30" name="v1.1.0-2013-07-30" class="pilcrow"></a>
v1.1.0 (2013-07-30):
  </h3>
</div>
<ul>
<li>Split createContext so it's part of the namespace API.</li>
<li>Tweak error message to be more informative.</li>
</ul>
<div class="pilwrap" id="v1.0.1-2013-07-25">
  <h3>
    <a href="#v1.0.1-2013-07-25" name="v1.0.1-2013-07-25" class="pilcrow"></a>
v1.0.1 (2013-07-25):
  </h3>
</div>
<ul>
<li>Correct Tim's email address.</li>
</ul>
<div class="pilwrap" id="v1.0.0-2013-07-25">
  <h3>
    <a href="#v1.0.0-2013-07-25" name="v1.0.0-2013-07-25" class="pilcrow"></a>
v1.0.0 (2013-07-25):
  </h3>
</div>
<ul>
<li>Each application of CLS is allocated its own &quot;namespace&quot;, which bind data to
continuation chains, either using <code>.run()</code> or <code>.bind()</code> to create a new
nested context. These nested contexts are prototype chains that point back to
a &quot;default&quot; / &quot;global&quot; context, with the default context for each namespace
being a prototype-free &quot;data bag&quot; created with <code>Object.create(null)</code>.</li>
</ul>
<div class="pilwrap" id="v0.1.1-2013-05-03">
  <h3>
    <a href="#v0.1.1-2013-05-03" name="v0.1.1-2013-05-03" class="pilcrow"></a>
v0.1.1 (2013-05-03):
  </h3>
</div>
<ul>
<li>Document progress thus far.</li>
</ul>
<div class="pilwrap" id="v0.1.0-2013-05-03">
  <h3>
    <a href="#v0.1.0-2013-05-03" name="v0.1.0-2013-05-03" class="pilcrow"></a>
v0.1.0 (2013-05-03):
  </h3>
</div>
<ul>
<li>First attempt: basic API, docs, and tests.</li>
</ul>
</div>
  </div>
</body>
</html>
